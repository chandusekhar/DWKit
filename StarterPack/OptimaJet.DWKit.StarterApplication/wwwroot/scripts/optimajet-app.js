!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-redux"),require("redux-actions"),require("semantic-ui-react"),require("es6-promise"),require("react-dom"),require("json5"),require("moment"),require("reflux"),require("react-fast-compare"),require("react-datepicker"),require("uuid"),require("react-data-grid"),require("react-dropzone-component"),require("react-grid-layout"),require("react-slick"),require("numeral"),require("react-router-dom"),require("redux"),require("redux-devtools-extension"),require("redux-thunk"),require("deepmerge"),require("isomorphic-fetch"),require("object-hash"),require("oidc-client"),require("react-modal"),require("@aspnet/signalr")):"function"==typeof define&&define.amd?define(["react","react-redux","redux-actions","semantic-ui-react","es6-promise","react-dom","json5","moment","reflux","react-fast-compare","react-datepicker","uuid","react-data-grid","react-dropzone-component","react-grid-layout","react-slick","numeral","react-router-dom","redux","redux-devtools-extension","redux-thunk","deepmerge","isomorphic-fetch","object-hash","oidc-client","react-modal","@aspnet/signalr"],t):"object"==typeof exports?exports["optimajet-app"]=t(require("react"),require("react-redux"),require("redux-actions"),require("semantic-ui-react"),require("es6-promise"),require("react-dom"),require("json5"),require("moment"),require("reflux"),require("react-fast-compare"),require("react-datepicker"),require("uuid"),require("react-data-grid"),require("react-dropzone-component"),require("react-grid-layout"),require("react-slick"),require("numeral"),require("react-router-dom"),require("redux"),require("redux-devtools-extension"),require("redux-thunk"),require("deepmerge"),require("isomorphic-fetch"),require("object-hash"),require("oidc-client"),require("react-modal"),require("@aspnet/signalr")):e["optimajet-app"]=t(e.react,e["react-redux"],e["redux-actions"],e["semantic-ui-react"],e["es6-promise"],e["react-dom"],e.json5,e.moment,e.reflux,e["react-fast-compare"],e["react-datepicker"],e.uuid,e["react-data-grid"],e["react-dropzone-component"],e["react-grid-layout"],e["react-slick"],e.numeral,e["react-router-dom"],e.redux,e["redux-devtools-extension"],e["redux-thunk"],e.deepmerge,e["isomorphic-fetch"],e["object-hash"],e["oidc-client"],e["react-modal"],e["@aspnet/signalr"])}(window,function(r,n,a,o,l,i,u,s,c,d,f,p,h,m,v,g,y,b,w,C,k,E,F,O,x,S,L){return A={},D.m=I=[function(e,t){e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(35),a=r(36),o=f(r(37)),l=f(r(38)),i=f(r(51)),u=f(r(52)),s=f(r(53)),c=f(r(6)),d=f(r(12));function f(e){return e&&e.__esModule?e:{default:e}}(0,n.combineReducers)({"":i.default,app:l.default,router:u.default,settings:s.default});var p=(0,n.createStore)(function(e,t){var r=0<arguments.length&&void 0!==e?e:{},n=t;return"UPDATESTATE"===n.type?(0,i.default)(r,n):{app:(0,l.default)(r.app,n,r),router:(0,u.default)(r.router,n,r),settings:(0,s.default)(r.settings,n,r)}},c.default,(0,a.composeWithDevTools)((0,n.applyMiddleware)(o.default)));p.getState().app.addQueryParams=function(e){for(var t in p.additionalParams||(p.additionalParams={}),e)p.additionalParams[t]=e[t]},p.resetForm=function(e){var t=p.getState();t.app.form=c.default.app.form,e&&(t.app.modals.models={})},p.logoff=function(){d.default.get(p).logoff()},window.DWKitStore=p,t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=l(r(41)),j=l(r(3)),N=r(4),P=l(r(1)),n=r(18),a=l(r(3)),O=l(r(16)),x=l(r(19)),T=l(r(7)),o=l(r(12));function l(e){return e&&e.__esModule?e:{default:e}}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=r(50),d={credentials:"same-origin"},f={},R={configuredFetch:function(e,t){var r=1<arguments.length&&void 0!==t?t:{},n=P.default.getState(),a=window.globalFetchOptions?window.globalFetchOptions():n.settings.fetchOptions?n.settings.fetchOptions:{},o=u({},d,a,r),l="",i=P.default.getState().settings;return i.backendUrl&&(l=i.backendUrl),l+=e,(0,s.default)(l,o)},userinfo:{fetch:function(r){return function(t){o.default.get(P.default).preFetchUser().then(function(){return t(j.default.app.userinfo.fetch.begin()),R.configuredFetch(P.default.getState().settings.accountget).then(function(e){return e.json()}).then(function(e){e.success?(t(j.default.app.userinfo.fetch.success(e.item)),r&&r()):t(j.default.app.userinfo.fetch.failure(e.message,e.details))}).catch(function(e){t(j.default.app.userinfo.fetch.failure(e.message,e.stack))})})}}},additional:{fetch:function(e){var E=e.type,_=e.controlRef,F=e.formName,O=e.startIndex,x=e.pageSize,S=e.filters,L=e.sort,D=e.callback,I=e.modalId,A=e.forCopy,V=e.row;return function(t){if("dictionary"===E){for(var e=_.props.dataModel,r=_.props.columns.split(",").map(function(e){return e.trim()}),n=[],a=[],o=0;o<r.length;o++){var l=r[o],i=l.split(/\s+/);1===i.length?a.push(l):2===i.length&&(a.push(i[0]),n.push({column:i[0],order:i[1]}))}var u={columns:JSON.stringify(a),sort:JSON.stringify(n),name:e};return null!=S&&(u.filter="string"==typeof S?S:JSON.stringify(S)),null!=O&&null!=x&&(u.paging=JSON.stringify({startIndex:O,pageSize:x})),M.dictionaryFetch(t,u,O,x,D,function(e){return{items:e.item.map(function(e){return{key:e.key,text:e.value,value:e.key,values:e.values}}),count:e.count}})}if("treepicker"===E){for(var s=_.props.dataModel,c=_.props.parentIdField,d=_.props.columns.split(",").map(function(e){return e.trim()}),f=[],p=[],h=0;h<d.length;h++){var m=d[h],v=m.split(/\s+/);1===v.length?p.push(m):2===v.length&&(p.push(v[0]),f.push({column:v[0],order:v[1]}))}var g={columns:JSON.stringify(p),sort:JSON.stringify(f),name:s,parent:c};if(S&&(g.filter=JSON.stringify(S)),void 0!==O&&x){var y=_.state.parentIdToFetch;g.paging=JSON.stringify({startIndex:O,pageSize:x,parentId:y})}return M.dictionaryFetch(t,g,O,x,D,function(e){return{items:e.item,count:e.count}})}if("gridview"===E){var b=M.createUrlData({type:E,controlRef:_,formName:F,startIndex:O,pageSize:x,filters:S,sort:L,callback:D,modalId:I,forCopy:A});return R.configuredFetch(P.default.getState().settings.dataget+"?"+(0,N.encodeQueryData)(b)).then(function(e){return e.json()}).then(function(e){e.success?D({sIndex:O,pSize:x,rowsCount:e.item["__"+b.propertyName+"_totalcount"],items:e.item[b.propertyName]}):t(j.default.app.form.data.fetch.failure(e.message,e.details))}).catch(function(e){t(j.default.app.form.data.fetch.failure(e.message,e.stack))})}if("repeater"===E){var w=M.createUrlData({type:E,controlRef:_,formName:F,startIndex:O,pageSize:x,filters:S,sort:L,callback:D,modalId:I,forCopy:A});return R.configuredFetch(P.default.getState().settings.dataget+"?"+(0,N.encodeQueryData)(w)).then(function(e){return e.json()}).then(function(e){e.success?D({sIndex:O,pSize:x,rowsCount:e.item["__"+w.propertyName+"_totalcount"],items:e.item[w.propertyName]}):t(j.default.app.form.data.fetch.failure(e.message,e.details))}).catch(function(e){t(j.default.app.form.data.fetch.failure(e.message,e.stack))})}if("workflowbar"!==E)return console.log("TODO: implement getAdditionalDataForControl method for "+E+" control"),Promise.resolve();var C;C=null!=V&&null!=V.__id?V.__id:I?P.default.getState().app.modals.windows[I].data.filter:T.default.formFilterFromLocation(P.default.getState().router.location);var k={name:F,forCopy:A};return null!==C&&(k.urlFilter=C),R.configuredFetch(P.default.getState().settings.workflowget+"?"+(0,N.encodeQueryData)(k)).then(function(e){return e.json()}).then(function(e){e.success?D(e.item):t(j.default.app.form.data.fetch.failure(e.message,e.details))}).catch(function(e){t(j.default.app.form.data.fetch.failure(e.message,e.stack))})}},exportToExcel:function(e){var t=e.type,n=e.controlRef,a=e.formName,o=e.startIndex,l=e.filters,i=e.sort,u=e.callback,s=e.modalId,c=e.forCopy,d=e.cols,f=e.pagerType,p=e.parameters;return function(e){var r=M.createUrlData({type:t,controlRef:n,formName:a,startIndex:o,pageSize:null,filters:l,sort:i,callback:u,modalId:s,forCopy:c,cols:d,pagerType:f,filename:p.filename});return new Promise(function(e,t){window.open(P.default.getState().settings.dataexport+"?"+(0,N.encodeQueryData)(r)),e()})}}},form:{clear:function(){return function(e){e(j.default.app.form.clear())}},fetchform:function(n,a){return function(r){r(j.default.app.form.model.fetch.begin());return R.configuredFetch(P.default.getState().settings.uiform+"/"+n+"?"+(0,N.encodeQueryData)({wrapresult:!0,enableSecurity:!0})).then(function(e){return e.json()}).then(function(e){if(e.success){var t=e.item;r(j.default.app.form.model.fetch.success(JSON.parse(t.source),t.mapping,n,a,{schemes:t.schemes,securityGroup:t.securityGroup,permissions:t.permissions,mapping:t.mapping,name:t.name}))}else r(j.default.app.form.model.fetch.failure(e.message,e.details))}).catch(function(e){r(j.default.app.form.model.fetch.failure(e.message,e.stack))})}},fetchflow:function(t,r,a,o){return function(n){var e={urlFilter:r};return o&&(e.forCopy=o),n(j.default.app.form.model.fetch.begin()),R.configuredFetch(P.default.getState().settings.uiflow+"/"+t+"?"+(0,N.encodeQueryData)(e)).then(function(e){return e.json()}).then(function(e){if(e.success){var t=e.item,r=null;a&&("string"==typeof a||a instanceof String?(r=a,n(j.default.app.form.model.change(t.name,a))):(r=a.id,a.name=t.name)),n(j.default.app.form.model.fetch.success(JSON.parse(t.source),t.mapping,t.name,r,{schemes:t.schemes,securityGroup:t.securityGroup,permissions:t.permissions,mapping:t.mapping,name:t.name}))}else n(j.default.app.form.model.fetch.failure(e.message,e.details))}).catch(function(e){n(j.default.app.form.model.fetch.failure(e.message,e.stack))})}},fetchdata:function(t,n,a,o,l){return function(r){r(j.default.app.form.data.fetch.begin());var e={name:a};return t&&(e.filter=JSON.stringify(t)),n&&(e.urlFilter=n),l&&(e.forCopy=!0),R.configuredFetch(P.default.getState().settings.dataget+"?"+(0,N.encodeQueryData)(e)).then(function(e){return e.json()}).then(function(e){if(e.success){var t=l||"object"===i(e.item)&&!Array.isArray(e.item)&&null===e.item.__id;r(j.default.app.form.data.fetch.success(JSON.parse(JSON.stringify(e.item),N.dateReviver),o,t))}else r(j.default.app.form.data.fetch.failure(e.message,e.details))}).catch(function(e){r(j.default.app.form.data.fetch.failure(e.message,e.stack))})}},savedata:function(e){var r=e.formName,_=e.modalId,F=e.state,n=e.data;return function(C){var k=_?F.app.modals.windows[_].data:F.app.form.data;C(j.default.app.form.data.save.begin());var e={name:r},t=new FormData,E=k.isNew;return t.append("data",JSON.stringify(n)),R.configuredFetch(P.default.getState().settings.datachange+"?"+(0,N.encodeQueryData)(e),{method:"post",body:t}).then(function(e){return e.json()}).then(function(e){if(e.success){var t="The changes have been applied!";window.DWKitAdminLang&&(t=window.DWKitAdminLang.msg.savedatasuccess),void 0!==e.message&&null!==e.message&&(t=e.message),alertify.success(t);var r=e.item,n=r?r.entity:null,a=r?r.entityId:null,o=null!=n,l=null!=a;if(C(o?j.default.app.form.data.save.success(n,_):j.default.app.form.data.save.success(null,_)),M.changeStateWithResult(e),_){var i=F.app.modals.windows[_],u=i.parentId,s=u?F.app.modals.models[F.app.modals.windows[u].name].model:F.app.form.models.model,c=O.default.getModelConrol(s,k.property);if(!c||"gridview"!==c["data-buildertype"]||"server"!==c.pagerType){var d=null,f=!!i.parentId;f&&(d=F.app.modals.windows[u].name);var p=k.property,h=F.app.modals.models[i.name].mapping.toData,m=f?F.app.modals.models[d].mapping.toForm:F.app.form.models.mapping.toForm;p&&(m=m[p]);var v=x.default.mapRow(x.default.mapRow(n,h,k.additionalValues),m);C(j.default.app.form.data.updatefromchild(p,v,i.parentId))}}var g={};if(E&&(o||l)){var y={};_?y.app={modals:{windows:S({},_,{data:{filter:l?a:o?n.__id:void 0}})}}:y.router={push:l?T.default.changeFilter(document.location,a):o?T.default.changeFilter(document.location,n.__id):void 0},g.stateDelta=y}return o&&(g.data=n),Promise.resolve(g)}M.changeStateWithResult(e);var b=null!==e.message?e.message:void 0,w=null!==e.details?e.details:void 0;throw null!==e.validationResult&&void 0!==e.validationResult?{level:1,message:b,details:w,formerrors:{modalId:_,errors:e.validationResult}}:{level:1,message:b,details:w}}).catch(function(e){throw e.stack&&!e.details&&(e.details=e.stack),e})}},updateData:function(t,r,n){return function(e){return e(j.default.app.form.data.update(t,r,n)),Promise.resolve()}},executeActions:function(e){return function(r){(0,n.userActionInvoker)(e,r).catch(function(e){if("object"===(void 0===e?"undefined":i(e))){var t=e.details;null!=e.stack&&(t=null==t?e.stack:t+"\nStack: "+e.stack),null!=console&&null!=t&&console.log(t),r(j.default.app.form.data.save.failure(e.message,e.details,e.level,e.formerrors))}else r(j.default.app.form.data.save.failure(e,void 0))})}}},common:{deleteByIds:function(n,a,o,l){return function(t){t(j.default.app.form.data.delete.begin());var e={name:n};a&&(e.propertyName=a);var r=new FormData;return Array.isArray(o)?r.append("data",JSON.stringify(o)):r.append("data",JSON.stringify([o])),R.configuredFetch(P.default.getState().settings.datadelete+"?"+(0,N.encodeQueryData)(e),{method:"post",body:r}).then(function(e){return e.json()}).then(function(e){e.success?(M.changeStateWithResult(e),t(j.default.app.form.data.delete.success(n)),l&&l(e)):(M.changeStateWithResult(e),t(j.default.app.form.data.delete.failure(null!==e.message?e.message:void 0,null!==e.details?e.details:void 0,void 0,null!==e.validationResult&&void 0!==e.validationResult?{main:e.validationResult}:void 0)))}).catch(function(e){t(j.default.app.form.data.delete.failure(e.message,e.details))})}},setCookie:function(e,t,r){M.setCookie(e,t,r)},getCookie:function(e){return M.getCookie(e)},getParameterFormUrlOrCookie:function(){var e=T.default.getParamValue(document.location,"impersonatedUserId");return e=e||M.getCookie("impersonatedUserId")}},selectScheme:function(r){return function(e){var t=P.default.getState().app.schemeSelection;t.modalId?e(j.default.updatestate({app:{modals:{windows:S({},t.modalId,{selectedScheme:r})},schemeSelection:null}})):e(j.default.updatestate({app:{form:{selectedScheme:r},schemeSelection:null}}))}}},M={createUrlDataForCollections:function(e){e.type;var t=e.controlRef,r=e.formName,n=e.startIndex,a=e.pageSize,o=e.filters,l=e.sort,i=(e.callback,e.modalId),u=e.forCopy,s=e.cols,c=e.pagerType,d=e.filename,f=a?{startIndex:n,pageSize:a}:void 0,p=o,h=[];l&&l.split(",").forEach(function(e){var t=e.trim().split(" ");1<t.length?h.push({column:t[0].trim(),Order:t[1].trim()}):h.push({column:t[0].trim(),Order:"ASC"})});var m={};i?m.urlFilter=P.default.getState().app.modals.windows[i].data.filter:m=T.default.formDataFromLocation(P.default.getState().router.location);var v=t.props.name,g=t.props.propertyName,y={control:v,propertyName:g||v,name:_.toLower(r)};return u&&(y.forCopy=u),f&&(y.paging=JSON.stringify(f)),p&&(y.filter=JSON.stringify(p)),h&&(y.sort=JSON.stringify(h)),s&&(y.cols=s),m.options&&(y.options=m.options),m.urlFilter&&(y.urlFilter=m.urlFilter),c&&(y.pagerType=c),d&&(y.fileName=d),y},createUrlData:function(e){switch(e.type){case"gridview":case"repeater":return this.createUrlDataForCollections(e);default:throw new Error("unknown type")}},changeStateWithResult:function(e){void 0!==e.result&&null!==e.result&&P.default.dispatch(a.default.updatestate(e.result))},getCookie:function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},setCookie:function(e,t,r){var n=(r=r||{}).expires;if("number"==typeof n&&n){var a=new Date;a.setTime(a.getTime()+1e3*n),n=r.expires=a}n&&n.toUTCString&&(r.expires=n.toUTCString());var o=e+"="+(t=encodeURIComponent(t));for(var l in r){o+="; "+l;var i=r[l];!0!==i&&(o+="="+i)}document.cookie=o+"; path=/"},dictionaryFetch:function(t,e,r,n,a,o){var l=c(e),i=null;return f[l]?i=f[l]:(i=R.configuredFetch(P.default.getState().settings.datadictionary+"?"+(0,N.encodeQueryData)(e)).then(function(e){return e.json()}).then(function(e){if(e.success)return o(e);t(j.default.app.form.data.fetch.failure(e.message,e.details))}).catch(function(e){t(j.default.app.form.data.fetch.failure(e.message,e.stack))}).finally(function(){f[l]=void 0}),f[l]=i),i.then(function(e){e&&a({sIndex:r,pSize:n,rowsCount:e.count,items:e.items})})}};t.default=R},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(0,r(8).createActions)({UPDATESTATE:function(e){return{stateDelta:e}},APP:{USERINFO:{FETCH:{BEGIN:void 0,SUCCESS:function(e){return{user:e}},FAILURE:function(e,t){return{error:e,details:t}}}},CLEARERRORS:void 0,FAILURE:function(e,t,r){return{error:e,details:t,level:r}},FETCHBEGIN:void 0,RESETFETCHCOUNT:void 0,IMPERSONATEDUSERIDFROMURL:void 0,SETAUTH:function(e){return{type:e}},FORM:{MODEL:{FETCH:{BEGIN:void 0,SUCCESS:function(e,t,r,n,a){return{model:e,name:r,modalId:n,formParams:a,mapping:t}},FAILURE:function(e,t){return{error:e,details:t}}},CHANGE:function(e,t){return{name:e,modalId:t}}},DATA:{FETCH:{BEGIN:void 0,SUCCESS:function(e,t,r){return{data:e,isNew:r,modalId:t}},FAILURE:function(e,t){return{error:e,details:t}}},UPDATE:function(e,t,r,n){return{key:e,value:t,modalId:r,additionalValues:n}},SAVE:{BEGIN:void 0,SUCCESS:function(e,t,r){return{data:e,url:r,modalId:t}},FAILURE:function(e,t,r,n){return{error:e,details:t,level:r,formerrors:n}}},DELETE:{BEGIN:void 0,SUCCESS:function(e){return{name:e}},FAILURE:function(e,t,r,n){return{error:e,details:t,level:r,formerrors:n}}},UPDATEFROMCHILD:function(e,t,r){return{key:e,value:t,modalId:r}},UPDATEMODALFILTER:function(e,t){return{filter:e,modalId:t}}},CLEAR:function(e){return{modalId:e}},REFRESH:function(e){return{modalId:e}}}},ROUTER:{PUSH:function(e){return{newurl:e}},REDIRECT:function(e){return{newurl:e}},REFRESH:function(){return{newurl:"refresh"}},RELOAD:function(){return{newurl:"reload"}},ROUTECHANGED:function(e,t){return{history:e,location:t}},CHANGEURLFILTER:function(e,t){return{newfilter:e,clearCommand:t}}},SETTINGS:{SET:function(e,t){return{key:e,value:t}}}});t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cloneDataObject=t.dateReviver=t.isNull=t.uuid=t.mergeDeep=t.findFormElement=t.isEmptyObject=t.encodeQueryData=t.jsonEqual=t.convertParentChildArrayToTree=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=i(r(39)),l=i(r(1));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return t}var s=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)(Z|([+\-])(\d{2}):(\d{2}))$/;t.convertParentChildArrayToTree=function(e,t,r,n){var a=1<arguments.length&&void 0!==t?t:function(e){return e.id},o=2<arguments.length&&void 0!==r?r:function(e){return e.parentId},l=3<arguments.length&&void 0!==n?n:function(e){return e.SortOrder},i=null,u=e.map(function(e){return{id:a(e),parentid:o(e),order:l(e)}}),s=u.filter(function(e){return!e.parentid});if(1===s.length)(i=[s[0]]).parent=null,i.children=u.filter(function(e){return e.parentid===i.id}).sort(function(e){return e.sort});else{if(0===s.length)throw"At least one element have to be a parent";(i={id:null,parentid:null,parent:null}).children=s.sort(function(e){return e.sort})}return i.children&&0<i.children.length&&i.children.forEach(function(e){return function t(r,e){r.parent=e,r.children=u.filter(function(e){return e.parentid===r.id}).sort(function(e){return e.sort}),r.children&&0<r.children.length&&r.children.forEach(function(e){return t(e,r)})}(e,i)}),i},t.jsonEqual=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},t.encodeQueryData=function(e){var t=[],r=l.default.getState();for(var n in r.app.impersonatedUserId&&t.push("impersonatedUserId="+encodeURIComponent(r.app.impersonatedUserId)),e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},t.isEmptyObject=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.findFormElement=function(e,r){function n(e){if(e[a]===r)return e;var t=null;return e.children&&0<e.children.length&&(t=e.children.find(function(e){return null!=n(e)})),t}var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"key";return function(e){for(var t=0;t<e.length;t++){var r=n(e[t]);if(r)return r}return null}(e)},t.mergeDeep=function(e,t){return(0,n.default)(e,t,{arrayMerge:u})},t.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},t.isNull=function(e){return"object"===(void 0===e?"undefined":o(e))&&null===e||void 0===e},t.dateReviver=function(e,t){return"string"==typeof t&&s.test(t)?new Date(t):t},t.cloneDataObject=function(e){var t=a({},e);for(var r in t)if(Array.isArray(t[r])){var n=[];e[r].forEach(function(e){"object"==(void 0===e?"undefined":o(e))?n.push(a({},e)):n.push(e)}),t[r]=n}return t}},function(e,t){e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={app:{user:null,impersonatedUserId:null,fetchCount:0,error:void 0,errorDetails:void 0,modals:{models:{},windows:{},order:[]},form:{models:{model:null,mapping:null,hideControls:null,readOnlyControls:null,readOnly:null},filters:{main:null},data:{isDirty:!1,isNew:!1,original:null,modified:null},errors:null,formParams:{schemes:null,securityGroup:void 0,permissions:null,name:null},selectedScheme:null},schemeSelection:null,authType:"identityserver"},router:{history:null,redirect:null,location:null,push:null,filter:null},settings:{backendUrl:"",fetchOptions:void 0,form:"form",flow:"flow",accountget:"/account/get",uiform:"/ui/form",uiflow:"/ui/flow",dataget:"/data/get",datachange:"/data/change",datadelete:"/data/delete",datadictionary:"/data/dictionary",dataupload:"/data/upload/",datadownload:"/data/download/",dataexport:"/data/export",workflowget:"/workflow/get",workflowexecute:"/workflow/execute",workflowset:"/workflow/set",notificationhub:"/hubs/notifications",executeaction:"/actions/execute"}};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(1),o=(n=a)&&n.__esModule?n:{default:n};var l=["copy"];function i(e){var t={urlFilter:null,type:null,name:null,options:null,command:null};if(e){var r=e.pathname;return r.includes("?")?u(r.split("?")[0],t):u(r,t)}return t}function u(e,t){var r=e.split("/");if(1<r.length&&(t.type=r[1]),2<r.length&&(t.name=r[2]),3<r.length&&(t.urlFilter=r[3]),5===r.length){var n=r[4];l.includes(n)?t.command=n:t.options=n}return 5<r.length&&(t.command=r[4],t.options=r[5]),t}function s(e,t,r){var n=!(2<arguments.length&&void 0!==r)||r,a=e.split("/");return 3<a.length?a[3]=t:a.push(t),n&&4<a.length&&l.includes(a[4])&&(5===a.length?a.pop():a.slice(4,1)),a.join("/")}var c={filterFromLocation:function(e){return i(e).urlFilter},formFilterFromLocation:function(e){var t=i(e),r=t.type,n=t.urlFilter;return!r||r!==o.default.getState().settings.form&&r!==o.default.getState().settings.flow?null:n},nameFromLocation:function(e,t){var r=i(e),n=r.type,a=r.name;return n&&n.toLowerCase()===t?a:null},changeFilter:function(e,t,r){var n=e.pathname;if(n.includes("?")){var a=n.split("?");return s(a[0],t,r)+"?"+a[1]}return s(n,t,r)},formDataFromLocation:function(e){var t=i(e),r=t.urlFilter,n=t.options;return t.type!==o.default.getState().settings.form?{urlFilter:null,options:null}:{urlFilter:r,options:n}},deconstructLocation:function(e){return i(e)},getParamValue:function(e,t){return!e.search||e.search.length<2?null:new URLSearchParams(e.search.substring(1)).get(t)}};t.default=c},function(e,t){e.exports=a},function(e,t){e.exports=o},function(e,t){e.exports=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapStateToPropsBase=t.mapDispatchToPropsFormBase=void 0;var f=n(r(2)),a=n(r(3)),s=r(4),c=n(r(7));function n(e){return e&&e.__esModule?e:{default:e}}t.mapDispatchToPropsFormBase=function(d){return{fetchData:function(e,t,r,n,a){d(f.default.form.fetchdata(e,t,r,n,a))},dataChanged:function(e,t,r,n){d(a.default.app.form.data.update(e,t,n,r))},executeActions:function(e){d(f.default.form.executeActions(e))},additionalFetch:function(e,t,r,n,a,o){var l=a.startIndex,i=a.pageSize,u=a.filters,s=a.sort,c=a.row;d(f.default.additional.fetch({type:n.props["data-buildertype"],formName:e(),controlRef:n,startIndex:l,pageSize:i,filters:u,sort:s,callback:o,modalId:t,forCopy:r,row:c}))}}},t.mapStateToPropsBase=function(e){var t=e.app.form.filters.main,r={};if(t)for(var n in t)if(t.hasOwnProperty(n)){var a=t[n].filter(function(e){return null!==e.value}).map(function(e){return{column:e.column,term:e.term,value:e.value}});0<a.length&&(r[n]=a)}var o=e.app.form.data.modified,l=c.default.deconstructLocation(e.router.location),i=l.urlFilter,u=l.command;return{filter:i,model:e.app.form.models.model,data:null==o?void 0:Array.isArray(o)?[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(o)):(0,s.cloneDataObject)(o),mainControlFilters:r,errors:e.app.form.errors?e.app.form.errors:void 0,hideControls:e.app.form.models.hideControls,readOnlyControls:e.app.form.models.readOnlyControls,readOnly:e.app.form.models.readOnly,dimmed:Object.values(e.app.modals.windows).some(function(e){return"sidebar"===e.type}),selectedScheme:e.app.form.selectedScheme,schemes:null===e.app.form.formParams||void 0===e.app.form.formParams?void 0:e.app.form.formParams.schemes,command:u}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(34)),a=o(r(55));function o(e){return e&&e.__esModule?e:{default:e}}var l={get:function(e){return"cookie"!==e.getState().app.authType?n.default:a.default}};t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(2),w=(n=a)&&n.__esModule?n:{default:n},C=r(10);var o={open:function(e,t,r,n,a,o,l,i,u,s,c,d,f,p){null===n&&(n=void 0);var h="form"===i,m=h?t.app.modals.models[r]:null,v=[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(t.app.modals.order)),g=r+"_"+v.length;v.push(g);var y={isDirty:!1,isNew:o,original:n,modified:n,additionalValues:{},filter:a,property:l},b={};return b[g]={id:g,parentId:e,data:y,errors:null,name:h?r:null,type:i,viewType:u,sidebarSettings:s,onOpenFunc:c,onCloseFunc:d,preventLoad:void 0!==n,flowName:h?void 0:r,keyIndex:0,callContext:f,closeOnOutsideClick:p},h?!m&&h?function(e){return w.default.form.fetchform(r,g)(e).then(function(){if(b[g].onOpenFunc&&0==b[g].onOpenFunc(g,b[g],t))return{};return C.Promise.resolve({stateDelta:{app:{modals:{windows:b,order:v}}}})})}:{app:{modals:{windows:b,order:v}}}:function(e){return w.default.form.fetchflow(r,a,b[g],o&&!!a)(e).then(function(){if(b[g].onOpenFunc&&!b[g].onOpenFunc(g,b[g],t))return{};return C.Promise.resolve({stateDelta:{app:{modals:{windows:b,order:v}}}})})}}};t.default=o},function(e,t){e.exports=i},function(e,t){e.exports=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(0)),p=a(r(1)),f=a(r(3)),h=r(18),l=a(r(2)),i=r(4);function a(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t,r,a){var n=new FormData;n.append("request",JSON.stringify(t));var o=l.default.configuredFetch(p.default.getState().settings.executeaction+"?"+(0,i.encodeQueryData)({name:e}),{method:"post",body:n});if(o=o.then(function(e){return e.json()}),r&&(o=o.then(function(e){var t=r(e);return void 0!==t?t:e})),o=o.then(function(e){if(null!=e){if(e.success){var t={},r=!1,n=e.result;return null==n?{}:(n.hasOwnProperty("data")&&(t.data=n.data,r=!0),n.hasOwnProperty("stateDelta")&&(t.stateDelta=n.stateDelta,r=!0),r||(t.stateDelta=n),a&&p.default.dispatch(f.default.updatestate(t.stateDelta)),t)}if(!a)throw{level:1,message:e.message,details:e.details};p.default.dispatch(f.default.app.failure(e.message,e.details,1))}return{}}),!a)return o},m={getModelConrol:function(e,t){for(var r in e){var n=e[r];if(n.key==t)return n;if(n.children&&0<n.children.length){var a=m.getModelConrol(n.children,t);if(null!=a)return a}}},changeModelControl:function(e,t,r,n){return m.changeModelControls(e,[{key:t,name:r,value:n}])},changeModelControls:function(e,t){function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.key==n.key&&(e[n.name]=n.value)}if(null!=e.children&&0<e.children.length)for(var a in e.children){o(e.children[a],t)}}var r=e.state.app.form.models.model;for(var n in r){o(r[n],t)}return{app:{form:{models:{model:r}}}}},setDataField:function(e,t,r){p.default.dispatch(f.default.app.form.data.update(e,t,r))},rewriteControlModel:function(e,t){var r=p.default.getState().app.form.models.model,n=m.getModelConrol(r,e),a=t(n);if(a!==n)for(var o in a)n[o]=a[o]},clearErrors:function(){p.default.dispatch(f.default.app.clearerrors())},forceUpdate:function(){p.default.dispatch(f.default.updatestate({}))},redirectToForm:function(e,t){m.redirect("form",e,t)},redirectToFlow:function(e,t){m.redirect("flow",e,t)},redirectToPage:function(e,t){m.redirect("page",e,t)},redirect:function(e,t,r){var n="/"+e+"/"+t;null!=r&&(n+="/"+r),p.default.dispatch(f.default.router.push(n))},formValidate:function(e){return h.defaultActions.validate(e)},createElement:function(e,t,r){return n.default.createElement(e,t,r)},checkRole:function(e){return h.formHelper.checkRole(e,p.default.getState())},checkPermission:function(e,t){return h.formHelper.checkPermission(e,p.default.getState(),t)},callUrl:function(e,t,r){var n=l.default.configuredFetch(e,t).then(function(e){return e.json()});return r&&(n=n.then(function(e){return r(e)})),n},callServerCodeAction:function(e,t,r){return o(e,t,r,!1)},callServerCodeActionDispatch:function(e,t,r){o(e,t,r,!0)},openModal:function(e,t,r){var n=r.type,a=r.viewType,o=r.sidebarWidth,l=r.sidebarFrom,i=r.onOpenFunc,u=r.onCloseFunc,s=r.callContext,c=r.closeOnOutsideClick,d=p.default.getState(),f=d.app.modals.order.length?d.app.modals.order[d.app.modals.order.length-1]:null;return h.defaultActions.openModal({modalId:f,state:d,controlRef:void 0,parameters:{filter:t,name:e,type:n,viewType:a,sidebarSettings:{from:l,width:o},onOpenFunc:i,onCloseFunc:u,closeOnOutsideClick:c},callContext:s})},openModalDispatch:function(e,t,r){var n=r.type,a=r.viewType,o=r.sidebarWidth,l=r.sidebarFrom,i=r.onOpenFunc,u=r.onCloseFunc,s=r.callContext,c=r.closeOnOutsideClick,d=m.openModal(e,t,{type:n,viewType:a,sidebarWidth:o,sidebarFrom:l,onOpenFunc:i,onCloseFunc:u,callContext:s,closeOnOutsideClick:c});"function"==typeof d?d(p.default.dispatch).then(function(e){e&&e.stateDelta&&p.default.dispatch(f.default.updatestate(e.stateDelta))}):p.default.dispatch(f.default.updatestate(d))},executeActions:function(e){return l.default.form.executeActions(e)},executeActionsDispatch:function(e){p.default.dispatch(l.default.form.executeActions(e))},setCookie:function(e,t){l.default.common.setCookie(e,t)},getCookie:function(e){return l.default.common.getCookie(e)},getParameterFormUrlOrCookie:function(e){return l.default.common.getParameterFormUrlOrCookie(e)},setAuth:function(e){p.default.dispatch(f.default.app.setauth(e))}};t.default=m},function(e,o,l){"use strict";(function(e){var t,r,n,a,mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window,a=function(r,n,a,o,l,i,u,s,c,d,f,p,h,m){return y={},v.m=g=[function(e,t){e.exports=r},function(e,t){e.exports=n},function(e,t){e.exports=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R="function"==typeof Symbol&&"symbol"==mu(Symbol.iterator)?function(e){return void 0===e?"undefined":mu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":mu(e)};function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var M=i(r(0)),o=i(r(2)),z=r(1),B=i(r(10)),U=i(r(11)),l=i(r(20));function i(e){return e&&e.__esModule?e:{default:e}}var u,s,c,d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,M.default.Component),u=f,(s=[{key:"applyCollapseAll",value:function(e){for(var t in e)null==this.state.expanded[t]&&(this.state.expanded[t]=!1)}},{key:"renderHeaderRow",value:function(e){var u=[],s=0;if(e.forEach(function(e){var t,r,n,a,o=void 0;"object"===(void 0===e?"undefined":R(e))?(t=e.key,r=e.name,n=e.width,Array.isArray(e.dataList)&&(o=e.dataList)):r=t=e,null!=r&&2<=r.length&&(r=r.charAt(0).toUpperCase()+r.slice(1));var l=void 0;if(null!=o){l=t+"_datalist";var i=[];o.forEach(function(e){i.push(M.default.createElement("option",{key:e,value:e}))}),a=M.default.createElement("datalist",{key:l,id:l},i)}u.push(M.default.createElement("td",{key:s,style:{width:n}},r,a)),s++}),!this.props.readOnly&&!0!==this.props.disableAdd){var t="Add";null!=window.DWKitAdminLang&&null!=window.DWKitAdminLang.collectioneditor&&(t=window.DWKitAdminLang.collectioneditor.add),u.push(M.default.createElement("td",{key:"btntd",className:"dwkit-collectioneditor-buttoncol"},M.default.createElement("a",{key:"btnadd",className:"dwkit-btn",onClick:this.btnAdd.bind(this)},t)))}return M.default.createElement("tr",{key:"headertr",className:"dwkit-collectioneditor-header"},u)}},{key:"getDragColumn",value:function(e,t){var r=!this.props.readOnly&&Boolean(this.props.draggable);if(r)return M.default.createElement("div",{draggable:r,onDragStart:this.onDragStart.bind(this,t,e),onDragEnd:this.onDragEnd.bind(this,t,e),onDragOver:this.onDragOver.bind(this),onDrop:this.onDrop.bind(this,t,e),key:"celldrag",className:"dwkit-collectioneditor-action"},M.default.createElement(z.Icon,{onClick:this.onExpand.bind(this,t,!1),name:"ellipsis vertical"}))}},{key:"getFilteredItems",value:function(e,t){var r=[];return void 0===e?r:r=void 0!==t?e.filter(function(e){return t.IsRowMatched(e)}):e}},{key:"renderRows",value:function(e,t,r,n,a,o){var l=this,i=this,u=[],s=t;null==a&&(a=0),void 0===o&&(o=""),this.props.filter&&(s=this.getFilteredItems(s,this.props.filter));for(var c=0;c<s.length;c++)if(void 0!==this.props.childrenField||!this.props.hierarchical||s[c][this.props.parentIdField]==n){var d=this.getDragColumn(s,c),f=void 0,p=void 0;if(this.props.hierarchical){var h=void 0,m=o+String(c+"_");if(void 0!==this.props.parentIdField&&""!==this.props.parentIdField){var v=s[c][this.props.idField]||s[c].__id;if(null!=v&&""!=v&&0<(p=this.renderRows(e,t,r,v,a+1,m)).length){var g=this.state.expanded[o+c];null==g||g?h=M.default.createElement("img",{onClick:this.onExpand.bind(this,o+c,!1),className:"dwkit-collectioneditor-imgbutton",src:"/images/collapse.svg"}):(h=M.default.createElement("img",{onClick:this.onExpand.bind(this,o+c,!0),className:"dwkit-collectioneditor-imgbutton",src:"/images/expand.svg"}),p=void 0)}}else if(Array.isArray(s[c][this.props.childrenField])&&0<s[c][this.props.childrenField].length){if(0<(p=this.renderRows(e,s[c][this.props.childrenField],r,void 0,a+1,m)).length){var y=this.state.expanded[o+c];null==y||y?h=M.default.createElement("img",{onClick:this.onExpand.bind(this,o+c,!1),className:"dwkit-collectioneditor-imgbutton",src:"/images/collapse.svg"}):(h=M.default.createElement("img",{onClick:this.onExpand.bind(this,o+c,!0),className:"dwkit-collectioneditor-imgbutton",src:"/images/expand.svg"}),p=void 0)}}else h=M.default.createElement("img",{style:{opacity:0},className:"dwkit-collectioneditor-imgbutton",src:"/images/collapse.svg"});f=M.default.createElement("div",{className:"dwkit-collectioneditor-action"},h)}var b=[],w=void 0;Array.isArray(r)&&0<r.length&&(void 0!==r[0].__id&&null!==r[0].__id?function(){var t=s[c].__id;void 0!==t&&null!=t&&(w=r.find(function(e){return e.__id===t}))}():w=r[c]);for(var C=0;C<e.length;C++){var k=void 0,E=this.props.readOnly?"":"input",_=void 0,F=void 0;"object"===R(e[C])?(k=e[C].key,E=e[C].control,Array.isArray(e[C].dataList)&&(_=k+"_datalist"),Array.isArray(e[C].options)&&(F=e[C].options)):k=e[C];var O=void 0;null!=w&&(O=Boolean(w[k]));var x=void 0;if("checkbox"===E)x=M.default.createElement(z.Form.Checkbox,{key:c+"_"+C,name:k,checked:Boolean(s[c][k]),readOnly:Boolean(this.props.readOnly),error:O,onChange:this.handleChange.bind(this,s[c])});else if("span"===E)x=M.default.createElement("span",{key:c+"_"+C,name:k},s[c][k]);else if("number"===E){var S=null==s[c][k]?"":s[c][k];x=M.default.createElement(z.Form.Input,{key:c+"_"+C,name:k,type:"number",error:O,value:S,readOnly:Boolean(this.props.readOnly),onChange:this.handleChange.bind(this,s[c])})}else if("date"===E){var L=null==s[c][k]?"":s[c][k];x=M.default.createElement(U.default,{key:c+"_"+C,name:k,type:"date",error:O,value:L,isForm:!0,readOnly:Boolean(this.props.readOnly),onChange:this.handleChange.bind(this,s[c])})}else if("datetime"===E){var D=null==s[c][k]?"":s[c][k];x=M.default.createElement(U.default,{key:c+"_"+C,name:k,type:"datetime",error:O,value:D,isForm:!0,readOnly:Boolean(this.props.readOnly),onChange:this.handleChange.bind(this,s[c])})}else if("dropdown"===E){var I=null==s[c][k]?e[C].multiple?[]:"":s[c][k];x=M.default.createElement(z.Form.Dropdown,{key:c+"_"+C,name:k,multiple:Boolean(e[C].multiple),placeholder:e[C].placeholder,error:O,value:I,options:F,readOnly:Boolean(this.props.readOnly),onChange:this.handleChange.bind(this,s[c]),selection:!0,fluid:!0,search:!0})}else if("file"===E||"file2"===E){var A=null==s[c][k]?"":s[c][k];x=M.default.createElement(B.default,{key:c+"_"+C,name:k,error:O,value:A,readOnly:Boolean(this.props.readOnly),onChange:this.handleChange.bind(this,s[c]),downloadUrl:this.props.downloadUrl,uploadUrl:this.props.uploadUrl,isForm:!0,hideClearButton:"file2"===E})}else if("custom"===E){var V=null==s[c][k]?"":s[c][k];if(null!=this.props.placeholders&&Array.isArray(this.props.placeholders[k])&&0<this.props.placeholders[k].length){var j=this.props.placeholders[k][0];null!=j&&function(){j.key=k;var n=s[c];x=l.props.createControl(l,j["data-buildertype"],{model:j,data:n,errors:w,parentItem:l.props.name,buildermode:l.props.buildermode,handleEvent:function(e){null==e.parameters&&(e.parameters={}),null==e.parameters.row&&(e.parameters.row=n),"onChange"===e.eventName?i.handleChange(n,e.syntheticEvent,e):i.props.handleEvent(e)},getAdditionalDataForControl:function(e,t,r){return null==t&&(t={}),null==t.row&&(t.row=n),i.props.getAdditionalDataForControl(e,t,r)},readOnly:l.props.readOnly,uploadUrl:l.props.uploadUrl,downloadUrl:l.props.downloadUrl,controlsToReplace:[]})}()}else this.props.buildermode&&null!=this.props.createBuilderDropzone&&(x=this.props.createBuilderDropzone(k,V))}else{var N=null==s[c][k]?"":s[c][k];x=M.default.createElement(z.Form.Input,{key:c+"_"+C,name:k,list:_,error:O,value:N,readOnly:Boolean(this.props.readOnly),onChange:this.handleChange.bind(this,s[c])})}if(0===C){var P=void 0;a&&(P=String(15*a+5)+"px"),b.push(M.default.createElement("td",{key:c+"_"+C+"td",style:{paddingLeft:P}},f,d,x))}else b.push(M.default.createElement("td",{key:c+"_"+C+"td"},x))}if(!this.props.readOnly){var T=!0!==this.props.disableAdd;this.props.hierarchical?b.push(M.default.createElement("td",{key:"celldelete",className:"dwkit-collectioneditor-cellbtn"},M.default.createElement("div",{className:"field"},T&&M.default.createElement(z.Icon,{key:"addchild",onClick:this.btnAddChild.bind(this,c,s),link:!0,name:"add"}),T&&M.default.createElement(z.Icon,{key:"copy",onClick:this.btnCopy.bind(this,c,s),link:!0,name:"copy"}),M.default.createElement(z.Icon,{key:"delete",onClick:this.btnDelete.bind(this,c,s),link:!0,name:"delete"})))):b.push(M.default.createElement("td",{key:"celldelete",className:"dwkit-collectioneditor-cellbtn"},M.default.createElement("div",{className:"field"},T&&M.default.createElement(z.Icon,{key:"copy",onClick:this.btnCopy.bind(this,c,void 0),link:!0,name:"copy"}),M.default.createElement(z.Icon,{key:"delete",onClick:this.btnDelete.bind(this,c,void 0),link:!0,name:"delete"}))))}u.push(M.default.createElement("tr",{key:o+c,className:"dwkit-collectioneditor-row","data-rowindex":c},b)),u=u.concat(p)}return u}},{key:"btnDelete",value:function(e,t){if(null!=this.props.onChange){void 0===t&&(t=this.state.data);var r=t[e];t.splice(e,1),null!=this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onDelete",parameters:{rowIdx:e,row:r}}),this.sendChangesToParent()}}},{key:"btnAddChild",value:function(e,t){void 0===t&&(t=null==this.state.data?[]:this.state.datae);var r=t[e],n=null==this.props.defaultrow?{}:a({},this.props.defaultrow);n.__id="CLIENT_"+l.default.v1(),this.props.parentIdField?(n[this.props.parentIdField]=r[this.props.idField]||r.__id,t.push(n)):(Array.isArray(r[this.props.childrenField])||(r[this.props.childrenField]=[]),r[this.props.childrenField].push(n)),this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onAddChild",parameters:{rowIdx:t.length-1,row:n}}),this.sendChangesToParent()}},{key:"btnAdd",value:function(){var e=null==this.props.defaultrow?{}:this.props.defaultrow;e.__id="CLIENT_"+l.default.v1(),this.state.data.push(e),null!=this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onAdd",parameters:{rowIdx:this.state.data.length-1,row:e}}),this.sendChangesToParent()}},{key:"copyForParentId",value:function(t,r,e){var n=this,a=JSON.parse(JSON.stringify(r));return a.__id="CLIENT_"+l.default.v1(),delete a[this.props.idField],a[this.props.parentIdField]=e,t.filter(function(e){return e[n.props.parentIdField]===(r[n.props.idField]||r.__id)}).forEach(function(e){return n.copyForParentId(t,e,a.__id)}),t.push(a),a}},{key:"resetIdsRecursive",value:function(e){var t=this;e.__id="CLIENT_"+l.default.v1(),delete e[this.props.idField],Array.isArray(e[this.props.childrenField])&&e[this.props.childrenField].forEach(function(e){return t.resetIdsRecursive(e)})}},{key:"btnCopy",value:function(e,t){void 0===t&&(t=this.state.data);var r=t[e],n=null;this.props.parentIdField&&r.hasOwnProperty(this.props.parentIdField)?n=this.copyForParentId(t,r,r[this.props.parentIdField]):(n=JSON.parse(JSON.stringify(r)),this.resetIdsRecursive(n),t.push(n)),this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onCopy",parameters:{rowIdx:t.length-1,row:n}}),this.sendChangesToParent()}},{key:"onExpand",value:function(e,t){this.state.expanded[e]=t,this.forceUpdate()}},{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"onDragStart",value:function(e,t,r){r.dataTransfer.setData("index",e),this.state.dragElementIndex=e,this.state.dragRows=t}},{key:"onDragEnd",value:function(e,t){this.state.dragElementIndex=void 0,this.state.dragRows=void 0}},{key:"onDrop",value:function(e,t,r){var n=this.state.dragElementIndex,a=this.state.dragRows,o=e,l=t;return null!=n&&(o!=n&&(void 0!==this.props.parentIdField&&""!==this.props.parentIdField&&(a[n][this.props.parentIdField]=l[o][this.props.parentIdField]),l.splice(o,0,a.splice(n,1)[0]),this.sendChangesToParent()),r.preventDefault()),!1}},{key:"handleChange",value:function(e,t,r){var n=r.name,a=r.propertyName,o=r.value,l=r.checked;null!=this.props.onChange&&(e[a||n]=null==o&&null!=l?l:o,this.sendChangesToParent(),null!=t?t.preventDefault():this.forceUpdate())}},{key:"getCopyRowsFromProps",value:function(){var e=null==this.props.value?[]:this.props.value;return this.state.stringmode=!1,Array.isArray(e)?e=e.slice():(e=o.default.parse(e),this.state.stringmode=!0),e}},{key:"sendChangesToParent",value:function(){var e=this.state.data,t=this.state.stringmode?o.default.stringify(e):e;this.props.onChange(null,{name:this.props.name,propertyName:this.props.propertyName,value:t})}},{key:"render",value:function(){var e=this.props.columns,t=this.props.value,r=this.props.error;return this.props.collapseAll&&Array.isArray(t)&&this.applyCollapseAll(t),e&&e.length?(this.state.data=this.getCopyRowsFromProps(),M.default.createElement("div",{style:this.props.style,className:"field"},M.default.createElement("label",null,this.props.label),M.default.createElement("table",{className:"dwkit-collectioneditor"},M.default.createElement("tbody",null,this.renderHeaderRow(e),this.renderRows(e,this.state.data,r))))):M.default.createElement("div",null,"Fill columns property!")}}])&&n(u.prototype,s),c&&n(u,c),f);function f(e){!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":mu(t))&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e));return t.state={expanded:{}},t}t.default=d},function(e,t){e.exports=o},function(e,t){e.exports=l},function(e,t){e.exports=i},function(e,t,r){var n=r(6).createActions(["add","showEditForm","remove","saveData","save","move"]);e.exports=n},function(e,t,r){var ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oe=a(r(0)),H=r(1),n=r(9),$=a(r(12)),J=a(r(22)),le=a(r(2)),Q=a(r(14)),Y=a(r(24)),Z=a(r(25)),X=a(r(26)),ee=a(r(27)),te=a(r(28)),re=a(r(3)),ie=a(r(29)),ne=a(r(30)),ue=a(r(31)),se=a(r(32)),ce=r(15),de=a(r(34)),fe=a(r(35)),pe=a(r(38)),he=a(r(39)),me=a(r(47)),u=a(r(49)),s=a(r(4));function a(e){return e&&e.__esModule?e:{default:e}}var ve={Items:[{key:"sepContainers",title:"Containers",isseparate:!0,defaultopen:!0},{key:"container",title:"DIV",control:ee.default,editControl:n.ContainerEditControl},{key:"staticcontent",title:"Static Content",control:te.default,editControl:n.StaticContentEditControl,defaultValues:{content:"Text..."}},{key:"form",title:"Form",control:ue.default,editControl:n.FormEditControl},{key:"formgroup",title:"Form Group",control:ue.default,editControl:n.FormGroupEditControl,defaultValues:{widths:"equal"}},{key:"tab",title:"Tab",control:pe.default,editControl:n.TabEditControl,defaultValues:{panes:[{title:"Tab 1",psid:"t1"},{title:"Tab 2",psid:"t2"},{title:"Tab 3",psid:"t3"}]}},{key:"customblock",title:"Custom block",control:void 0,editControl:n.CustomBlockEditControl,defaultValues:{sourceType:"form"}},{key:"gridlayout",title:"Grid Layout",control:he.default,editControl:n.GridLayoutEditControl,defaultValues:{draggable:!1,resizable:!1,panes:[{title:"Pane 1",psid:"p1",x:0,w:4},{title:"Pane 2",psid:"p2",x:4,w:4},{title:"Pane 3",psid:"p3",x:8,w:4}]}},{key:"sepCollection",title:"Collections",isseparate:!0},{key:"gridview",title:"GridView",control:Q.default,editControl:n.GridEditControl,defaultValues:{columns:[{key:"id",name:"ID"},{key:"title",name:"Title"},{key:"count",name:"Count"}]}},{key:"collectioneditor",title:"Collection Editor",control:re.default,editControl:n.CollectionEditorEditControl,defaultValues:{idField:"Id",parentIdField:"ParentId",columns:[{key:"Id",name:"ID"},{key:"Title",name:"Title"},{key:"Count",name:"Count"}]}},{key:"repeater",title:"Repeater",control:me.default,editControl:n.RepeaterEditControl,defaultValues:{}},{key:"sepControls",title:"Controls",isseparate:!0},{key:"header",title:"Header",control:ue.default,editControl:n.HeaderEditControl,defaultValues:{content:"Header",size:"medium"}},{key:"input",title:"Input",control:ue.default,editControl:n.InputEditControl,defaultValues:{label:"Input",fluid:!0,onChangeTimeout:200}},{key:"textarea",title:"TextArea",control:ue.default,editControl:n.TextAreaEditControl,defaultValues:{label:"TextArea",fluid:!0}},{key:"dictionary",title:"Dictionary",control:X.default,editControl:n.DictionaryEditControl,defaultValues:{label:"Dictionary",fluid:!0,selection:!0}},{key:"treepicker",title:"TreePicker",control:fe.default,editControl:n.TreePickerEditControl,defaultValues:{label:"TreePicker",selection:!0,fluid:!0,parentIdField:"ParentId"}},{key:"dropdown",title:"Dropdown",control:ue.default,editControl:n.DropdownEditControl,defaultValues:{label:"Dropdown",fluid:!0,selection:!0,"data-elements":[{key:1,value:1,text:"Item 1"},{key:2,value:2,text:"Item 2"},{key:3,value:3,text:"Item 3"}]}},{key:"checkbox",title:"CheckBox",control:ue.default,editControl:n.CheckboxEditControl,defaultValues:{label:"Checkbox"}},{key:"radiogroup",title:"Radio group",control:$.default,editControl:n.RadioGroupEditControl,defaultValues:{label:"Radio","data-elements":[{key:1,value:1,text:"Item 1"},{key:2,value:2,text:"Item 2"},{key:3,value:3,text:"Item 3"}]}},{key:"button",title:"Button",control:ue.default,editControl:n.ButtonEditControl,defaultValues:{content:"Button"}},{key:"label",title:"Label",control:ue.default,editControl:n.LabelEditControl,defaultValues:{content:"Label"}},{key:"message",title:"Message",control:ue.default,editControl:n.MessageEditControl,defaultValues:{header:"Message",content:"Description..."}},{key:"image",title:"Image",control:ue.default,editControl:n.ImageEditControl,defaultValues:{src:"/images/unknown.png"}},{key:"statistic",title:"Statistic",control:ue.default,editControl:n.StatisticEditControl,defaultValues:{"data-elements":[{label:"Score",value:"22,1%"},{label:"Views",value:"30,000"},{label:"Points",value:"500"}]}},{key:"customcontrol",title:"Custom control",control:void 0,editControl:n.CustomEditControl,defaultValues:{props:"{  }"}},{key:"dropdowntrigger",title:"Dropdown trigger",control:ne.default,editControl:n.DropdownTriggerEditControl,defaultValues:{defaultValue:"User",items:[{target:"#1",title:"Item 1"},{target:"#2",title:"Item 2"},{target:"#3",title:"Item 3"}]}},{key:"dropzonecontrol",title:"Dropzone",control:se.default,editControl:n.DropzoneEditControl,defaultValues:{showFiletypeIcon:!1,autoProcessQueue:!0,addRemoveLinks:!0,multile:!0}},{key:"breadcrumb",title:"Breadcrumbs",control:ue.default,editControl:n.BreadcrumbEditControl,defaultValues:{items:[{text:"Home",url:"/"},{divider:"right angle",text:"Page1",url:"/page1"},{text:"Page2",active:!0}],events:{onItemClick:{active:!0,actions:["redirect"]}}}},{key:"search",title:"Search",control:de.default,editControl:n.SearchEditControl,defaultValues:{}},{key:"menu",title:"Menu",control:J.default,editControl:n.MenuEditControl,defaultValues:{items:[{title:"Menu 1"},{title:"Menu 2"},{title:"Menu 3"}]}},{key:"workflowbar",title:"Workflow bar",control:Z.default,editControl:n.WorkflowBarEditControl,defaultValues:{blockSetState:!0,events:{onCommandClick:{active:!0,actions:["workflowExecuteCommand"]},onSetStateClick:{active:!0,actions:["workflowSetState"]},onSelectWorkflowScheme:{active:!0,actions:["selectWorkflowScheme"]}}}},{key:"sepCharts",title:"Charts",isseparate:!0},{key:"barchart",title:"Bar",control:Y.default,editControl:n.ChartEditControl,defaultValues:{chartType:"bar",datasetLabel:""}},{key:"linechart",title:"Line",control:Y.default,editControl:n.ChartEditControl,defaultValues:{chartType:"line",datasetLabel:""}},{key:"scatterchart",title:"Scatter",control:Y.default,editControl:n.ChartEditControl,defaultValues:{chartType:"scatter",datasetLabel:""}},{key:"doughnutchart",title:"Doughnut",control:Y.default,editControl:n.ChartEditControl,defaultValues:{chartType:"doughnut",datasetLabel:""}},{key:"piechart",title:"Pie",control:Y.default,editControl:n.ChartEditControl,defaultValues:{chartType:"pie",datasetLabel:""}},{key:"radarchart",title:"Radar",control:Y.default,editControl:n.ChartEditControl,defaultValues:{chartType:"radar",datasetLabel:""}}],createControls:function(e,t){var r=t.model,n=t.data,a=t.errors,o=t.eventOnEdit,l=t.eventOnDelete,i=t.eventOnCopy,u=t.handleEvent,s=t.parentItem,c=t.getFormFunc,d=t.getAdditionalDataForControl,f=t.buildermode,p=t.hideControls,h=t.readOnlyControls,m=t.readOnly,v=t.disableRefs,g=t.uploadUrl,y=t.downloadUrl,b=t.extendedData,w=t.controlsToReplace,C=t.needCheckReplace,k=t.parentPlaceholder,E=t.formItem,_=t.controlBarRight,F=t.externalControlRender,O=t.externalControlList,x=t.adaptiveViewType,S=t.formData,L=[];if(null==r)return L;for(var D=0;D<r.length;D++)if(!(Array.isArray(p)&&p.includes(r[D].key)||!f&&!this.isAdaptiveRender(r[D],x))){var I=void 0,A=r[D]["data-buildertype"];if("customcontrol"===A)if(void 0===r[D].type||""===r[D].type)I=oe.default.createElement("div",{className:"dwkit-formbuilder-empty",key:r[D].key},"Fill Type property for rendering the control.");else{var V=void 0===r[D].props?{}:le.default.parse(r[D].props),j=ae({},V,{key:r[D].key,name:r[D].key,className:r[D]["style-customcss"],style:this.getStyle(r[D],f,x),"data-buildertype":r[D]["data-buildertype"],getAdditionalDataForControl:d,uploadUrl:g,downloadUrl:y});(m||Array.isArray(h)&&h.includes(j.key))&&(j.readOnly=!0);var N=r[D].children;if(void 0!==r[D].children)try{N=le.default.parse(r[D].children)}catch(e){}I=void 0===N||Array.isArray(N)&&0===N.length?oe.default.createElement(r[D].type,j):oe.default.createElement(r[D].type,j,N)}else if("customblock"===A){var P=[],T=!1,R=!1,M=!1,z=r[D],B=k,U=E;if("form"===r[D].sourceType||void 0===r[D].sourceType)if(void 0!==r[D].children&&""!==r[D].children)P=r[D].children;else{if(void 0===c){console.error('Error: "getFormFunc" parameter is undefined!. Please, set "getFormFunc" parameter for DWKitBuilder or DWKitForm!');continue}void 0!==r[D].formname&&""!==r[D].formname?P=c(r[D].formname):T=!0}else"placeholder"===r[D].sourceType?(M=R=void 0!==o,z=s,void 0===B&&(B=r[D].key),void 0===U&&(U=s),void 0!==U&&void 0!==U.placeholders&&void 0!==U.placeholders[r[D].key]&&(P=U.placeholders[r[D].key])):void 0!==r[D].source&&""!==r[D].source?P=le.default.parse(r[D].source):T=!0;if(T)I=oe.default.createElement("div",{className:"dwkit-formbuilder-empty",key:r[D].key},"Set a form name or source in propepries.");else{var G=this.createControls(e,{model:P,data:n,errors:a,buildermode:R,eventOnEdit:o,eventOnDelete:l,eventOnCopy:i,parentItem:z,handleEvent:u,getFormFunc:c,getAdditionalDataForControl:d,hideControls:p,readOnlyControls:h,readOnly:m,disableRefs:v,uploadUrl:g,downloadUrl:y,controlsToReplace:w,needCheckReplace:C,parentPlaceholder:B,formItem:U,extendedData:b,externalControlRender:F,externalControlList:O,adaptiveViewType:x,formData:S}),q=r[D]["style-customcss"];f&&(q=(null==q?"":q+" ")+"dwkit-formbuilder-item-container");var W={key:r[D].key,name:r[D].key,className:q,style:this.getStyle(r[D],f,x),"data-buildertype":r[D]["data-buildertype"]};if(M){if(void 0===G&&(G=[]),0<G.length){var K=ve.createBuilderDropzone(r[D].key+"_dropzone_footer",void 0===U?void 0:U.key,G[G.length-1].key,r[D].key,r[D].key);G.push(K)}var H=ve.createBuilderDropzone(r[D].key+"_dropzone_header",void 0===U?void 0:U.key,void 0,r[D].key,r[D].key);G.unshift(H)}I=oe.default.createElement("div",W,G)}}else{var $=this.getControlByType(A,O);if(null===$)I=oe.default.createElement("div",{key:r[D].key},A," is unsupported");else if(this.isContainer(A)){var J=E;null==J&&null!=s&&"form"===s.sourceType&&(J=s);var Q=f&&"formgroup"===r[D]["data-buildertype"]&&"grouped"!==r[D].orientation,Y=this.createControls(e,{model:r[D].children,data:n,errors:a,buildermode:f,eventOnEdit:o,eventOnDelete:l,eventOnCopy:i,parentItem:r[D],handleEvent:u,getFormFunc:c,getAdditionalDataForControl:d,hideControls:p,readOnlyControls:h,readOnly:m,disableRefs:v,uploadUrl:g,downloadUrl:y,controlsToReplace:w,needCheckReplace:C,parentPlaceholder:void 0,formItem:J,controlBarRight:Q,extendedData:b,externalControlRender:F,externalControlList:O,adaptiveViewType:x,formData:S});if(f){if(0<Y.length){var Z=Q?"...":"... "+r[D].key+" down ...",X=this.createBuilderDropzone(r[D].key+"-dropzone_footer",r[D].key,void 0,Z);Y.push(X)}var ee=Q?"...":"... "+r[D].key+" up ...",te=this.createBuilderDropzone(r[D].key+"-dropzone_header",r[D].key,void 0,ee);Y.unshift(te)}I=this.createControl(e,$,{model:r[D],data:n,errors:a,parentItem:s,buildermode:f,children:Y,handleEvent:u,getAdditionalDataForControl:d,readOnlyControls:h,readOnly:m,disableRefs:v,uploadUrl:g,downloadUrl:y,extendedData:b,parentPlaceholder:k,controlsToReplace:w,needCheckReplace:C,eventOnEdit:o,eventOnDelete:l,eventOnCopy:i,externalControlRender:F,externalControlList:O,adaptiveViewType:x,formData:S})}else I=this.createControl(e,$,{model:r[D],data:n,errors:a,parentItem:s,buildermode:f,handleEvent:u,getAdditionalDataForControl:d,readOnlyControls:h,readOnly:m,disableRefs:v,uploadUrl:g,downloadUrl:y,extendedData:b,parentPlaceholder:k,controlsToReplace:w,needCheckReplace:C,eventOnEdit:o,eventOnDelete:l,eventOnCopy:i,externalControlRender:F,externalControlList:O,adaptiveViewType:x,formData:S})}if(f){if(0<D&&D<r.length){var re=this.createBuilderDropzone(r[D].key+"-dropzone_bw",void 0===s?void 0:s.key,r[D].key,"...",k);L.push(re)}var ne=oe.default.createElement(ie.default,{key:r[D].key+"_controlbar",text:r[D]["data-buildertype"],model:r[D],parent:e,onDelete:l,onEdit:o,onCopy:i,isGroup:"formgroup"===r[D]["data-buildertype"],controlOnRight:_});_?(L.push(I),L.push(ne)):(L.push(ne),L.push(I))}else L.push(I)}return L},getControlInfoByType:function(e,t){for(var r=0;r<this.Items.length;r++)if(this.Items[r].key===e)return this.Items[r];var n=t;if(!n&&window.DWKitFormSettings&&(n=window.DWKitFormSettings.externalControlList),n)for(var a=0;a<n.length;a++)if(n[a].key===e)return n[a]},getControlByType:function(e,t){var r=this.getControlInfoByType(e,t);return r?r.control:null},getEditControlByType:function(e,t){var r=this.getControlInfoByType(e,t);return r?r.editControl:null},getStyle:function(e,t,r){var n={marginTop:e["style-marginTop"],marginBottom:e["style-marginBottom"],marginLeft:e["style-marginLeft"],marginRight:e["style-marginRight"],width:e["style-width"],height:e["style-height"]};return void 0!==e["style-float"]&&(n.float=e["style-float"]),void 0!==e["style-display"]&&(n.display=e["style-display"]),e["style-hidden"]&&(t?n.opacity=.2:n.display="none"),void 0!==e["style-source"]&&this.getCustomStyle(e["style-source"],n),void 0!==e["style-font-size"]&&(n["font-size"]=e["style-font-size"]),e["style-adaptive"]&&void 0!==e["style-mobilesource"]&&"mobile"===r&&this.getCustomStyle(e["style-mobilesource"],n),n},getCustomStyle:function(e,n){e.split(";").forEach(function(e){var t=e.split(":");if(2===t.length){var r=t[0].replace(/^\s+|\s+$/g,"");n[r]=t[1].replace(/^\s+|\s+$/g,"")}})},isAdaptiveRender:function(e,t){return!e["style-adaptive"]||null==t||""===t||t==e["style-renderwhen"]},regexForReplace:/{\S[A-z,0-9,_,-,.,:, ,/]+?}/gm,createControl:function(i,e,t){var r=t.model,u=t.data,n=t.errors,a=t.parentItem,o=t.buildermode,l=t.children,s=t.handleEvent,c=t.getAdditionalDataForControl,d=t.readOnlyControls,f=t.readOnly,p=t.disableRefs,h=t.uploadUrl,m=t.downloadUrl,v=t.extendedData,g=t.controlsToReplace,y=t.needCheckReplace,b=t.eventOnEdit,w=t.eventOnDelete,C=t.eventOnCopy,k=t.externalControlRender,E=t.externalControlList,_=t.adaptiveViewType,F=t.formData,O=void 0,x=void 0,S=r["style-customcss"];if(1==r["other-required"]){var L="dwkit-required-field";S=null==S||""==S?L:S+L}var D={key:r.key,name:r.key,className:S,style:this.getStyle(r,o,_),"data-buildertype":r["data-buildertype"],propertyName:r.propertyName?r.propertyName:r.key},I=D["data-buildertype"],A=y||g.includes(r.key);function V(e){if(!A||null==e)return e;function n(e){return null!=F?"row."==e.slice(1,5)?ve.getFormatedDate(e.slice(5,e.length-1),u):ve.getFormatedDate(e.slice(1,e.length-1),F):ve.getFormatedDate(e.slice(1,e.length-1),u)}if(Array.isArray(e)){var a=[],o=!1;return e.forEach(function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(void 0!==e[r]&&null!==e[r]&&"string"==typeof e[r]?(t[r]=e[r].replace(j,function(e){return n(e)}),!o&&y&&t[r]!==e[r]&&(o=!0)):Array.isArray(e[r])?t[r]=V(e[r]):t[r]=e[r]);a.push(t)}),o&&g.push(r.key),a}if("string"!=typeof e)return e;var t=e.replace(j,function(e){return n(e)});return y&&e!==t&&g.push(r.key),t}o&&this.isContainer(D["data-buildertype"])&&(D.className=(null==D.className?"":D.className+" ")+"dwkit-formbuilder-item-container"),p||(D.ref=r.key),void 0!==r.readOnly&&(D.readOnly=r.readOnly),(f||Array.isArray(d)&&d.includes(r.key))&&(D.readOnly=!0);var j=this.regexForReplace;if(void 0!==u&&(r.propertyName?D.value=u[r.propertyName]:D.value=u[D.key]),null!=n&&(r.propertyName?D.error=n[r.propertyName]:D.error=n[D.key]),e===ue.default)"header"===I?(D.content=V(r.content),D.subheader=V(r.subheader)):"label"===I?D.content=V(r.content):"message"===I?(D.content=V(r.content),D.header=V(r.header)):"image"===I?(D.src=V(r.src),D.href=V(r.href)):"breadcrumb"===I?D.items=V(r.items):"button"===I&&(D.content=V(r.content)),x=oe.default.createElement(ue.default,ae({},D,{additionalParams:{model:r,data:u,errors:n,children:l,handleEvent:s,parentItem:a,uploadUrl:h,downloadUrl:m}}));else if(e===X.default)D.label=r.label,D.defaultValue=r.defaultvalue,D.placeholder=r.placeholder,D.disabled=r.disabled,D.fluid=r.fluid,D.selection=r.selection,D.multiple=r.multiple,D.search=r.search,D.dataModel=r.dataModel,D.clearable=r.clearable,D.columns=r.columns,D.paging=r.paging,D.pageSize=r.pageSize,D.getAdditionalDataForControl=c,D.filters=V(r.filters),n&&void 0!==n[r.key]&&(D.error=n[r.key]),null!==s&&(D.onChange=function(e,t){var r=t.name,n=t.value,a=t.additionalValues;s({syntheticEvent:e,key:D.key,eventName:"onChange",name:r,value:n,additionalValues:a})}),D.parentIsForm=this.isForm(a),x=oe.default.createElement(X.default,D);else if(e===ne.default)D.defaultValue=r.defaultValue,D.items=r.items,D.imageUrl=r.imageUrl,D.handleEvent=s,x=oe.default.createElement(ne.default,D);else if(e===de.default)D.url=r.url,D.category=r.category,D.handleEvent=s,x=oe.default.createElement(de.default,D);else if(e===$.default){var N=[];void 0!==r["data-elements"]&&(N=Array.isArray(r["data-elements"])?r["data-elements"]:le.default.parse(r["data-elements"])),D.handleEvent=s,n&&void 0!==n[r.key]&&(D.error=n[r.key]),x=oe.default.createElement($.default,ae({},D,{label:r.label,direction:r.direction,placeholder:r.placeholder,items:N}))}else if(e===re.default){if(D.columns=r.columns,D.draggable=r.draggable,D.hierarchical=r.hierarchical,D.parentIdField=r.parentIdField,D.idField=r.idField,D.childrenField=r.childrenField,D.collapseAll=r.collapseAll,D.disableAdd=r.disableAdd,D.placeholders=r.placeholders,null!=D.placeholders&&(D.getAdditionalDataForControl=c,D.createControl=function(e,t,r){var n=ve.getControlByType(t);if(n){var a=ve.createControl(e,n,ae({},r,{formData:u,adaptiveViewType:_,needCheckReplace:!0})),o=[];if(r.buildermode){var l=oe.default.createElement(ie.default,{key:r.model.key+"_controlbar",model:r.model,parent:i,onDelete:w,onEdit:b,onCopy:C});return o.push(l),o.push(a),o}return a}console.error("Control is unsupported!",t,e,r)}),D.handleEvent=s,D.downloadUrl=m,D.uploadUrl=h,null!==s?D.onChange=function(e,t){var r=t.name,n=t.value;s({syntheticEvent:e,key:D.key,eventName:"onChange",name:r,value:n})}:o&&(D.onChange=function(e,t){t.name;var r=t.value;D.value=r}),o&&void 0===D.value&&void 0!==D.columns){for(D.buildermode=o,D.createBuilderDropzone=function(e,t){return ve.createBuilderDropzone(D.key,D.key,void 0,e,e)},D.value=[],O=0;O<5;O++)D.value.push({});if(Boolean(r.hierarchical)&&void 0!==r.parentIdField&&""!==r.parentIdField&&void 0!==r.idField&&""!==r.idField)for(O=1;O<5;O++){var P=D.value[O];void 0===P[r.idField]&&(P[r.idField]=O);for(var T=0;T<2;T++){var R={};R[r.parentIdField]=P[r.idField],D.value.push(R)}}}void 0!==v&&void 0!==v.filters&&void 0!==v.filters[D.key]&&(D.filter=new ce.FunctionalFilter(v.filters[D.key],D.columns.map(function(e){return e.key}))),x=oe.default.createElement(re.default,D)}else if(e===Q.default){if(D.columns=r.columns,D.multiselect=r.multiselect,D.rowKey=r.rowKey,D.editForm=r.editForm,D.editFlow=r.editFlow,D.editType=r.editType,D.pagerType=r.pagerType,D.pageSize=r.pageSize,D.rowHeight=r.rowHeight,D.minHeight=r.minHeight,D.autoHeight=r.autoHeight,D.offSet=r.offSet,D.disableSort=r.disableSort,D.resizeColumns=r.resizeColumns,D.editFormShowType=r.editFormShowType,D.sidebarDirection=r.sidebarDirection,D.getAdditionalDataForControl=c,D.handleEvent=s,D.defaultSort=r.defaultSort,n&&void 0!==n[r.key]&&(D.error=n[r.key]),o&&void 0===D.value){D.value=[];var M=function(){var t={};D.columns.forEach(function(e){t[e.key]=e.key+"_"+O}),D.value.push(t)};for(O=0;O<30;O++)M()}void 0!==v&&void 0!==v.filters&&void 0!==v.filters[D.key]&&(D.filter=new ce.FunctionalFilter(v.filters[D.key],D.columns.map(function(e){return e.key}))),x=oe.default.createElement(Q.default,D)}else if(e===J.default)D["data-items"]=V(r.items),D.pointing=r.pointing,D.secondary=r.secondary,D.tabular=r.tabular,D.fluid=r.fluid,D.vertical=r.vertical,D.activeitem=r.activeitem,D.link=r.link,D.handleEvent=s,x=oe.default.createElement(J.default,D);else if(e===pe.default)D["data-panes"]=r.panes,D.pointing=r.pointing,D.secondary=r.secondary,D.tabular=r.tabular,D.fluid=r.fluid,D.vertical=r.vertical,D.activeitem=r.activeitem,D.handleEvent=s,D.data=u,D.errors=n,o&&(D.buildermode=!0,D.createBuilderDropzone=function(e,t,r,n){return ve.createBuilderDropzone(e,D.key,n,t,r)}),D.placeholders=r.placeholders,D.getAdditionalDataForControl=c,D.createControls=function(e,t){return ve.createControls(e,ae({},t,{data:u,errors:n,parentItem:r,buildermode:o,children:l,handleEvent:s,getAdditionalDataForControl:c,readOnlyControls:d,readOnly:f,disableRefs:p,uploadUrl:h,downloadUrl:m,extendedData:v,controlsToReplace:g,needCheckReplace:y,eventOnEdit:b,eventOnDelete:w,eventOnCopy:C,externalControlRender:k,externalControlList:E,adaptiveViewType:_}))},x=oe.default.createElement(pe.default,D);else if(e===he.default)D.draggable=r.draggable,D.resizable=r.resizable,D.scroll=r.scroll,D.cols=r.cols,D["data-panes"]=r.panes,D.handleEvent=s,D.data=u,D.errors=n,o&&(D.buildermode=!0,D.createBuilderDropzone=function(e,t,r,n){return ve.createBuilderDropzone(e,D.key,n,t,r)}),D.placeholders=r.placeholders,D.getAdditionalDataForControl=c,D.createControls=function(e,t){return ve.createControls(e,ae({},t,{data:u,errors:n,parentItem:r,buildermode:o,children:l,handleEvent:s,getAdditionalDataForControl:c,readOnlyControls:d,readOnly:f,disableRefs:p,uploadUrl:h,downloadUrl:m,extendedData:v,controlsToReplace:g,needCheckReplace:y,eventOnEdit:b,eventOnDelete:w,eventOnCopy:C,adaptiveViewType:_}))},x=oe.default.createElement(he.default,D);else if(e===Y.default){if(D.chartType=r.chartType,D.responsive=r.responsive,D.legendPosition=r.legendPosition,D.title=r.title,D.titleSize=r.titleSize,D.datasetCustom=r.datasetCustom,D.dataLabels=r.dataLabels,D.datasetLabel=r.datasetLabel,D.datasetSteppedLine=r.datasetSteppedLine,D.datasetBorderColor=r.datasetBorderColor,D.datasetFill=r.datasetFill,D.datasetBorderWidth=r.datasetBorderWidth,D.datasetBackgroundColor=r.datasetBackgroundColor,o)if(D.datasetCustom)D.value=[1,2,3,4,3,2,1];else{var z="scatter"!==D.chartType?[6,23,15,3]:[{x:6,y:-12},{x:11,y:1},{x:24,y:5},{x:40,y:32}];D.value={labels:["Q1","Q2","Q3","Q4"],datasets:[{data:z}]}}else void 0!==u&&(D.value=u[D.key]);x=oe.default.createElement(Y.default,D)}else if(e===Z.default)D.blockSetState=r.blockSetState,D.blockCommands=r.blockCommands,D.setStateButton=r.setStateButton,D.handleEvent=s,D.getAdditionalDataForControl=c,D.enableSchemeSelection=r.enableSchemeSelection,D.dialogMode=r.dialogMode?r.dialogMode:"auto",D.startWorkflowButton=r.startWorkflowButton,v?(D.selectedScheme=v.selectedScheme,D.schemes=v.schemes?v.schemes:[]):D.schemes=[],n&&void 0!==n[r.key]&&(D.error=n[r.key]),o&&(D.commands=[{value:"approve",text:"Approve",type:1},{value:"back",text:"Back",type:2}],D.states=[{value:"draft",text:"Draft"},{value:"state1",text:"State 1"},{value:"state2",text:"State 2"},{value:"state3",text:"State 3"},{value:"finish",text:"Finish"}],D.schemes=[]),x=oe.default.createElement(Z.default,D);else if(e===ee.default)x=oe.default.createElement(ee.default,ae({},D,{children:l}));else if(e===me.default)D.slider=r.slider,o&&(D.buildermode=!0,D.createBuilderDropzone=function(e,t,r){return ve.createBuilderDropzone(e,D.key,r,void 0,t)}),D["item-visibleCondition"]=r["item-visibleCondition"],D.pageSize=r.pageSize,D.pagerType=r.pagerType,D.loadButtonLabel=r.loadButtonLabel,D.noRecordsLabel=r.noRecordsLabel,D.defaultSort=r.defaultSort,void 0!==v&&void 0!==v.filters&&void 0!==v.filters[D.key]&&(D.filter=new ce.FunctionalFilter(v.filters[D.key],["*"])),D.placeholders=r.placeholders,D.handleEvent=s,D.getAdditionalDataForControl=c,D.createControls=function(e,t){return ve.createControls(e,ae({},t,{formData:u,parentItem:r,buildermode:o,children:l,readOnlyControls:d,readOnly:"server"==r.pagerType||f,disableRefs:p,uploadUrl:h,downloadUrl:m,extendedData:v,controlsToReplace:g,needCheckReplace:!0,eventOnEdit:b,eventOnDelete:w,eventOnCopy:C,externalControlRender:k,externalControlList:E,adaptiveViewType:_}))},null!==s?D.onChange=function(e,t){var r=t.name,n=t.value;s({syntheticEvent:e,key:D.key,propertyName:D.propertyName,eventName:"onChange",name:r,value:n})}:o&&(D.onChange=function(e,t){t.name;var r=t.value;D.value=r}),x=oe.default.createElement(me.default,D);else if(e===te.default)D.content=V(r.content),D.isHtml=r.isHtml,x=oe.default.createElement(te.default,D);else if(e===se.default)D.iconFiletypes=r.iconFiletypes,D.postUrl=h,D.showFiletypeIcon=r.showFiletypeIcon,D.autoProcessQueue=r.autoProcessQueue,D.addRemoveLinks=r.addRemoveLinks,x=oe.default.createElement(se.default,ae({},D,{additionalParams:{model:r,data:u,errors:n,children:l,handleEvent:s,parentItem:a}}));else if(e===fe.default){if(D.label=r.label,D.defaultValue=r.defaultvalue,D.placeholder=r.placeholder,D.selection=r.selection,D.multiple=r.multiple,D.search=r.search,D.dataModel=r.dataModel,D.clearable=r.clearable,D.columns=r.columns,D.paging=r.paging,D.pageSize=r.pageSize,D.parentIdField=r.parentIdField,D.getAdditionalDataForControl=c,D.modalCssClass=r["style-custommodalcss"],D.fluid=r.fluid,D.disabled=r.disabled,void 0!==r["style-modalsource"]){var B={};this.getCustomStyle(r["style-modalsource"],B),D.modalStyle=B}n&&void 0!==n[r.key]&&(D.error=n[r.key]),null!==s&&(D.onChange=function(e,t){var r=t.name,n=t.value,a=t.additionalValues;s({syntheticEvent:e,key:D.key,eventName:"onChange",name:r,value:n,additionalValues:a})}),D.parentIsForm=this.isForm(a),x=oe.default.createElement(fe.default,D)}else{var U=k;!U&&window.DWKitFormSettings&&(U=window.DWKitFormSettings.externalControlRender),U&&(x=U(i,e,{model:r,data:u,errors:n,parentItem:a,buildermode:o,children:l,handleEvent:s,getAdditionalDataForControl:c,readOnlyControls:d,readOnly:f,disableRefs:p,uploadUrl:h,downloadUrl:m,extendedData:v,controlsToReplace:g,needCheckReplace:y,eventOnEdit:b,eventOnDelete:w,eventOnCopy:C})),x||console.error("Control is unsupported!",e,r)}if(!0!==r["tooltip-errordisabled"]&&n&&void 0!==n[r.key]&&"boolean"!=typeof n[r.key]){var G=""==r["tooltip-errorposition"]?void 0:r["tooltip-errorposition"],q=""==r["tooltip-errorshowtype"]?void 0:r["tooltip-errorshowtype"];return oe.default.createElement(H.Popup,{key:r.key+"-error",trigger:x,on:q,position:G,className:"dwkit-tooltiperror",content:n[r.key]})}if(r["tooltip-enabled"]){var W=""==r["tooltip-showtype"]?void 0:r["tooltip-showtype"],K=""==r["tooltip-position"]?void 0:r["tooltip-position"];return oe.default.createElement(H.Popup,{key:r.key+"-tooltip",trigger:x,on:K,position:W,className:r["tooltip-classname"],header:r["tooltip-header"],content:r["tooltip-content"]})}return x},isContainer:function(e){return"form"===e||"formgroup"===e||"grid"===e||"gridcolumn"===e||"container"===e||"div"===e||"repeater"===e},isForm:function(e){return null!=e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])},createBuilderDropzone:function(e,t,r,n,a){return oe.default.createElement("div",{name:e,key:e,elementafter:r,elementtoinsert:t,placeholderkey:a,className:"dwkit-formbuilder-zone"},"DROP ZONE")},fillDefaultValues:function(e,t){for(var r in t)void 0===e[r]&&(e[r]=t[r]);return e},getFormatedDate:function(e,t){if(null==t)return"";var r=void 0,n=void 0,a=e.indexOf(":");0<a?(r=e.substring(0,a),n=e.substring(a+1,e.length)):r=e;var o=t[r];if(null==o&&(o=""),null!=n)if("number"==typeof o)o=(0,u.default)(o).format(n);else{var l=(0,s.default)(o);if(l.isValid())if("local"==n){var i=void 0!==window.DWKitLang&&void 0!==window.DWKitLang.common&&null!=window.DWKitLang.common.dateFormat?window.DWKitLang.common.dateFormat:"L";o=l.format(i)}else o=l.format(n)}return o}};e.exports=ve},function(e,t,r){function n(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=o(r(0)),c=r(1),l=o(r(3)),d=(o(r(2)),o(r(21))),i=o(r(12));function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":mu(t))&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=(p(m,s.default.Component),n(m,[{key:"getLocalValue",value:function(e,t,r){var n=this.props.localization,a=null!=r?r:"base";return null==n||null==n[a]||null==n[a][e]?t:n[a][e]}},{key:"handleItemClick",value:function(e,t){var r=t.name;this.setState({activeItem:r})}},{key:"getDescription",value:function(){var t=this.state.activeItem;return this.menuItems.forEach(function(e){e.active=e.name===t}),s.default.createElement(c.Modal.Description,null,s.default.createElement(c.Menu,{key:"descriptionMenu",pointing:!0,secondary:!0,items:this.menuItems}),this.getDetailDescription(t))}},{key:"getDetailDescription",value:function(e){var t;return"general"===e?t=this.getGeneralDescription():"style"===e?t=this.getStyleDescription():"events"===e?t=this.getEventsDescription():"tooltip"===e?t=this.getToolTipDescription():"other"===e&&(t=this.getOtherDescription()),t}},{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return s.default.createElement(c.Form,{key:"generalDescriptionForm"},s.default.createElement(c.Form.Input,{key:"name",label:"Name",name:"key",value:e.key,onChange:t}))}},{key:"getStyleDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),r="/*** Example Code ***/\ncolor:red;\npaddingTop:5px;",n=[{text:this.getLocalValue("adaptivedefault","Any"),value:""},{text:this.getLocalValue("adaptivedesctop","Desktop"),value:"desktop"},{text:this.getLocalValue("adaptivemobile","Mobile"),value:"mobile"}];return s.default.createElement(c.Form,{key:"styleDescriptionForm"},s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"style-width",label:this.getLocalValue("widthfield","Width"),placeholder:"100px",value:e["style-width"],onChange:t}),s.default.createElement(c.Form.Input,{name:"style-height",label:this.getLocalValue("heightfield","Height"),placeholder:"100px",value:e["style-height"],onChange:t})),s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"style-marginTop",label:this.getLocalValue("margintopfield","Margin Top"),placeholder:"0px",value:e["style-marginTop"],onChange:t}),s.default.createElement(c.Form.Input,{name:"style-marginBottom",label:this.getLocalValue("marginbottomfield","Margin Bottom"),placeholder:"0px",value:e["style-marginBottom"],onChange:t}),s.default.createElement(c.Form.Input,{name:"style-marginLeft",label:this.getLocalValue("marginleftfield","Margin Left"),placeholder:"0px",value:e["style-marginLeft"],onChange:t}),s.default.createElement(c.Form.Input,{name:"style-marginRight",label:this.getLocalValue("marginrightfield","Margin Right"),placeholder:"0px",value:e["style-marginRight"],onChange:t})),s.default.createElement(c.Form.Input,{name:"style-customcss",label:this.getLocalValue("customcssclassfield","Custom CSS class"),placeholder:"dwkit-application-css (without '.')",value:e["style-customcss"],onChange:t}),s.default.createElement(c.Form.TextArea,{name:"style-source",label:this.getLocalValue("stylefield","Style"),placeholder:r,value:e["style-source"],onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"style-hidden",label:this.getLocalValue("hiddenfield","Hidden"),checked:e["style-hidden"],onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"style-adaptive",label:this.getLocalValue("adaptivefield","Adaptive Layout"),checked:e["style-adaptive"],onChange:t}),e["style-adaptive"]&&s.default.createElement(c.Form.Dropdown,{name:"style-renderwhen",selection:!0,fluid:!0,search:!0,options:n,placeholder:"Any",label:this.getLocalValue("style-renderwhenfield","Render when"),value:e["style-renderwhen"],onChange:t}),e["style-adaptive"]&&s.default.createElement(c.Form.TextArea,{name:"style-mobilesource",label:this.getLocalValue("mobilesourcefield","Mobile style"),placeholder:r,value:e["style-mobilesource"],onChange:t}))}},{key:"getEventsList",value:function(){return[]}},{key:"getEventsDescription",value:function(){var e=this.props.data;null==e.events&&(e.events={});var t,r=this.props.parent.handleChange.bind(this.props.parent),n=this.props.actions,a=this.getEventsList();if(Array.isArray(a)&&0!=a.length){for(var o=this.props.parent.getControlsList(),l=[],i=0;i<o.length;i++)e.key!=o[i]&&l.push({text:o[i],value:o[i]});t=s.default.createElement(d.default,{key:"events",name:"events",data:e.events,events:a,actions:n,targets:l,onAdditionActions:this.handleAdditionActions.bind(this),onChange:r})}else t=s.default.createElement(c.Message,{icon:!0},s.default.createElement(c.Image,{src:"/images/dwkitbuilder-info.png",height:"32px"}),s.default.createElement(c.Message.Content,null,this.getLocalValue("controlhasnoeventsmsg","This control has no events.")));var u=null;return a.includes("onChange")&&(u=s.default.createElement(c.Form.Input,{name:"onChangeTimeout",style:{width:100},placeholder:"0",type:"number",label:this.getLocalValue("onchangetimeout","onChange timeout"),value:e.onChangeTimeout,onChange:r})),s.default.createElement(c.Form,{key:"eventsDescriptionForm"},s.default.createElement(c.Message,{icon:!0},s.default.createElement(c.Image,{src:"/images/dwkitbuilder-info.png",height:"32px"}),s.default.createElement(c.Message.Content,null,this.getLocalValue("eventsinfomsg","These flags enable processing from this element."))),u,t)}},{key:"getToolTipDescription",value:function(){var e=[{text:this.getLocalValue("tooltipdefault","Default"),value:""},{text:this.getLocalValue("tooltiptopcenter","Top Center"),value:"top center"},{text:this.getLocalValue("tooltiptopleft","Top Left"),value:"top left"},{text:this.getLocalValue("tooltiptopright","Top Right"),value:"top right"},{text:this.getLocalValue("tooltipbottomcenter","Bottom Center"),value:"bottom center"},{text:this.getLocalValue("tooltipbottomleft","Bottom Left"),value:"bottom left"},{text:this.getLocalValue("tooltipbottomright","Bottom right"),value:"bottom right"},{text:this.getLocalValue("tooltiprightright","Right Center"),value:"right center"},{text:this.getLocalValue("tooltipleftcenter","Left Center"),value:"left center"}],t=[{text:this.getLocalValue("tooltipdefault","Default"),value:""},{text:this.getLocalValue("tooltiphover","Hover"),value:"hover"},{text:this.getLocalValue("tooltipclick","Click"),value:"click"},{text:this.getLocalValue("tooltipfocus","Focus"),value:"focus"}],r=this.props.data,n=this.props.parent.handleChange.bind(this.props.parent),a=r["tooltip-enabled"]?s.default.createElement(c.Segment,{vertical:!0},s.default.createElement(c.Form.Checkbox,{name:"tooltip-enabled",label:this.getLocalValue("tooltipenabledfield","Enabled"),checked:r["tooltip-enabled"],onChange:n}),s.default.createElement(c.Form.Input,{name:"tooltip-header",label:this.getLocalValue("tooltipheaderfield","Tooltip Header"),value:r["tooltip-header"],onChange:n}),s.default.createElement(c.Form.Input,{name:"tooltip-content",label:this.getLocalValue("tooltipcontentfield","Tooltip Content"),value:r["tooltip-content"],onChange:n}),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Input,{name:"tooltip-classname",label:this.getLocalValue("tooltipclassnamefield","ClassName"),value:r["tooltip-classname"],onChange:n}),s.default.createElement(c.Form.Dropdown,{name:"tooltip-showtype",selection:!0,fluid:!0,search:!0,options:t,placeholder:"Default",label:this.getLocalValue("tooltipshowtypefield","Tooptip showing type"),value:r["tooltip-showtype"],onChange:n}),s.default.createElement(c.Form.Dropdown,{name:"tooltip-position",selection:!0,fluid:!0,search:!0,options:e,placeholder:"Default",label:this.getLocalValue("tooltippositionfield","Tooptip position"),value:r["tooltip-position"],onChange:n}))):s.default.createElement(c.Segment,{vertical:!0},s.default.createElement(c.Form.Checkbox,{name:"tooltip-enabled",label:this.getLocalValue("tooltipenabledfield","Enabled"),checked:r["tooltip-enabled"],onChange:n}));return s.default.createElement(c.Form,{key:"tooltipDescriptionForm"},s.default.createElement(c.Segment,{vertical:!0},s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"tooltip-errordisabled",label:this.getLocalValue("errortooltipdisabledfield","Disable error tooptip"),checked:r["tooltip-errordisabled"],onChange:n}),s.default.createElement(c.Form.Dropdown,{name:"tooltip-errorshowtype",selection:!0,fluid:!0,search:!0,options:t,placeholder:"Default",label:this.getLocalValue("tooltiperrorshowtypefield","Error tooptip showing type"),value:r["tooltip-errorshowtype"],onChange:n}),s.default.createElement(c.Form.Dropdown,{name:"tooltip-errorposition",selection:!0,fluid:!0,search:!0,options:e,placeholder:"Default",label:this.getLocalValue("errortooltippositionfield","Error tooptip position"),value:r["tooltip-errorposition"],onChange:n}))),a)}},{key:"getOtherDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return s.default.createElement(c.Form,{key:"otherDescriptionForm"},s.default.createElement(c.Form.Input,{name:"propertyName",label:this.getLocalValue("propertynamefield","Property Name"),value:e.propertyName,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"other-required",label:this.getLocalValue("requiredfield","Required"),checked:e["other-required"],onChange:t}),s.default.createElement(c.Form.Input,{name:"defaultValue",label:this.getLocalValue("defaultvaluefield","Default value"),value:e.defaultValue,onChange:t}),s.default.createElement(c.Form.TextArea,{name:"other-customValidation",label:this.getLocalValue("customvalidationfield","Custom Validation"),placeholder:"/*** Example Code ***/\nvalue > 10 ? true : 'Must be more 10'",value:e["other-customValidation"],onChange:t}),s.default.createElement(c.Form.TextArea,{name:"other-visibleConition",label:this.getLocalValue("visibleconditionfield","Visible condition"),placeholder:"/*** Example Code ***/\ndata.type == 1 ? true : false",value:e["other-visibleConition"],onChange:t}),s.default.createElement(c.Form.TextArea,{name:"other-readOnlyConition",label:this.getLocalValue("readonlyconditionfield","ReadOnly condition"),placeholder:"/*** Example Code ***/\ndata.type == 1 ? true : false",value:e["other-readOnlyConition"],onChange:t}))}},{key:"render",value:function(){return s.default.createElement(c.Modal,{dimmer:"inverted",open:this.props.open,onClose:this.props.onClose.bind(this.props.parent)},s.default.createElement(c.Modal.Content,null,s.default.createElement(c.Modal.Description,null,s.default.createElement(c.Label,{className:"dwkit-formbuilder-editform-controltype"},this.props.data["data-buildertype"]),this.getDescription())),s.default.createElement(c.Modal.Actions,null,s.default.createElement(c.Button,{className:"buttontype1",onClick:this.props.onSave.bind(this.props.parent)},this.getLocalValue("savebutton","Save")),s.default.createElement(c.Button,{className:"buttontype2",onClick:this.props.onClose.bind(this.props.parent)},this.getLocalValue("cancelbutton","Cancel"))))}},{key:"checkActionsList",value:function(e){for(var t=!1,r=0;r<this.props.actions.length;r++)if(this.props.actions[r]==e){t=!0;break}t||this.props.actions.push({text:e,value:e})}},{key:"handleAdditionActions",value:function(e,t){var r=t.value;this.checkActionsList(r),this.forceUpdate()}}]),m);function m(e){u(this,m);var t=f(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,e));return t.state={activeItem:"general"},t.menuItems=[{key:"general",name:"general",content:t.getLocalValue("generaltab","General"),active:!0,onClick:t.handleItemClick.bind(t)},{key:"style",name:"style",content:t.getLocalValue("styletab","Style"),active:!1,onClick:t.handleItemClick.bind(t)},{key:"events",name:"events",content:t.getLocalValue("eventstab","Events"),active:!1,onClick:t.handleItemClick.bind(t)},{key:"tooltip",name:"tooltip",content:t.getLocalValue("tooltiptab","Tooltip"),active:!1,onClick:t.handleItemClick.bind(t)},{key:"other",name:"other",content:t.getLocalValue("othertab","Other"),active:!1,onClick:t.handleItemClick.bind(t)}],t}var v=(p(g,h),n(g,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),r=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"}];return s.default.createElement(c.Form,null,s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","headerform"),value:e.key,onChange:t}),s.default.createElement(c.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:r,placeholder:"Default",label:this.getLocalValue("sizefield","Size","header"),value:e.size,onChange:t})),s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.TextArea,{name:"content",label:this.getLocalValue("contentfield","Content","headerform"),value:e.content,onChange:t}),s.default.createElement("div",{className:"field"},s.default.createElement("label",null,this.getLocalValue("textalignfield","Text Align","headerform")),s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Radio,{name:"textAlign",label:this.getLocalValue("textalignleft","Left","headerform"),value:"left",checked:"left"===e.textAlign,onChange:t}),s.default.createElement(c.Form.Radio,{name:"textAlign",label:this.getLocalValue("textaligncenter","Center","headerform"),value:"center",checked:"center"===e.textAlign,onChange:t}),s.default.createElement(c.Form.Radio,{name:"textAlign",label:this.getLocalValue("textalignright","Right","headerform"),value:"right",checked:"right"===e.textAlign,onChange:t})))),s.default.createElement(c.Form.Input,{name:"subheader",label:this.getLocalValue("subheaderfield","Subheader","headerform"),value:e.subheader,onChange:t}))}}]),g);function g(e){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,e))}var y=(p(b,h),n(b,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),r=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizebig","Big"),value:"big"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"},{text:this.getLocalValue("sizemassive","Massive"),value:"massive"}];return s.default.createElement(c.Form,null,s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","buttonform"),value:e.key,onChange:t}),s.default.createElement(c.Form.Input,{name:"icon",label:this.getLocalValue("iconfield","Icon","buttonform"),value:e.icon,onChange:t,action:{icon:"help",onClick:function(e){window.open("https://react.semantic-ui.com/elements/icon/")}}})),s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"content",label:this.getLocalValue("contentfield","Content","buttonform"),value:e.content,onChange:t}),s.default.createElement(c.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:r,placeholder:"Default",label:this.getLocalValue("sizefield","Size","buttonform"),value:e.size,onChange:t})),s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement("div",{className:"field"},s.default.createElement("label",null,this.getLocalValue("optionsfield","Options","buttonform")),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"basic",label:this.getLocalValue("basicfield","Basic","buttonform"),checked:e.basic,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"circular",label:this.getLocalValue("circularfield","Circular","buttonform"),checked:e.circular,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"compact",label:this.getLocalValue("compactfield","Compact","buttonform"),checked:e.compact,onChange:t})),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","buttonform"),checked:e.disabled,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","buttonform"),checked:e.fluid,onChange:t})),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"primary",label:this.getLocalValue("primaryfield","Primary","buttonform"),checked:e.primary,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"secondary",label:this.getLocalValue("secondaryfield","Secondary","buttonform"),checked:e.secondary,onChange:t}))),s.default.createElement("div",{className:"field"},s.default.createElement("label",null,this.getLocalValue("floatedfield","Floated","buttonform")),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Radio,{name:"floated",label:this.getLocalValue("floateddefaultfield","Default","buttonform"),value:"",checked:void 0===e.floated||""===e.floated,onChange:t}),s.default.createElement(c.Form.Radio,{name:"floated",label:this.getLocalValue("floatedleftfield","Left","buttonform"),value:"left",checked:"left"===e.floated,onChange:t}),s.default.createElement(c.Form.Radio,{name:"floated",label:this.getLocalValue("floatedrightfield","Right","buttonform"),value:"right",checked:"right"===e.floated,onChange:t})))))}},{key:"getEventsList",value:function(){return["onClick"]}}]),b);function b(e){return u(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,e))}var w=(p(C,h),n(C,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data,r=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"}],n=[{text:this.getLocalValue("attachednone","None"),value:""},{text:this.getLocalValue("attachedtop","Top"),value:"top"},{text:this.getLocalValue("attachedbottom","Bottom"),value:"bottom"},{text:this.getLocalValue("attachedtopright","Top right"),value:"top right"},{text:this.getLocalValue("attachedtopleft","Top left"),value:"top left"},{text:this.getLocalValue("attachedbottomleft","Bottom left"),value:"bottom left"},{text:this.getLocalValue("attachedbottomright","Bottom right"),value:"bottom right"}];return s.default.createElement(c.Form,null,s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","labelform"),value:t.key,onChange:e}),s.default.createElement(c.Form.Dropdown,{name:"attached",selection:!0,fluid:!0,options:n,placeholder:n[0].text,label:this.getLocalValue("attachedfield","Attached","labelform"),value:t.attached,onChange:e})),s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement("div",{className:"field"},s.default.createElement(c.Form.Input,{name:"content",label:this.getLocalValue("contentfield","Content","labelform"),value:t.content,onChange:e}),s.default.createElement(c.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:r,placeholder:"Default",label:this.getLocalValue("sizefield","Size","labelform"),value:t.size,onChange:e})),s.default.createElement("div",{className:"field"},s.default.createElement("label",null,this.getLocalValue("optionsfield","Options","labelform")),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"basic",label:this.getLocalValue("basicfield","Basic","labelform"),checked:t.basic,onChange:e}),s.default.createElement(c.Form.Checkbox,{name:"circular",label:this.getLocalValue("circularfield","Circular","labelform"),checked:t.circular,onChange:e}),s.default.createElement(c.Form.Checkbox,{name:"corner",label:this.getLocalValue("cornerfield","Corner","labelform"),checked:t.corner,onChange:e})),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"floating",label:this.getLocalValue("floatingfield","Floating","labelform"),checked:t.floating,onChange:e}),s.default.createElement(c.Form.Checkbox,{name:"pointing",label:this.getLocalValue("pointingfield","Pointing","labelform"),checked:t.pointing,onChange:e})))))}}]),C);function C(e){return u(this,C),f(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,e))}var k=(p(E,h),n(E,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return s.default.createElement(c.Form,null,s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","staticcontentform"),value:t.key,onChange:e}),s.default.createElement(c.Form.Input,{name:"style-font-size",placeholder:"20px",label:this.getLocalValue("fontsizefield","Font size","staticcontentform"),value:t["style-font-size"],onChange:e})),s.default.createElement(c.Form.Checkbox,{name:"isHtml",label:this.getLocalValue("allowhtmlfield","Allow HTML","staticcontentform"),checked:t.isHtml,onChange:e}),s.default.createElement(c.TextArea,{rows:6,name:"content",label:this.getLocalValue("contentfield","Content","staticcontentform"),value:t.content,onChange:e}))}}]),E);function E(e){return u(this,E),f(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,e))}var _=(p(F,h),n(F,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data,r=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"}];return s.default.createElement(c.Form,null,s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement("div",{className:"field"},s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","messageform"),value:t.key,onChange:e}),s.default.createElement(c.Form.Input,{name:"header",label:this.getLocalValue("headerfield","Header","messageform"),value:t.header,onChange:e})),s.default.createElement("div",{className:"field"},s.default.createElement("label",null,this.getLocalValue("optionsfield","Options","messageform")),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"compact",label:this.getLocalValue("compactfield","Compact","messageform"),checked:t.compact,onChange:e}),s.default.createElement(c.Form.Checkbox,{name:"error",label:this.getLocalValue("errorfield","Error","messageform"),checked:t.error,onChange:e}),s.default.createElement(c.Form.Checkbox,{name:"floating",label:this.getLocalValue("floatingfield","Floating","messageform"),checked:t.floating,onChange:e})),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"info",label:this.getLocalValue("infofield","Info","messageform"),checked:t.info,onChange:e}),s.default.createElement(c.Form.Checkbox,{name:"negative",label:this.getLocalValue("negativefield","Negative","messageform"),checked:t.negative,onChange:e}),s.default.createElement(c.Form.Checkbox,{name:"positive",label:this.getLocalValue("positivefield","Positive","messageform"),checked:t.positive,onChange:e})),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"success",label:this.getLocalValue("successfield","Success","messageform"),checked:t.success,onChange:e}),s.default.createElement(c.Form.Checkbox,{name:"warning",label:this.getLocalValue("warningfield","Warning","messageform"),checked:t.warning,onChange:e})))),s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.TextArea,{name:"content",label:this.getLocalValue("contentfield","Content","messageform"),value:t.content,onChange:e}),s.default.createElement(c.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:r,placeholder:r[0].text,label:this.getLocalValue("sizefield","Size","messageform"),value:t.size,onChange:e})))}}]),F);function F(e){return u(this,F),f(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,e))}var O=(p(x,h),n(x,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data,r=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"},{text:this.getLocalValue("sizemassive","Massive"),value:"massive"}],n=[{text:this.getLocalValue("labeldefault","Default"),value:""},{text:this.getLocalValue("labelleft","Left"),value:"left"},{text:this.getLocalValue("labelright","Right"),value:"right"},{text:this.getLocalValue("labelleftcorner","Left corner"),value:"left corner"},{text:this.getLocalValue("labelrightcorner","Right corner"),value:"right corner"}];return"date"!==t.type&&"datetime"!==t.type&&t.type,s.default.createElement(c.Form,null,s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","inputform"),value:t.key,onChange:e}),s.default.createElement(c.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","inputform"),value:t.label,onChange:e})),s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement("div",{className:"field"},s.default.createElement("label",null,this.getLocalValue("typefield","Type","inputform")),s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Radio,{name:"type",label:this.getLocalValue("typetext","Text","inputform"),value:"text",checked:null==t.type||"text"==t.type,onChange:e}),s.default.createElement(c.Form.Radio,{name:"type",label:this.getLocalValue("typenumber","Number","inputform"),value:"number",checked:"number"===t.type,onChange:e}),s.default.createElement(c.Form.Radio,{name:"type",label:this.getLocalValue("typepasswod","Password","inputform"),value:"password",checked:"password"===t.type,onChange:e}),s.default.createElement(c.Form.Radio,{name:"type",label:this.getLocalValue("typefile","File","inputform"),value:"file",checked:"file"===t.type,onChange:e})),s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Radio,{name:"type",label:this.getLocalValue("typedate","Date","inputform"),value:"date",checked:"date"===t.type,onChange:e}),s.default.createElement(c.Form.Radio,{name:"type",label:this.getLocalValue("typetime","Time","inputform"),value:"time",checked:"time"===t.type,onChange:e}),s.default.createElement(c.Form.Radio,{name:"type",label:this.getLocalValue("typedatetime","Date & Time","inputform"),value:"datetime",checked:"datetime"===t.type,onChange:e}))),s.default.createElement("div",{className:"field"},s.default.createElement(c.Form.Dropdown,{name:"labelPosition",selection:!0,fluid:!0,placeholder:n[0].text,options:n,label:this.getLocalValue("labelpositionfield","Label position","inputform"),value:t.labelPosition,onChange:e}),s.default.createElement(c.Form.Input,{name:"placeholder",label:this.getLocalValue("placeholderfield","Placeholder","inputform"),value:t.placeholder,onChange:e}))),s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement("div",{className:"field"},s.default.createElement("label",null,this.getLocalValue("optionsfield","Options","inputform")),s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","inputform"),checked:t.disabled,onChange:e}),s.default.createElement(c.Form.Checkbox,{name:"transparent",label:this.getLocalValue("transparentfield","Transparent","inputform"),checked:t.transparent,onChange:e}),s.default.createElement(c.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","inputform"),checked:t.fluid,onChange:e}),s.default.createElement(c.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","inputform"),checked:t.readOnly,onChange:e}))),s.default.createElement("div",{className:"field"},s.default.createElement(c.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:r,placeholder:r[0].text,label:this.getLocalValue("sizefield","Size","inputform"),value:t.size,onChange:e}))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),x);function x(e){return u(this,x),f(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,e))}var S=(p(L,h),n(L,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return s.default.createElement(c.Form,null,s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","textareaform"),value:t.key,onChange:e}),s.default.createElement(c.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","textareaform"),value:t.label,onChange:e})),s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"rows",placeholder:"3",type:"number",label:this.getLocalValue("rowsfield","Rows","textareaform"),value:t.rows,onChange:e}),s.default.createElement("div",{className:"field"},s.default.createElement(c.Form.Input,{name:"placeholder",label:this.getLocalValue("placeholderfield","Placeholder","textareaform"),value:t.placeholder,onChange:e}),s.default.createElement("label",null,this.getLocalValue("optionsfield","Options","textareaform")),s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","textareaform"),checked:t.readOnly,onChange:e})))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),L);function L(e){return u(this,L),f(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,e))}var D=(p(I,h),n(I,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return s.default.createElement(c.Form,null,s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","searchform"),value:t.key,onChange:e}),s.default.createElement(c.Form.Input,{name:"url",label:this.getLocalValue("urlfield","Url","searchform"),value:t.url,onChange:e}),s.default.createElement(c.Form.Checkbox,{name:"category",label:this.getLocalValue("categoryfield","Enable Categories","searchform"),checked:Boolean(t.category),onChange:e}))}},{key:"getEventsList",value:function(){return["onSelect"]}}]),I);function I(e){return u(this,I),f(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,e))}var A=(p(V,h),n(V,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return s.default.createElement(c.Form,null,s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","checkboxform"),value:t.key,onChange:e}),s.default.createElement(c.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","checkboxform"),value:t.label,onChange:e})),s.default.createElement(c.Form.Group,{widths:"2"},s.default.createElement("div",{className:"field"},s.default.createElement("label",null,this.getLocalValue("optionsfield","Options","checkboxform")),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"fitted",label:this.getLocalValue("fittedfield","Fitted","checkboxform"),checked:t.fitted,onChange:e}),s.default.createElement(c.Form.Checkbox,{name:"indeterminate",label:this.getLocalValue("indeterminatefield","Indeterminate","checkboxform"),checked:t.indeterminate,onChange:e}),s.default.createElement(c.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","ReadOnly","checkboxform"),checked:t.readOnly,onChange:e})),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","checkboxform"),checked:t.disabled,onChange:e}),s.default.createElement(c.Form.Checkbox,{name:"slider",label:this.getLocalValue("sliderfield","Slider","checkboxform"),checked:t.slider,onChange:e}),s.default.createElement(c.Form.Checkbox,{name:"toggle",label:this.getLocalValue("togglefield","Toggle","checkboxform"),checked:t.toggle,onChange:e})))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),V);function V(e){return u(this,V),f(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,e))}var j=(p(N,h),n(N,[{key:"getGeneralDescription",value:function(){var e=this.props.data,a=this.props.parent.handleChange.bind(this.props.parent),t=[{key:"value",name:this.getLocalValue("datavaluecolumn","Value","dropdownform")},{key:"text",name:this.getLocalValue("datatextcolumn","Text","dropdownform")}];return s.default.createElement(c.Form,null,s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","dropdownform"),value:e.key,onChange:a}),s.default.createElement(c.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","dropdownform"),value:e.label,onChange:a})),s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(l.default,{key:"data-elements",draggable:!0,columns:t,label:this.getLocalValue("datafield","Data","dropdownform"),name:"data-elements",value:e["data-elements"],onChange:function(e,t){var r=t.name,n=t.value;Array.isArray(n)&&n.forEach(function(e){null!=e.value&&null!=e.value.match&&e.value.match(/^-{0,1}\d+$/)&&(e.value=parseInt(e.value))}),a(e,{name:r,value:n})}}),s.default.createElement("div",{className:"field"},s.default.createElement(c.Form.Input,{name:"placeholder",label:"Placeholder",value:e.placeholder,onChange:a}),s.default.createElement("div",{className:"field"},s.default.createElement("label",null,this.getLocalValue("optionsfield","Options","dropdownform")),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"multiple",label:this.getLocalValue("multiplefield","Multiple","dropdownform"),checked:e.multiple,onChange:a}),s.default.createElement(c.Form.Checkbox,{name:"search",label:this.getLocalValue("searchfield","Search","dropdownform"),checked:e.search,onChange:a}),s.default.createElement(c.Form.Checkbox,{name:"allowAddItems",label:this.getLocalValue("allowAddItemsfield","Allow add items","dropdownform"),disabled:!(e.search&&e.multiple),checked:e.allowAddItems,onChange:a})),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"clearable",label:this.getLocalValue("clearablefield","Clearable"),checked:e.clearable,onChange:a}),s.default.createElement(c.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","dropdownform"),checked:e.disabled,onChange:a}),s.default.createElement(c.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","dropdownform"),checked:e.fluid,onChange:a})),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"selection",label:this.getLocalValue("selectionfield","Selection","dropdownform"),checked:e.selection,onChange:a}),s.default.createElement(c.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","dropdownform"),checked:e.readOnly,onChange:a}))))))}},{key:"getEventsList",value:function(){return["onClick","onChange"]}}]),N);function N(e){return u(this,N),f(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,e))}var P=(p(T,h),n(T,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return s.default.createElement(c.Form,null,s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","dictionaryform"),value:e.key,onChange:t}),s.default.createElement(c.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","dictionaryform"),value:e.label,onChange:t})),s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"dataModel",label:this.getLocalValue("datamodelfield","Data model","dictionaryform"),value:e.dataModel,onChange:t}),s.default.createElement(c.Form.Input,{name:"placeholder",label:this.getLocalValue("placeholderfield","Placeholder","dictionaryform"),value:e.placeholder,onChange:t})),s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement("div",{className:"field"},s.default.createElement(c.Form.Input,{name:"columns",label:this.getLocalValue("columnsfield","Columns (Name ASC, Email)","dictionaryform"),value:e.columns,onChange:t}),s.default.createElement(c.Form.Input,{name:"filters",label:this.getLocalValue("filtersfield","Filters","dictionaryform"),value:e.filters,onChange:t,placeholder:'[{"column":"columnName","value":"columnValue","term":"="}]'}),s.default.createElement(c.Form.Input,{name:"pageSize",label:this.getLocalValue("pagesizefield","Page Size","dictionaryform"),disabled:!e.paging,value:e.pageSize,placeholder:"100",onChange:t})),s.default.createElement("div",{className:"field"},s.default.createElement("label",null,this.getLocalValue("optionsfield","Options","dictionaryform")),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"paging",label:this.getLocalValue("pagingfield","Server pagination","dictionaryform"),checked:e.paging,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"search",label:this.getLocalValue("searchfield","Search","dictionaryform"),checked:e.search,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"multiple",label:this.getLocalValue("multiplefield","Multiple","dictionaryform"),checked:e.multiple,onChange:t})),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","dictionaryform"),checked:e.readOnly,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","dictionaryform"),checked:e.disabled,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"clearable",label:this.getLocalValue("clearablefield","Clearable","dictionaryform"),checked:e.clearable,onChange:t})),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"selection",label:this.getLocalValue("selectionfield","Selection","dictionaryform"),checked:e.selection,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","dictionaryform"),checked:e.fluid,onChange:t})))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),T);function T(e){return u(this,T),f(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,e))}var R=(p(M,h),n(M,[{key:"getStyleDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),r="/*** Example Code ***/\ncolor:red;\npaddingTop:5px;";return s.default.createElement(c.Form,{key:"styleDescriptionForm"},s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"style-width",label:this.getLocalValue("widthfield","Width"),placeholder:"100px",value:e["style-width"],onChange:t}),s.default.createElement(c.Form.Input,{name:"style-height",label:this.getLocalValue("heightfield","Height"),placeholder:"100px",value:e["style-height"],onChange:t})),s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"style-marginTop",label:this.getLocalValue("margintopfield","Margin Top"),placeholder:"0px",value:e["style-marginTop"],onChange:t}),s.default.createElement(c.Form.Input,{name:"style-marginBottom",label:this.getLocalValue("marginbottomfield","Margin Bottom"),placeholder:"0px",value:e["style-marginBottom"],onChange:t}),s.default.createElement(c.Form.Input,{name:"style-marginLeft",label:this.getLocalValue("marginleftfield","Margin Left"),placeholder:"0px",value:e["style-marginLeft"],onChange:t}),s.default.createElement(c.Form.Input,{name:"style-marginRight",label:this.getLocalValue("marginrightfield","Margin Right"),placeholder:"0px",value:e["style-marginRight"],onChange:t})),s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"style-customcss",label:this.getLocalValue("buttoncssclass","Custom CSS class for button","treepickerform"),placeholder:"dwkit-application-css (without '.')",value:e["style-customcss"],onChange:t}),s.default.createElement(c.Form.Input,{name:"style-custommodalcss",label:this.getLocalValue("modalcssclass","Custom CSS class for modal","treepickerform"),placeholder:"dwkit-application-css (without '.')",value:e["style-custommodalcss"],onChange:t})),s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.TextArea,{name:"style-source",label:this.getLocalValue("buttonstyle","Button style","treepickerform"),placeholder:r,value:e["style-source"],onChange:t}),s.default.createElement(c.Form.TextArea,{name:"style-modalsource",label:this.getLocalValue("modalstyle","Modal style","treepickerform"),placeholder:r,value:e["style-modalsource"],onChange:t})),s.default.createElement(c.Form.Checkbox,{name:"style-hidden",label:this.getLocalValue("hiddenfield","Hidden"),checked:e["style-hidden"],onChange:t}))}},{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return s.default.createElement(c.Form,null,s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","treepickerform"),value:e.key,onChange:t}),s.default.createElement(c.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","treepickerform"),value:e.label,onChange:t})),s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"dataModel",label:this.getLocalValue("datamodelfield","Data model","treepickerform"),value:e.dataModel,onChange:t}),s.default.createElement(c.Form.Input,{name:"parentIdField",label:this.getLocalValue("parentidfield","ParentId field","treepickerform"),value:e.parentIdField,onChange:t})),s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement("div",{className:"field"},s.default.createElement(c.Form.Input,{name:"columns",label:this.getLocalValue("columnsfield","Columns (Name ASC, Email)","treepickerform"),value:e.columns,onChange:t})),s.default.createElement("div",{className:"field"},s.default.createElement(c.Form.Input,{name:"pageSize",label:this.getLocalValue("pagesizefield","Page Size","treepickerform"),disabled:!e.paging,value:e.pageSize,placeholder:"100",onChange:t}),s.default.createElement("label",null,this.getLocalValue("optionsfield","Options","treepickerform")),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"paging",label:this.getLocalValue("pagingfield","Server pagination","treepickerform"),checked:e.paging,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"multiple",label:this.getLocalValue("multiplefield","Multiple","treepickerform"),checked:e.multiple,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","treepickerform"),checked:e.fluid,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"selection",label:this.getLocalValue("selectionfield","Selection","treepickerform"),checked:e.selection,onChange:t})),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","treepickerform"),checked:e.readOnly,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","treepickerform"),checked:e.disabled,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"clearable",label:this.getLocalValue("clearablefield","Clearable","treepickerform"),checked:e.clearable,onChange:t})))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),M);function M(e){return u(this,M),f(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,e))}var z=(p(B,h),n(B,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),r=[{key:"value",name:this.getLocalValue("datavaluecolumn","Value","radiogroupform")},{key:"text",name:this.getLocalValue("datatextcolumn","Text","radiogroupform")}];return s.default.createElement(c.Form,null,s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","radiogroupform"),value:e.key,onChange:t}),s.default.createElement(c.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","radiogroupform"),value:e.label,onChange:t})),s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(l.default,{key:"data-elements",draggable:!0,columns:r,label:this.getLocalValue("datafield","Data","radiogroupform"),name:"data-elements",value:e["data-elements"],onChange:t}),s.default.createElement("div",{className:"field"},s.default.createElement("label",null,this.getLocalValue("groupdirectfield","Group direction","radiogroupform")),s.default.createElement(c.Form.Radio,{name:"direction",label:this.getLocalValue("directionhorizontalfield","Horizontal","radiogroupform"),value:"g",checked:void 0===e.direction||"g"===e.direction,onChange:t}),s.default.createElement(c.Form.Radio,{name:"direction",label:this.getLocalValue("directionverticalfield","Vertical","radiogroupform"),value:"v",checked:"v"===e.direction,onChange:t}),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","radiogroupform"),checked:e.readOnly,onChange:t})))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),B);function B(e){return u(this,B),f(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,e))}var U=(p(G,h),n(G,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),r=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"}];return s.default.createElement(c.Form,null,s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","form"),value:e.key,onChange:t}),s.default.createElement(c.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:r,placeholder:r[0].text,label:this.getLocalValue("sizefield","Size","form"),value:e.size,onChange:t})))}},{key:"getEventsList",value:function(){return["onSubmit"]}}]),G);function G(e){return u(this,G),f(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,e))}var q=(p(W,h),n(W,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return e=this.props.data,s.default.createElement(c.Form,null,s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","formgroupform"),value:e.key,onChange:t}),s.default.createElement("div",{className:"field"},s.default.createElement("label",null,this.getLocalValue("widthsfield","Widths","formgroupform")),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Radio,{name:"widths",label:this.getLocalValue("widthsequalfield","Equal","formgroupform"),value:"equal",checked:"equal"===e.widths,onChange:t}),s.default.createElement(c.Form.Radio,{name:"widths",label:this.getLocalValue("widthscustomfield","Custom (1 - 16)","formgroupform"),value:"custom",checked:"custom"===e.widths,onChange:t})))),s.default.createElement(c.Form.Group,{widths:"2"},s.default.createElement("div",{className:"field"},s.default.createElement("label",null,this.getLocalValue("typefield","Type","formgroupform")),s.default.createElement(c.Form.Group,{inline:!0},s.default.createElement(c.Form.Radio,{name:"orientation",label:this.getLocalValue("orientationcolumnsfield","Columns","formgroupform"),value:"inline",checked:void 0===e.orientation||"inline"===e.orientation,onChange:t}),s.default.createElement(c.Form.Radio,{name:"orientation",label:this.getLocalValue("orientationrowsfield","Rows","formgroupform"),value:"grouped",checked:"grouped"===e.orientation,onChange:t}))),s.default.createElement(c.Form.Input,{name:"widthsCustom",disabled:"custom"!==e.widths,placeholder:"2",value:e.widthsCustom,onChange:t})))}}]),W);function W(e){return u(this,W),f(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,e))}var K=(p(H,h),n(H,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),r=(e=this.props.data,[{text:this.getLocalValue("floatnonefield","None","containerform"),value:""},{text:this.getLocalValue("floatleftfield","Left","containerform"),value:"left"},{text:this.getLocalValue("floatrightfield","Right","containerform"),value:"right"},{text:this.getLocalValue("floatinheritfield","Inherit","containerform"),value:"inherit"},{text:this.getLocalValue("floatinitialfield","Initial","containerform"),value:"initial"}]),n=[{text:this.getLocalValue("displaynotsetfield","(Not set)","containerform"),value:""},{text:this.getLocalValue("displayflexfield","Flex","containerform"),value:"flex"},{text:this.getLocalValue("displayblockfield","Block","containerform"),value:"block"},{text:this.getLocalValue("displayinlinefield","Inline","containerform"),value:"inline"},{text:this.getLocalValue("displayflowfield","Flow","containerform"),value:"flow"},{text:this.getLocalValue("displayflowrootfield","Flow-root","containerform"),value:"flow-root"},{text:this.getLocalValue("displaytablefield","Table","containerform"),value:"table"},{text:this.getLocalValue("displaygridfield","Grid","containerform"),value:"grid"},{text:this.getLocalValue("displaycontentsfield","Contents","containerform"),value:"contents"},{text:this.getLocalValue("displayinlineblockfield","Inline-block","containerform"),value:"inline-block"},{text:this.getLocalValue("displayinlinetablefield","Inline-table","containerform"),value:"inline-table"},{text:this.getLocalValue("displayinlineflexfield","Inline-flex","containerform"),value:"inline-flex"},{text:this.getLocalValue("displayinlinegridfield","Inline-grid","containerform"),value:"inline-grid"},{text:this.getLocalValue("displayinheritfield","Inherit","containerform"),value:"inherit"},{text:this.getLocalValue("displayinitialfield","Initial","containerform"),value:"initial"},{text:this.getLocalValue("displaynonefield","None","containerform"),value:"none"}];return s.default.createElement(c.Form,null,s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","containerform"),value:e.key,onChange:t}),s.default.createElement(c.Form.Dropdown,{name:"style-float",selection:!0,fluid:!0,options:r,placeholder:r[0].text,label:this.getLocalValue("floatfield","Float","containerform"),value:e["style-float"],onChange:t}),s.default.createElement(c.Form.Dropdown,{name:"style-display",selection:!0,search:!0,fluid:!0,options:n,placeholder:n[0].text,label:this.getLocalValue("displayfield","Display","containerform"),value:e["style-display"],onChange:t}))}}]),H);function H(e){return u(this,H),f(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,e))}var $=(p(J,h),n(J,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),r=(e=this.props.data,[{value:"",text:this.getLocalValue("pagertypenonefield","None","repeaterform")},{value:"server",text:this.getLocalValue("pagertypeserverfield","Server","repeaterform")}]);return s.default.createElement(c.Form,null,s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","repeaterform"),value:e.key,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"slider",label:this.getLocalValue("sliderfield","Slider","repeaterform"),checked:e.slider,onChange:t}),s.default.createElement(c.Form.TextArea,{name:"item-visibleCondition",label:this.getLocalValue("itemvisibleconditionfield","Item Visible Condition","repeaterform"),placeholder:"data.Type == 1",value:e["item-visibleCondition"],onChange:t}),s.default.createElement(c.Form.Input,{name:"defaultSort",label:this.getLocalValue("defaultsortfield","Default sort","repeaterform"),placeholder:"Name ASC",value:e.defaultSort,onChange:t}),s.default.createElement(c.Form.Dropdown,{name:"pagerType",selection:!0,fluid:!0,label:this.getLocalValue("pagertypefield","Pagination type","repeaterform"),placeholder:"None",options:r,value:e.pagerType,onChange:t}),s.default.createElement(c.Form.Group,null,"server"==e.pagerType&&s.default.createElement(c.Form.Input,{name:"pageSize",placeholder:"20",label:this.getLocalValue("pagesizefield","Page size","repeaterform"),value:e.pageSize,onChange:t}),"server"==e.pagerType&&s.default.createElement(c.Form.Input,{name:"loadButtonLabel",label:this.getLocalValue("loadbuttonlabelfield","Load Button Label","repeaterform"),value:e.loadButtonLabel,onChange:t}),"server"==e.pagerType&&s.default.createElement(c.Form.Input,{name:"noRecordsLabel",label:this.getLocalValue("norecordslabelfield","No Record Button Label","repeaterform"),value:e.noRecordsLabel,onChange:t})))}}]),J);function J(e){return u(this,J),f(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,e))}var Q=(p(Y,h),n(Y,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return s.default.createElement(c.Form,null,s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement("div",{className:"field"},s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","imageform"),value:e.key,onChange:t}),s.default.createElement(c.Form.Input,{name:"src",label:this.getLocalValue("srcfield","Src","imageform"),value:e.src,onChange:t}),s.default.createElement(c.Form.Input,{name:"href",label:this.getLocalValue("hreffield","Href","imageform"),value:e.href,onChange:t})),s.default.createElement("div",{className:"field"},s.default.createElement("div",{className:"field"},s.default.createElement("label",null,this.getLocalValue("optionsfield","Options","imageform")),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"avatar",label:this.getLocalValue("avatarfield","Avatar","imageform"),checked:e.avatar,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"bordered",label:this.getLocalValue("borderedfield","Bordered","imageform"),checked:e.bordered,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"centered",label:this.getLocalValue("centeredfield","Centered","imageform"),checked:e.centered,onChange:t})),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","imageform"),checked:e.disabled,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"inline",label:this.getLocalValue("inlinefield","Inline","imageform"),checked:e.inline,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"spaced",label:this.getLocalValue("spacedfield","Spaced","imageform"),checked:e.spaced,onChange:t}))),s.default.createElement("div",{className:"field"},s.default.createElement("label",null,this.getLocalValue("floatedfield","Floated","imageform")),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Radio,{name:"floated",label:this.getLocalValue("floatedleftfield","Left","imageform"),value:"left",checked:"left"===e.floated||""===e.floated,onChange:t}),s.default.createElement(c.Form.Radio,{name:"floated",label:this.getLocalValue("floatedrightfield","Right","imageform"),value:"right",checked:"right"===e.floated,onChange:t})),s.default.createElement("label",null,this.getLocalValue("verticalalignfield","Vertical align","imageform")),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Radio,{name:"verticalAlign",label:this.getLocalValue("verticalaligntopfield","Top","imageform"),value:"top",checked:"top"===e.verticalAlign,onChange:t}),s.default.createElement(c.Form.Radio,{name:"verticalAlign",label:this.getLocalValue("verticalalignmiddlefield","Middle","imageform"),value:"middle",checked:"middle"===e.verticalAlign,onChange:t}),s.default.createElement(c.Form.Radio,{name:"verticalAlign",label:this.getLocalValue("verticalalignbottomfield","Bottom","imageform"),value:"bottom",checked:"bottom"===e.verticalAlign,onChange:t}))))))}}]),Y);function Y(e){return u(this,Y),f(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,e))}var Z=(p(X,h),n(X,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),r=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"}],n=[{key:"label",name:this.getLocalValue("datakeycolumn","Label","statisticform")},{key:"value",name:this.getLocalValue("datavaluecolumn","Value","statisticform")}];return s.default.createElement(c.Form,null,s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","statisticform"),value:e.key,onChange:t}),s.default.createElement("div",{className:"field"},s.default.createElement("label",null,this.getLocalValue("optionsfield","Options","statisticform")),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"horizontal",label:this.getLocalValue("horizontalfield","Horizontal","statisticform"),checked:e.horizontal,onChange:t})))),s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(l.default,{key:"data-elements",columns:n,label:this.getLocalValue("datafield","Data","statisticform"),name:"data-elements",value:e["data-elements"],onChange:t}),s.default.createElement(c.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:r,placeholder:r[0].text,label:this.getLocalValue("sizefield","Size","statisticform"),value:e.size,onChange:t})))}}]),X);function X(e){return u(this,X),f(this,(X.__proto__||Object.getPrototypeOf(X)).call(this,e))}var ee=(p(te,h),n(te,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),r=[{value:"",text:this.getLocalValue("pagertypenonefield","None","gridform")},{value:"server",text:this.getLocalValue("pagertypeserverfield","Server","gridform")}],n=[{value:"",text:this.getLocalValue("editformtypedefaultfield","Default","gridform")},{value:"modal",text:this.getLocalValue("editformtypemodalfield","Modal","gridform")},{value:"sidebar",text:this.getLocalValue("editformtypesidebarfield","Sidebar","gridform")}],a=[{value:"right",text:this.getLocalValue("editformsidebarderectionrightfield","Right","gridform")},{value:"left",text:this.getLocalValue("editformsidebarderectionleftfield","Left","gridform")}],o=[{key:"key",name:this.getLocalValue("keycolumn","Key","gridform")},{key:"name",name:this.getLocalValue("namecolumn","Name","gridform")},{key:"type",name:this.getLocalValue("typecolumn","Type","gridform"),dataList:["","number","checkbox","date","datetime","time","custom"]},{key:"width",name:this.getLocalValue("widthcolumn","Width","gridform"),control:"number"},{key:"resizable",name:this.getLocalValue("resizablecolumn","Resizable","gridform"),control:"checkbox"}];return s.default.createElement(c.Form,null,s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","gridform"),value:e.key,onChange:t}),s.default.createElement("div",{className:"field"},s.default.createElement("label",null,this.getLocalValue("optionsfield","Options","gridform")),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"multiselect",label:this.getLocalValue("multiselectfield","Multiselect","gridform"),checked:e.multiselect,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"disableSort",label:this.getLocalValue("disablesortfield","Disable sorting","gridform"),checked:e.disableSort,onChange:t})))),s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement("div",{className:"field"},s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(i.default,{name:"editType",label:this.getLocalValue("edittypefield","Edit type","gridform"),items:[{key:"form",text:"Form",value:void 0},{key:"flow",text:"Flow",value:"flow"}],value:e.editType,onChange:t}),"flow"!==e.editType&&s.default.createElement(c.Form.Input,{name:"editForm",label:this.getLocalValue("editformfield","Edit form","gridform"),disabled:1==e.inline,value:e.editForm,onChange:t}),"flow"===e.editType&&s.default.createElement(c.Form.Input,{name:"editFlow",label:this.getLocalValue("editflowfield","Edit flow","gridform"),disabled:1==e.inline,value:e.editFlow,onChange:t})),s.default.createElement(c.Form.Input,{name:"rowKey",label:this.getLocalValue("rowkeyfield","Row key","gridform"),value:e.rowKey,onChange:t}),s.default.createElement(c.Form.Input,{name:"pageSize",label:this.getLocalValue("pagesizefield","Page size","gridform"),value:e.pageSize,onChange:t}),s.default.createElement(c.Form.Input,{name:"defaultSort",label:this.getLocalValue("defaultsortfield","Default sort","gridform"),placeholder:"Name ASC",value:e.defaultSort,onChange:t})),s.default.createElement("div",{className:"field"},s.default.createElement(c.Form.Dropdown,{name:"editFormShowType",selection:!0,fluid:!0,label:this.getLocalValue("editformshowtypefield","Edit form show type","gridform"),placeholder:n[0].text,options:n,value:e.editFormShowType,onChange:t}),s.default.createElement(c.Form.Dropdown,{name:"sidebarDirection",selection:!0,fluid:!0,label:this.getLocalValue("editformsidebardirectionfield","Sidebar direction","gridform"),placeholder:a[0].text,options:a,value:e.sidebarDirection,onChange:t,disabled:"sidebar"!==e.editFormShowType}),s.default.createElement(c.Form.Dropdown,{name:"pagerType",selection:!0,fluid:!0,label:this.getLocalValue("pagertypefield","Pagination type","gridform"),placeholder:"None",options:r,value:e.pagerType,onChange:t}),s.default.createElement(c.Form.Input,{name:"rowHeight",label:this.getLocalValue("rowheightfield","Row height","gridform"),value:e.rowHeight,onChange:t}),s.default.createElement(c.Form.Input,{name:"minHeight",label:this.getLocalValue("minheightfield","Min height","gridform"),value:e.minHeight,onChange:t}),s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Checkbox,{name:"autoHeight",label:this.getLocalValue("autoheightfield","Auto Height","gridform"),checked:Boolean(e.autoHeight),onChange:t}),s.default.createElement(c.Form.Input,{name:"offSet",label:this.getLocalValue("offsetfield","OffSet","gridform"),disabled:!Boolean(e.autoHeight),value:e.offSet,onChange:t})))),s.default.createElement("div",{className:"field"},s.default.createElement(l.default,{key:"columns",draggable:!0,columns:o,label:this.getLocalValue("columnsfield","Columns","gridform"),name:"columns",value:e.columns,onChange:t})))}},{key:"getEventsList",value:function(){return["onRowClick","onRowDblClick","onSelectionChanged","onModalClosed"]}}]),te);function te(e){return u(this,te),f(this,(te.__proto__||Object.getPrototypeOf(te)).call(this,e))}var re=(p(ne,h),n(ne,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),r=[{key:"key",name:this.getLocalValue("keycolumn","Key","collectioneditorform")},{key:"name",name:this.getLocalValue("namecolumn","Name","collectioneditorform")},{key:"control",name:this.getLocalValue("controlcolumn","Control","collectioneditorform"),dataList:["input","checkbox","span","number","file","date","datetime","custom"]},{key:"width",name:this.getLocalValue("widthcolumn","Width","collectioneditorform")}];return s.default.createElement(c.Form,null,s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","collectioneditorform"),value:e.key,onChange:t}),s.default.createElement(c.Form.Input,{name:"idField",label:this.getLocalValue("idfield","Id field","collectioneditorform"),value:e.idField,onChange:t})),s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement("div",{className:"field"},s.default.createElement("label",null,this.getLocalValue("optionsfield","Options","collectioneditorform")),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","ReadOnly","collectioneditorform"),checked:e.readOnly,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"draggable",label:this.getLocalValue("draggablefield","Draggable","collectioneditorform"),checked:e.draggable,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"hierarchical",label:this.getLocalValue("hierarchicalfield","Hierarchical","collectioneditorform"),checked:e.hierarchical,onChange:t})),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"disableAdd",label:this.getLocalValue("disableAdd","Disable Add","collectioneditorform"),checked:e.disableAdd,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"collapseAll",label:this.getLocalValue("collapseallfield","Collapse all","collectioneditorform"),disabled:1!=e.hierarchical,checked:e.collapseAll,onChange:t}))),s.default.createElement("div",{className:"field"},s.default.createElement(c.Form.Input,{name:"parentIdField",label:this.getLocalValue("parentidfield","ParentId field","collectioneditorform"),disabled:!e.hierarchical||e.childrenField,value:e.parentIdField,onChange:t}),s.default.createElement(c.Form.Input,{name:"childrenField",label:this.getLocalValue("childrenField","Children field","collectioneditorform"),disabled:!e.hierarchical||e.parentIdField,value:e.childrenField,onChange:t}))),s.default.createElement(l.default,{key:"columns",draggable:!0,columns:r,label:this.getLocalValue("columnsfield","Columns","collectioneditorform"),name:"columns",value:e.columns,height:"200px",onChange:t}))}},{key:"getEventsList",value:function(){return["onChange","onAdd","onDelete","onCopy"]}}]),ne);function ne(e){return u(this,ne),f(this,(ne.__proto__||Object.getPrototypeOf(ne)).call(this,e))}var ae=(p(oe,h),n(oe,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return s.default.createElement(c.Form,null,s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","customform"),value:e.key,onChange:t}),s.default.createElement(c.Form.Input,{name:"type",label:this.getLocalValue("typefield","Control type","customform"),value:e.type,onChange:t})),s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.TextArea,{key:"props",label:this.getLocalValue("propsfield","Props","customform"),name:"props",value:e.props,onChange:t,rows:5}),s.default.createElement(c.Form.TextArea,{key:"children",label:this.getLocalValue("childrenfield","Children","customform"),name:"children",value:e.children,onChange:t,rows:5})))}}]),oe);function oe(e){return u(this,oe),f(this,(oe.__proto__||Object.getPrototypeOf(oe)).call(this,e))}var le=(p(ie,h),n(ie,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return s.default.createElement(c.Form,null,s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","customblockform"),value:e.key,onChange:t}),s.default.createElement("div",{className:"field"},s.default.createElement("label",null,this.getLocalValue("sourcetypefield","Source type","customblockform")),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Radio,{name:"sourceType",label:this.getLocalValue("sourcetypeformfield","Form name","customblockform"),value:"form",checked:void 0===e.sourceType||"form"==e.sourceType,onChange:t}),s.default.createElement(c.Form.Radio,{name:"sourceType",label:this.getLocalValue("sourcetypejsonfield","JSON source","customblockform"),value:"source",checked:"source"===e.sourceType,onChange:t}),s.default.createElement(c.Form.Radio,{name:"sourceType",label:this.getLocalValue("placeholderfield","Placeholder","customblockform"),value:"placeholder",checked:"placeholder"===e.sourceType,onChange:t})))),s.default.createElement(c.Form.Input,{name:"formname",label:this.getLocalValue("formnamefield","Form name","customblockform"),value:e.formname,onChange:t,disabled:null!=e.sourceType&&"form"!=e.sourceType}),s.default.createElement(c.Form.TextArea,{key:"source",label:this.getLocalValue("sourcefield","JSON source","customblockform"),name:"source",value:e.source,onChange:t,rows:10,disabled:"source"!=e.sourceType}))}}]),ie);function ie(e){return u(this,ie),f(this,(ie.__proto__||Object.getPrototypeOf(ie)).call(this,e))}var ue=(p(se,h),n(se,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),r=[{key:"target",name:this.getLocalValue("itemstargetcolumn","Target","menuform"),width:150},{key:"title",name:this.getLocalValue("itemstitlecolumn","Title","menuform")},{key:"visibleCondition",name:this.getLocalValue("visibleConditioncolumn","Visible Condition","menuform")}];return s.default.createElement(c.Form,null,s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","menuform"),value:e.key,onChange:t}),s.default.createElement(c.Form.Input,{name:"activeItem",label:this.getLocalValue("activeitemfield","Active Item","menuform"),value:e.activeItem,onChange:t})),s.default.createElement("div",{className:"field"},s.default.createElement("label",null,this.getLocalValue("optionsfield","Options","menuform")),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"pointing",label:this.getLocalValue("pointingfield","Pointing","menuform"),checked:e.pointing,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"secondary",label:this.getLocalValue("secondaryfield","Secondary","menuform"),checked:e.secondary,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"tabular",label:this.getLocalValue("tabularfield","Tabular","menuform"),checked:e.tabular,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","menuform"),checked:e.fluid,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"vertical",label:this.getLocalValue("verticalfield","Vertical","menuform"),checked:e.vertical,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"link",label:this.getLocalValue("linkfield","Link","menuform"),checked:e.link,onChange:t}))),s.default.createElement(l.default,{key:"items",draggable:!0,hierarchical:!0,childrenField:"children",columns:r,label:this.getLocalValue("itemsfield","Items","menuform"),name:"items",value:e.items,onChange:t}))}},{key:"getEventsList",value:function(){return["onItemClick"]}}]),se);function se(e){return u(this,se),f(this,(se.__proto__||Object.getPrototypeOf(se)).call(this,e))}var ce=(p(de,h),n(de,[{key:"getGeneralDescription",value:function(){var e=this.props.data,a=this.props.parent.handleChange.bind(this.props.parent),t=[{key:"title",name:this.getLocalValue("itemstitlecolumn","Title","tabform")},{key:"visibleCondition",name:this.getLocalValue("visibleConditioncolumn","Visible Condition","tabform")}];return s.default.createElement(c.Form,null,s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","tabform"),value:e.key,onChange:a}),s.default.createElement(c.Form.Input,{name:"activePane",label:this.getLocalValue("activepanefield","Active Pane","tabform"),value:e.activePane,onChange:a})),s.default.createElement("div",{className:"field"},s.default.createElement("label",null,this.getLocalValue("optionsfield","Options","menuform")),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"pointing",label:this.getLocalValue("pointingfield","Pointing","tabform"),checked:e.pointing,onChange:a}),s.default.createElement(c.Form.Checkbox,{name:"secondary",label:this.getLocalValue("secondaryfield","Secondary","tabform"),checked:e.secondary,onChange:a}),s.default.createElement(c.Form.Checkbox,{name:"tabular",label:this.getLocalValue("tabularfield","Tabular","tabform"),checked:e.tabular,onChange:a}),s.default.createElement(c.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","tabform"),checked:e.fluid,onChange:a}),s.default.createElement(c.Form.Checkbox,{name:"vertical",label:this.getLocalValue("verticalfield","Vertical","tabform"),checked:e.vertical,onChange:a}))),s.default.createElement(l.default,{key:"panes",draggable:!0,columns:t,label:this.getLocalValue("panesfield","Panes","tabform"),name:"panes",value:e.panes,onChange:function(e,t){var r=t.name,n=t.value;Array.isArray(n)&&n.forEach(function(e){null==e.psid&&(e.psid="id"+(new Date).getTime())}),a(e,{name:r,value:n})}}))}},{key:"getEventsList",value:function(){return["onTabChange"]}}]),de);function de(e){return u(this,de),f(this,(de.__proto__||Object.getPrototypeOf(de)).call(this,e))}var fe=(p(pe,h),n(pe,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),r=[{key:"text",name:this.getLocalValue("itemstextcolumn","Text","breadcrumbform")},{key:"url",name:this.getLocalValue("itemsurlcolumn","Url","breadcrumbform")},{key:"active",control:"checkbox",name:this.getLocalValue("itemsactivecolumn","Active","breadcrumbform")},{key:"divider",name:this.getLocalValue("itemsiconcolumn","Divider Icon","breadcrumbform"),dataList:["right angle","right chevron"]}];return s.default.createElement(c.Form,null,s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","breadcrumbform"),value:e.key,onChange:t})),s.default.createElement(l.default,{key:"items",draggable:!0,columns:r,label:this.getLocalValue("itemsfield","Items","breadcrumbform"),name:"items",value:e.items,onChange:t}))}},{key:"getEventsList",value:function(){return["onItemClick"]}}]),pe);function pe(e){return u(this,pe),f(this,(pe.__proto__||Object.getPrototypeOf(pe)).call(this,e))}var he=(p(me,h),n(me,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),r=(e=this.props.data,[{key:"target",name:this.getLocalValue("itemstargetcolumn","Target","dropdowntriggerform")},{key:"title",name:this.getLocalValue("itemstitlecolumn","Title","dropdowntriggerform")},{key:"visibleCondition",name:this.getLocalValue("itemsvisibleconditioncolumn","Visible Condition","dropdowntriggerform")}]);return s.default.createElement(c.Form,null,s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","dropdowntriggerform"),value:e.key,onChange:t}),s.default.createElement(c.Form.Input,{name:"defaultValue",label:this.getLocalValue("defaultvaluefield","Default Value","dropdowntriggerform"),value:null==e.defaultValue?"":e.defaultValue,onChange:t}),s.default.createElement(c.Form.Input,{name:"imageUrl",label:this.getLocalValue("imageurlfield","ImageUrl","dropdowntriggerform"),value:null==e.imageUrl?"":e.imageUrl,onChange:t}),s.default.createElement(l.default,{key:"items",draggable:!0,columns:r,label:this.getLocalValue("itemsfield","Items","dropdowntriggerform"),name:"items",value:e.items,onChange:t}))}},{key:"getEventsList",value:function(){return["onItemClick"]}}]),me);function me(e){return u(this,me),f(this,(me.__proto__||Object.getPrototypeOf(me)).call(this,e))}var ve=(p(ge,h),n(ge,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return s.default.createElement(c.Form,null,s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","uploadform"),value:t.key,onChange:e}),s.default.createElement(c.Form.Input,{name:"iconFiletypes",label:this.getLocalValue("iconFiletypes","Icon file types","uploadform"),placeholder:"*.png, *.jpg, *.gif",value:null==t.iconFiletypes?"":t.iconFiletypes,onChange:e}),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"showFiletypeIcon",label:this.getLocalValue("showFiletypeIcon","Show file type icon","uploadform"),checked:t.showFiletypeIcon,onChange:e}),s.default.createElement(c.Form.Checkbox,{name:"autoProcessQueue",label:this.getLocalValue("autoProcessQueue","Auto process queue","uploadform"),checked:t.autoProcessQueue,onChange:e}),s.default.createElement(c.Form.Checkbox,{name:"addRemoveLinks",label:this.getLocalValue("addRemoveLinks","Add remove links","uploadform"),checked:t.addRemoveLinks,onChange:e})))}},{key:"getEventsList",value:function(){return["success","fail"]}}]),ge);function ge(e){return u(this,ge),f(this,(ge.__proto__||Object.getPrototypeOf(ge)).call(this,e))}var ye=(p(be,h),n(be,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),r=[{value:"",text:this.getLocalValue("legendpositiondefaultfield","Default","chartform")},{value:"top",text:this.getLocalValue("legendpositiontopfield","Top","chartform")},{value:"left",text:this.getLocalValue("legendpositionleftfield","Left","chartform")},{value:"bottom",text:this.getLocalValue("legendpositionbottomfield","Bottom","chartform")},{value:"right",text:this.getLocalValue("legendpositionrightfield","Right","chartform")}],n=""==e.datasetCustom||null==e.datasetCustom;return s.default.createElement(c.Form,null,s.default.createElement(c.Form.Group,{widths:"equal"},s.default.createElement("div",{className:"field"},s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","chartform"),value:e.key,onChange:t}),s.default.createElement(c.Form.Input,{name:"title",label:this.getLocalValue("titlefield","Title","chartform"),value:e.title,onChange:t}),s.default.createElement(c.Form.Input,{name:"titleSize",label:this.getLocalValue("titlesizefield","Title size","chartform"),value:e.titleSize,onChange:t}),s.default.createElement(c.Form.Dropdown,{name:"legendPosition",selection:!0,fluid:!0,label:this.getLocalValue("legendpositionfield","Legend position","chartform"),placeholder:r[0].text,options:r,value:e.legendPosition,onChange:t})),s.default.createElement("div",{className:"field"},s.default.createElement(c.Form.Checkbox,{name:"responsive",label:this.getLocalValue("responsivefield","Responsive","chartform"),checked:e.responsive,onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"datasetCustom",label:this.getLocalValue("datasetcustomfield","Dataset custom","chartform"),checked:e.datasetCustom,onChange:t}),s.default.createElement(c.Form.Input,{name:"dataLabels",style:{paddingTop:"5px"},disabled:n,placeholder:this.getLocalValue("datalabelsplaceholder","Q1, Q2, Q3, Q4","chartform"),label:this.getLocalValue("datalabelsfield","Data labels","chartform"),value:e.dataLabels,onChange:t}),s.default.createElement(c.Form.Input,{name:"datasetLabel",disabled:n,label:this.getLocalValue("datasetlabelfield","Dataset Label","chartform"),value:e.datasetLabel,onChange:t}),s.default.createElement(c.Form.Input,{name:"datasetBackgroundColor",disabled:n,label:this.getLocalValue("datasetbackgroundcolorfield","Dataset BackgroundColor","chartform"),value:e.datasetBackgroundColor,onChange:t}))))}}]),be);function be(e){return u(this,be),f(this,(be.__proto__||Object.getPrototypeOf(be)).call(this,e))}var we=(p(Ce,h),n(Ce,[{key:"getGeneralDescription",value:function(){var e=this.props.data,a=this.props.parent.handleChange.bind(this.props.parent),t=[{key:"title",name:this.getLocalValue("itemstitlecolumn","Title","gridlayout")},{key:"cssclass",name:this.getLocalValue("cssclass","CSS Class","gridlayout")},{key:"visibleCondition",name:this.getLocalValue("visibleConditioncolumn","Visible Condition","gridlayout")}];return s.default.createElement(c.Form,null,s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","gridlayout"),value:e.key,onChange:a}),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Input,{name:"cols",label:this.getLocalValue("colsfield","Columns","gridlayout"),placeholder:12,value:e.cols,onChange:a})),s.default.createElement("div",{className:"field"},s.default.createElement("label",null,this.getLocalValue("optionsfield","Options","gridlayout")),s.default.createElement(c.Form.Group,null,s.default.createElement(c.Form.Checkbox,{name:"draggable",label:this.getLocalValue("draggablefield","Draggable","gridlayout"),checked:e.draggable,onChange:a}),s.default.createElement(c.Form.Checkbox,{name:"resizable",label:this.getLocalValue("resizablefield","Resizable","gridlayout"),checked:e.resizable,onChange:a}),s.default.createElement(c.Form.Checkbox,{name:"scroll",label:this.getLocalValue("scrollfield","Scroll","gridlayout"),checked:e.scroll,onChange:a}))),s.default.createElement(l.default,{key:"panes",draggable:!0,columns:t,label:this.getLocalValue("panesfield","Panes","tabform"),name:"panes",value:e.panes,onChange:function(e,t){var r=t.name,n=t.value;Array.isArray(n)&&n.forEach(function(e){null==e.psid&&(e.psid="id"+(new Date).getTime())}),a(e,{name:r,value:n})}}))}},{key:"getEventsList",value:function(){return["onLayoutChange"]}}]),Ce);function Ce(e){return u(this,Ce),f(this,(Ce.__proto__||Object.getPrototypeOf(Ce)).call(this,e))}var ke=(p(Ee,h),n(Ee,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return this.getLocalValue("dialogmodeautofield","Auto","workflowform"),this.getLocalValue("dialogmodebuttonfield","Button","workflowform"),s.default.createElement(c.Form,null,s.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","workflowform"),value:e.key,onChange:t}),s.default.createElement(c.Form.Input,{name:"setStateButton",label:this.getLocalValue("setstatebuttonfield","Set state button","workflowform"),value:e.setStateButton,onChange:t}),s.default.createElement(c.Form.Group,{horizontal:!0},s.default.createElement(c.Form.Checkbox,{name:"blockSetState",label:this.getLocalValue("blocksetstatefield","Block SetState","workflowform"),checked:Boolean(e.blockSetState),onChange:t}),s.default.createElement(c.Form.Checkbox,{name:"blockCommands",label:this.getLocalValue("blockcommandsfield","Block Commands","workflowform"),checked:Boolean(e.blockCommands),onChange:t})))}},{key:"getEventsList",value:function(){return["onCommandClick","onSetStateClick","onReceivedCommands"]}}]),Ee);function Ee(e){return u(this,Ee),f(this,(Ee.__proto__||Object.getPrototypeOf(Ee)).call(this,e))}e.exports={BaseEditControl:h,HeaderEditControl:v,ButtonEditControl:y,LabelEditControl:w,MessageEditControl:_,InputEditControl:O,TextAreaEditControl:S,DropdownEditControl:j,DictionaryEditControl:P,RadioGroupEditControl:z,CheckboxEditControl:A,FormEditControl:U,FormGroupEditControl:q,ImageEditControl:Q,StatisticEditControl:Z,GridEditControl:ee,CustomEditControl:ae,MenuEditControl:ue,ChartEditControl:ye,WorkflowBarEditControl:ke,ContainerEditControl:K,StaticContentEditControl:k,CollectionEditorEditControl:re,CustomBlockEditControl:le,DropdownTriggerEditControl:he,DropzoneEditControl:ve,BreadcrumbEditControl:fe,SearchEditControl:D,TreePickerEditControl:R,TabEditControl:ce,GridLayoutEditControl:we,RepeaterEditControl:$}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a,o,l,i,u=(a=r(0))&&a.__esModule?a:{default:a},s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,u.default.Component),o=c,(l=[{key:"render",value:function(){var e=this.props.type,t=[],r=this.props.isForm,n=this.props.value;if(null!=n&&null!=n&&""!=n){var a="Download",o="Clear";null!=window.DWKitAdminLang&&null!=window.DWKitAdminLang.button&&(a=window.DWKitAdminLang.button.download,o=window.DWKitAdminLang.button.clear);var l=this.props.disabled||this.props.readOnly||this.props.hideClearButton;t.push(u.default.createElement("a",{key:"download",className:"ui button",target:"blank",href:this.props.downloadUrl+n},a)),l||(t.push(u.default.createElement("span",{key:"sparator"},"  ")),t.push(u.default.createElement("button",{key:"clear",className:"ui button",onClick:this.onClear.bind(this)},o)))}else this.props.disabled||this.props.readOnly?t.push(u.default.createElement("span",null)):t.push(u.default.createElement("input",{key:"uploadcontrol",type:"file",name:this.props.name,onChange:this.onChange.bind(this)}));if(r)return u.default.createElement("div",{className:"field"},null!=this.props.label&&u.default.createElement("label",null,this.props.label),u.default.createElement("div",{"data-buildertype":e},t));var i="ui labeled input";return this.props.fluid&&(i+=" fluid"),this.props.error&&(i+=" error"),null==this.props.className&&""==this.props.className||(i+=" "+this.props.className),u.default.createElement("div",{className:i,"data-buildertype":e},this.props.label&&u.default.createElement("div",{className:"ui label label"},this.props.label),t)}},{key:"onChange",value:function(t){var r=this,e=new FormData;e.append(r.props.name,t.target.files[0]),$.ajax({url:r.props.uploadUrl,type:"POST",processData:!1,contentType:!1,dataType:"json",data:e,success:function(e){1==e.success&&null!=r.props.onChange&&r.props.onChange(t,{name:r.props.name,propertyName:r.props.propertyName,value:e.message})}})}},{key:"onClear",value:function(){null!=this.props.onChange&&this.props.onChange(void 0,{name:this.props.name,propertyName:this.props.propertyName,value:null})}}])&&n(o.prototype,l),i&&n(o,i),c);function c(e){!function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":mu(t))&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return t.state={},t}t.default=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=a(r(0)),d=a(r(19)),f=a(r(4));function a(e){return e&&e.__esModule?e:{default:e}}var o,l,i,u=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,c.default.Component),o=p,(l=[{key:"handleChangeRaw",value:function(e){var t=(0,f.default)(e,this.state.dateFormat);this.onChange(t)}},{key:"onChange",value:function(e){if(!this.props.readOnly&&null!=this.props.onChange){var t=null;null!=e&&null!=e&&(t="date"===this.props.type?e.format("YYYY-MM-DD"):e.toJSON()),this.props.onChange(null,{propertyName:this.props.propertyName,name:this.props.name,value:t})}}},{key:"render",value:function(){var t=this,e=this.props.type,r=this.props.isForm,n=this.props.value?(0,f.default)(this.props.value):void 0;n&&!n.isValid()&&(n=void 0);var a={};a.readOnly=this.props.readOnly,"date"===e?void 0!==window.DWKitLang&&null!=window.DWKitLang.common&&null!=window.DWKitLang.common.dateFormat?a.dateFormat=window.DWKitLang.common.dateFormat:a.dateFormat="DD.MM.YYYY":"time"===e?(a.showTimeSelect=!0,a.showTimeSelectOnly=!0,a.timeIntervals=10,void 0!==window.DWKitLang&&void 0!==window.DWKitLang.common&&null!=window.DWKitLang.common.timeFormat?a.dateFormat=window.DWKitLang.common.timeFormat:(a.dateFormat="HH:mm",a.timeFormat="HH:mm")):"datetime"===e&&(a.showTimeSelect=!0,void 0!==window.DWKitLang&&void 0!==window.DWKitLang.common&&null!=window.DWKitLang.common.dateFormat?(a.timeFormat=window.DWKitLang.common.timeFormat,a.dateFormat=window.DWKitLang.common.dateFormat+" "+(null==window.DWKitLang.common.timeFormat?"HH:ss":window.DWKitLang.common.timeFormat)):(a.dateFormat="DD.MM.YYYY HH:mm",a.timeFormat="HH:mm")),this.state.dateFormat=a.dateFormat;var o=c.default.createElement(d.default,s({},a,{peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",isClearable:!this.props.readOnly,placeholderText:this.placeholder,selected:n,onChange:this.onChange.bind(this),onChangeRaw:function(e){return t.handleChangeRaw(e.target.value)}})),l=void 0;if(r){var i="field";this.props.error&&(i+=" error"),l=c.default.createElement("div",{className:i},null!=this.props.label&&c.default.createElement("label",null,this.props.label),c.default.createElement("div",{"data-buildertype":e},o))}else{var u="ui fluid labeled input";this.props.error&&(u+=" error"),l=c.default.createElement("div",{"data-buildertype":e,className:u},null!=this.props.label&&c.default.createElement("div",{className:"ui label label"},this.props.label),o)}return l}}])&&n(o.prototype,l),i&&n(o,i),p);function p(e){!function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":mu(t))&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e));return t.state={},t}t.default=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a,o,l,i,u=(a=r(0))&&a.__esModule?a:{default:a},s=r(1),c=r(13),d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,u.default.Component),o=f,(l=[{key:"shouldComponentUpdate",value:function(e){return!c(this.props,e)}},{key:"render",value:function(){var r=this,e=this.props.items.map(function(e){var t=e.key?e.key:e.value;return u.default.createElement(s.Form.Field,{key:t+"_formfield"},u.default.createElement(s.Form.Radio,{key:t,label:e.text,name:r.props.name+"_radioGroup",value:e.value,readOnly:r.props.readOnly,checked:r.props.value===e.value,onChange:r.onChange}))},this),t=this.props.className;return t=t||"",this.props.error&&(t+=" error"),"v"===this.props.direction?(t+=" ui form",u.default.createElement("div",{className:t,style:this.props.style},u.default.createElement("label",null,this.props.label),u.default.createElement(s.Form,null,e))):(t+=" field",u.default.createElement("div",{className:"ui form"},u.default.createElement("div",{className:t},u.default.createElement("label",null,this.props.label),u.default.createElement("div",{style:this.props.style},u.default.createElement(s.Form.Group,{key:"group"},e)))))}}])&&n(o.prototype,l),i&&n(o,i),f);function f(e){!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":mu(t))&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e));return a.onChange=function(e,t){var r=t.name,n=t.value;a.props.onChange?a.props.onChange(e,{name:a.props.name,propertyName:a.props.propertyName,value:n}):a.props.handleEvent?a.props.handleEvent({syntheticEvent:e,key:a.props.name,eventName:"onChange",name:r,value:n}):console.error("Set onChange property for RadioGroup!")},a}t.default=d},function(e,t){e.exports=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});function n(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=f(r(0)),i=r(1),u=r(23),s=f(u),c=r(15),d=f(r(4));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":mu(t))&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=(m(g,l.default.Component),n(g,[{key:"render",value:function(){var e=Boolean(this.props.value);return l.default.createElement(i.Checkbox,{checked:e,disabled:!0})}}]),g);function g(){return p(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}var y=(m(b,l.default.Component),n(b,[{key:"render",value:function(){var e=this.props.value;return l.default.createElement("span",{style:{textAlign:"right"}},l.default.createElement("div",{title:e},e))}}]),b);function b(){return p(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}var w=(m(C,l.default.Component),n(C,[{key:"render",value:function(){var e=(0,d.default)(this.props.value),t="";if(e.isValid()){var r=void 0!==window.DWKitLang&&void 0!==window.DWKitLang.common&&null!=window.DWKitLang.common.dateFormat?window.DWKitLang.common.dateFormat:"L";t=e.format(r)}return l.default.createElement("span",{style:{textAlign:"right"}},l.default.createElement("div",{title:t},t))}}]),C);function C(){return p(this,C),h(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}var k=(m(E,l.default.Component),n(E,[{key:"render",value:function(){var e=(0,d.default)(this.props.value),t="";if(e.isValid()){var r=void 0!==window.DWKitLang&&void 0!==DWKitLang.common&&null!=window.DWKitLang.common.dateFormat?window.DWKitLang.common.dateFormat+" "+(void 0!==window.DWKitLang.common.timeFormat?window.DWKitLang.common.timeFormat:"HH:mm"):"DD.MM.YYYY HH:mm";t=e.format(r)}return l.default.createElement("span",{style:{textAlign:"right"}},l.default.createElement("div",{title:t},t))}}]),E);function E(){return p(this,E),h(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}var _=(m(F,l.default.Component),n(F,[{key:"render",value:function(){var e=(0,d.default)(this.props.value),t="";if(e.isValid()){var r=void 0!==window.DWKitLang&&void 0!==window.DWKitLang.common&&null!=window.DWKitLang.common.timeFormat?window.DWKitLang.common.timeFormat:"HH:mm";t=e.format(r)}return l.default.createElement("span",{style:{textAlign:"right"}},l.default.createElement("div",{title:t},t))}}]),F);function F(){return p(this,F),h(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments))}var O=(m(x,l.default.Component),n(x,[{key:"isEditFormModal",value:function(){return"modal"===this.props.editFormShowType}},{key:"isEditFormSidebar",value:function(){return"sidebar"===this.props.editFormShowType}},{key:"isServerMode",value:function(){return x.staticIsServerMode(this.props)}},{key:"refresh",value:function(){if(this.isServerMode())this.setState({items:[],selectedIndexes:[],rowsCount:void 0});else{var e=Array.isArray(this.props.value)?x.staticGetSortedAndFilteredItems(this.props.value,this.state.filter,this.state.sort,this.props.defaultSort):[];this.setState({items:e,rowsCount:e.length,selectedIndexes:[],originalItems:this.props.value})}}},{key:"resetSelection",value:function(){this.setState({selectedIndexes:[]})}},{key:"render",value:function(){var e=this.props.className,t=a({},this.props.style),r=this.getGridPropsByPagerType(this.props.pagerType);return r.columns=this.getColumns(),r.rowKey=this.props.rowKey,void 0!==this.props.rowHeight&&""!==this.props.rowHeight&&(r.rowHeight=this.props.rowHeight),this.props.autoHeight?(t.minHeight=this.props.minHeight,void 0!==this.props.offSet&&""!==this.props.offSet?t.height="calc(100vh - "+this.props.offSet+")":t.height="100vh",e=(void 0===e?"":e+" ")+"dwkit-gridview-autoHeight"):void 0!==this.props.minHeight&&""!==this.props.minHeight&&(r.minHeight=this.props.minHeight),this.props.multiselect&&(r.rowSelection={onRowsSelected:this.onRowsSelected.bind(this),onRowsDeselected:this.onRowsDeselected.bind(this),selectBy:{indexes:this.state.selectedIndexes}}),l.default.createElement("div",{key:this.props.name,name:this.props.name,className:e,style:t},l.default.createElement(s.default,a({key:"grid"},r,{rowsCount:this.state.rowsCount,rowGetter:this.gridRowGetter.bind(this),onRowClick:this.gridOnRowClick.bind(this),onGridSort:this.handleGridSort.bind(this)})))}},{key:"getColumns",value:function(){var e=this,t=void 0;return(t=void 0===this.props.columns?[]:Array.isArray(this.props.columns)?this.props.columns:JSON.parse(this.props.columns)).forEach(function(t){null!==t.width&&""!==t.width&&void 0!==t.width&&(t.width=Number(t.width)),!1!==t.sortable&&(t.sortable=!e.props.disableSort),t.filterable=Boolean(e.props.filterRow),t.resizable=Boolean(t.resizable),"number"===t.type?t.formatter=y:"checkbox"===t.type?t.formatter=v:"date"===t.type?t.formatter=w:"time"===t.type?t.formatter=_:"datetime"===t.type?t.formatter=k:"custom"===t.type&&(t.getRowMetaData=function(e){return e},t.formatter=function(e){return null==t.customFormatter||"function"!=typeof t.customFormatter?"":t.customFormatter({row:e.dependentValues,value:e.value,column:t})})}),this.state.isrtl?t.reverse():t}},{key:"getGridPropsByPagerType",value:function(){var e={};return"server"===this.props.pagerType&&(void 0!==this.props.pageSize&&(this.state.pageSize=this.props.pageSize),e.rowRenderer=l.default.createElement(S,{error:this.props.error}),void 0===this.state.rowsCount&&(this.state.rowsCount=1)),e}},{key:"getSeletedRowKeys",value:function(){var n=this,a=[];return this.state.selectedIndexes.forEach(function(e){var t=n.gridRowGetter(e);if(void 0!==t){var r=void 0;null!==n.props.rowKey&&void 0!==n.props.rowKey&&t.hasOwnProperty(n.props.rowKey)&&(r=t[n.props.rowKey]),null!=r&&null!=r||(r=t.__id),null!=r&&a.push(r)}}),a}},{key:"gridRowGetter",value:function(e){if(!(e<0)){var t=this.props.pagerType;if("server"===t&&void 0===this.state.items[e]){var r=this.state.pageSize;this.loadPage(e,r)}return"server"===t?this.state.items[e]:a({},this.state.items[e])}}},{key:"getSort",value:function(){var e=this.state.sort;return""===e&&void 0!==this.props.defaultSort&&(e=this.props.defaultSort),e}},{key:"getFilters",value:function(){return void 0!==this.state.filter?this.state.filter.GetFilterAsObjects():[]}},{key:"loadPage",value:function(e,t){for(var l=this,r=0;r<t;r++)this.state.items[r+e]={__loading:!0};if(void 0===this.props.getAdditionalDataForControl)void 0!==console&&console.log("GridView: For paging on server need to set getAdditionalDataForControl func!");else{var n=this.getSort();this.props.getAdditionalDataForControl(this,{startIndex:e,pageSize:t,filters:this.getFilters(),sort:n},function(e){var t=e.sIndex,r=e.pSize,n=e.rowsCount,a=e.items;if(void 0===n||void 0===a)l.state.rowsCount=0,l.setState({rowsCount:0,items:[]});else{l.state.rowsCount=n;for(var o=0;o<r;o++)o<a.length?l.state.items[t+o]=a[o]:l.state.items[t+o]=void 0;l.forceUpdate()}})}}},{key:"gridOnRowClick",value:function(e,t){if(void 0!==t){var r=Date.now();void 0!==this.rowClickTime&&this.rowClickTime.rowIdx===e&&r-this.rowClickTime.time<=1e3?(this.rowClickTime=void 0,this.onRowDblClick(e,t)):(this.rowClickTime={rowIdx:e,time:r},void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onRowClick",parameters:{rowIdx:e,row:t}}))}}},{key:"onRowDblClick",value:function(e,t){void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onRowDblClick",parameters:{rowIdx:e,row:t}})}},{key:"onRowsSelected",value:function(e){this.state.selectedIndexes=this.state.selectedIndexes.concat(e.map(function(e){return e.rowIdx})),void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onSelectionChanged",parameters:{selectedIndexes:this.state.selectedIndexes}}),this.forceUpdate()}},{key:"onRowsDeselected",value:function(e){var t=e.map(function(e){return e.rowIdx});this.state.selectedIndexes=this.state.selectedIndexes.filter(function(e){return-1===t.indexOf(e)}),void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onSelectionChanged",parameters:{selectedIndexes:this.state.selectedIndexes}}),this.forceUpdate()}},{key:"handleGridSort",value:function(e,t){var r={};r.sort="NONE"===t?"":e+" "+t;var n=this.props.pagerType;r.items="server"===n?[]:x.staticGetSortedAndFilteredItems(this.props.value,this.state.filter,r.sort,this.props.defaultSort),r.selectedIndexes=[],this.setState(r)}},{key:"handleFilterChange",value:function(e){var t={},r=e.column.key,n="columnfilter_"+r;t.filter=void 0!==this.state.filter?this.state.filter:new c.FunctionalFilter([],this.props.columns.map(function(e){return e.key})),t.filter.RemoveFilter({name:r,id:n}),""!==e.filterTerm&&t.filter.AddFilter({names:[r],expected:e.filterTerm,term:c.FilterTerms.Like,id:n}),x.staticIsServerMode(this.props)?(t.items=[],t.selectedIndexes=[],t.rowsCount=void 0):(t.items=x.staticGetSortedAndFilteredItems(this.props.value,t.filter,this.state.sort,this.props.defaultSort),t.selectedIndexes=[],t.rowsCount=t.items.length),this.setState(t)}},{key:"onClearFilters",value:function(){this.setState({filter:this.props.filter})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){this._isMounted=!0,this.recalcSizeParams()}},{key:"recalcSizeParams",value:function(){if(this._isMounted&&this.props.autoHeight){var e=$(window).height();this.setState({gridHeight:e-this.props.deltaHeight})}}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r,n,a=null;if(r=t.filter,n=e.filter,JSON.stringify(r)===JSON.stringify(n)){if(!x.staticIsServerMode(e)&&t.originalItems!==e.value){a={};var o=Array.isArray(e.value)?x.staticGetSortedAndFilteredItems(e.value,t.filter,t.sort,e.defaultSort):[];a.items=o,a.rowsCount=o.length,a.selectedIndexes=[],a.originalItems=e.value}}else if(a={filter:e.filter},x.staticIsServerMode(e))a.items=[],a.selectedIndexes=[],a.rowsCount=void 0;else{var l=Array.isArray(e.value)?x.staticGetSortedAndFilteredItems(e.value,e.filter,t.sort,e.defaultSort):[];a.items=l,a.selectedIndexes=[],a.rowsCount=l.length}return a}},{key:"staticIsServerMode",value:function(e){return"server"===e.pagerType}},{key:"staticGetSortedAndFilteredItems",value:function(e,t,r,n){var a=[];if(void 0===e)return a;a=void 0!==t?e.filter(function(e){return t.IsRowMatched(e)}):e;var o=r;if("NONE"===r||""===r){if(void 0===n)return a;o=n}var l=o.indexOf(" "),i=o.substring(0,l),u=o.substring(l+1,o.length);return a.slice(0).sort(function(e,t){var r=void 0!==e[i]&&null!==e[i]&&void 0!==e[i].toLowerCase?e[i].toLowerCase():e[i],n=void 0!==t[i]&&null!==t[i]&&void 0!==t[i].toLowerCase?t[i].toLowerCase():t[i];return r===n?0:null==r?1:null==n?-1:"ASC"===u?n<r?1:-1:"DESC"===u?r<n?1:-1:void 0})}}]),x);function x(e){p(this,x);var t=h(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,e));t.state={items:[],sort:"",defaultSort:e.defaultSort,filter:e.filter,pageSize:20,selectedIndexes:[],rowsCount:x.staticIsServerMode(e)?void 0:0};try{t.state.isrtl="rtl"==getComputedStyle(document.getElementsByTagName("html")[0]).direction}catch(e){}return t}t.default=O;var S=(m(L,l.default.Component),n(L,[{key:"setScrollLeft",value:function(e){this.row.setScrollLeft(e)}},{key:"getClassName",value:function(){var t=this;return this.props.row.__loading?"dwkit-gridview-rowloading":void 0!==this.props.row.__id&&null!==this.props.row.__id&&void 0!==this.props.error&&null!==this.props.error&&Array.isArray(this.props.error)&&void 0!==this.props.error.find(function(e){return e.__id===t.props.row.__id})?"dwkit-gridview-rowerror":""}},{key:"render",value:function(){var t=this;return l.default.createElement("div",{className:this.getClassName()},l.default.createElement(u.Row,a({ref:function(e){return t.row=e}},this.props)))}}]),L);function L(){return p(this,L),h(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});function n(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}var a="function"==typeof Symbol&&"symbol"==mu(Symbol.iterator)?function(e){return void 0===e?"undefined":mu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":mu(e)};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=(n(i,null,[{key:"IsGreater",value:function(e){return e===i.Greater}},{key:"IsLess",value:function(e){return e===i.Less}},{key:"IsEqual",value:function(e){return e===i.Equal}},{key:"IsGreaterOrEqual",value:function(e){return e===i.GreaterOrEqual}},{key:"IsLessOrEqual",value:function(e){return e===i.LessOrEqual}},{key:"IsNotEqual",value:function(e){return e===i.NotEqual}},{key:"IsLike",value:function(e){return e.toLowerCase()===i.Like||"*like*"===e.toLowerCase()}},{key:"IsStartsWith",value:function(e){return e.toLowerCase()===i.StartsWith}},{key:"IsEndsWith",value:function(e){return e.toLowerCase()===i.EndsWith}},{key:"Evaluate",value:function(e,t,r){if(i.IsGreater(r))return i.compareWithTypeCheck(e,t,function(e,t){return t<e});if(i.IsLess(r))return i.compareWithTypeCheck(e,t,function(e,t){return e<t});if(i.IsEqual(r))return i.compareWithTypeCheck(e,t,function(e,t){return e===t});if(i.IsGreaterOrEqual(r))return i.compareWithTypeCheck(e,t,function(e,t){return t<=e});if(i.IsLessOrEqual(r))return i.compareWithTypeCheck(e,t,function(e,t){return e<=t});if(i.IsNotEqual(r))return i.compareWithTypeCheck(e,t,function(e,t){return e!==t});if(i.IsLike(r))return i.likeCompare(e,t,function(e,t){return 0<=e.indexOf(t)});if(i.IsStartsWith(r))return i.likeCompare(e,t,function(e,t){return e.startsWith(t)});if(i.IsEndsWith(r))return i.likeCompare(e,t,function(e,t){return e.endsWith(t)});throw"Unknown term "+r}},{key:"likeCompare",value:function(e,t,r){return null===e&&null===t||void 0===e&&void 0===t||null!=e&&null!=t&&r(e.toString().toLowerCase(),t.toString().toLowerCase())}},{key:"compareWithTypeCheck",value:function(e,t,r){return null===e&&null===t||void 0===e&&void 0===t||null!=e&&null!=t&&(e instanceof Date&&"string"==typeof t?r(e.getTime(),new Date(t).getTime()):"string"==typeof e&&t instanceof Date?r(new Date(e).getTime(),t.getTime()):e instanceof Date&&t instanceof Date?r(e.getTime(),t.getTime()):(void 0===e?"undefined":a(e))===(void 0===t?"undefined":a(t))?r(e,t):r(e,"number"==typeof e&&"string"==typeof t?parseFloat(t):"string"==typeof e&&"number"==typeof t?t.toString():t))}},{key:"Greater",get:function(){return">"}},{key:"Less",get:function(){return">"}},{key:"Equal",get:function(){return"="}},{key:"GreaterOrEqual",get:function(){return">="}},{key:"LessOrEqual",get:function(){return"<="}},{key:"NotEqual",get:function(){return"!="}},{key:"Like",get:function(){return"like"}},{key:"StartsWith",get:function(){return"like*"}},{key:"EndsWith",get:function(){return"*like"}}]),i);function i(){l(this,i)}var u=(n(s,[{key:"AddFilter",value:function(e){var r=this,n=e.names,a=e.expected,o=e.term,t=e.id;if(!(n.length<1)){var l=1===n.length?n[0]:n.sort().join(","),i=void 0;this._innerFilter.hasOwnProperty(l)?i=this._innerFilter[l]:((i=this._innerFilter[l]={}).funcs=[],i.items=[],i.test=function(t){return r._innerFilter[l].funcs.every(function(e){return e(t)})});var u,s=function(e,t){var r=Object.keys(e).find(function(e){return e.toString().toLowerCase()===t.toLowerCase()});return void 0!==r&&c.Evaluate(e[r],a,o)};u=1===n.length?function(e){return s(e,n[0])}:function(t){return n.some(function(e){return s(t,e)})},i.funcs.push(u),i.items.push({expected:a,term:o,id:t})}}},{key:"RemoveFilter",value:function(e){var a=this,t=e.name,r=e.id,n=void 0,o=void 0;if(void 0!==t&&(o=Array.isArray(t)?(n=1===t.length?t[0]:t.sort().join(","),t):[n=t]),void 0!==t&&void 0===r)delete this._innerFilter[n];else if(void 0===t&&void 0===r)this._innerFilter={};else{var l=function(e,t,r){if(a._innerFilter.hasOwnProperty(e)){var n=a._innerFilter[e].items.filter(function(e){return e.id!==r});n.length<a._innerFilter[e].items.length&&(delete a._innerFilter[e],n.forEach(function(e){a.AddFilter({names:t,expected:e.expected,term:e.term,id:e.id})}))}};void 0!==t&&void 0!==r?l(n,o,r):Object.keys(this._innerFilter).forEach(function(e){l(e,e.split(","),r)})}}},{key:"IsRowMatched",value:function(e){var t=Object.keys(this._innerFilter);if(t.length<=0)return!0;for(var r=0;r<t.length;r++)if(!this._innerFilter[t[r]].test(e))return!1;return!0}},{key:"GetFilterAsObjects",value:function(){var e=this;if(void 0===this._innerFilter)return[];var r=[];return Object.keys(this._innerFilter).forEach(function(t){e._innerFilter[t].items.forEach(function(e){r.push({column:t,value:e.expected,term:e.term})})}),r}}]),s);function s(e,r){var n=this;if(l(this,s),this._innerFilter={},void 0!==e&&Array.isArray(e)){if(void 0===r||!Array.isArray(r))throw"columns must be array";e.forEach(function(e){if(void 0!==e){var t;t="*"===e.column?r:e.column.split(",").map(function(e){return e.trim()}),n.AddFilter({names:t,expected:e.value,term:e.term})}})}}t.FilterTerms=c,t.FunctionalFilter=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.BaseEditControl=t.CollectionEditor=t.GridView=t.DWKitForm=void 0;var n=i(r(17)),a=i(r(14)),o=i(r(3)),l=r(9);function i(e){return e&&e.__esModule?e:{default:e}}t.DWKitForm=n.default,t.GridView=a.default,t.CollectionEditor=o.default,t.BaseEditControl=l.BaseEditControl},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=o(r(0)),w=(o(r(5)),o(r(18)),o(r(8))),C=o(r(50)),c=o(r(2));function o(e){return e&&e.__esModule?e:{default:e}}var l,i,u,s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,a.default.Component),l=d,u=[{key:"getDerivedStateFromProps",value:function(e,t){var r={};return void 0!==e.modelurl&&""!==e.modelurl&&e.modelurl!==t.modelurl&&(r.modelurl=e.modelurl,r.needFetchModel=!0),void 0!==e.model&&e.model!==t.model&&(r.controlsToReplace=null,r.model=e.model),void 0!==e.dataurl&&""!==e.dataurl&&e.dataurl!==t.dataurl&&(r.dataurl=e.dataurl,r.needFetchData=!0),void 0!==e.data&&(r.data=e.data),r}}],(i=[{key:"componentDidMount",value:function(){this.PrepareState(),window.addEventListener("resize",this.handleResize.bind(this))}},{key:"componentDidUpdate",value:function(e,t){this.PrepareState()}},{key:"componentWillUnmount",value:function(){this._asyncGetData&&this._asyncGetData.abort(),this._asyncGetModel&&this._asyncGetModel.abort(),window.removeEventListener("resize",this.handleResize.bind(this))}},{key:"PrepareState",value:function(){var a=this;this.state.needFetchModel&&(a.setState({needFetchModel:!1}),this._asyncGetModel=$.getJSON(this.state.modelurl).done(function(e){a._asyncGetModel=null,a.modelChanged(e)}).fail(function(e,t,r){a._asyncGetModel=null;var n=t+", "+r;a.handleErrEvent(n)})),this.state.needFetchData&&(a.setState({needFetchData:!1}),this._asyncGetData=$.getJSON(this.state.dataurl).done(function(e){a._asyncGetData=null,a.dataChanged(e)}).fail(function(e,t,r){a._asyncGetData=null;var n=t+", "+r;a.handleErrEvent(n)})),this.checkConditions(this.state.model),this.checkLoadedState(this.state.data,this.state.model)}},{key:"modelChanged",value:function(e){this.setState({model:e,controlsToReplace:null}),this.checkConditions(e)}},{key:"dataChanged",value:function(e){this.setState({data:e}),this.checkLoadedState(e,this.state.model)}},{key:"checkLoadedState",value:function(e,t,r){this.state.isLoaded||null==e||null==t||(r?this.state.isLoaded=!0:this.setState({isLoaded:!0}),this.props.eventFunc({key:void 0,controlRef:this,formName:this.props.formName,component:this,eventName:"init",actions:["initSystem","init"],parameters:void 0}))}},{key:"checkConditions",value:function(e,t){var r=!1;if(Array.isArray(e))for(var n=0;n<e.length&&(void 0!==e[n]["other-visibleConition"]&&""!==e[n]["other-visibleConition"]||void 0!==e[n]["other-readOnlyConition"]&&""!==e[n]["other-readOnlyConition"]?r=!0:Array.isArray(e[n].children)&&(r=this.checkConditions(e[n].children,!0)),!r);n++);if(t)return r;this.state.enableCheckConditions=r}},{key:"onConditions",value:function(e,t,r,n,a){this.state.enableCheckConditions&&this.props.eventFunc({key:e,controlRef:this.refs[e],formName:this.props.formName,component:this,eventName:t,actions:["checkConditions"],parameters:r})}},{key:"handleErrEvent",value:function(e){this.props.eventErrFunc&&this.props.eventErrFunc(this,e)}},{key:"findModelItembyKey",value:function(e,t){void 0===t&&(t=this.state.model);for(var r=0;r<t.length;r++){if(t[r].key===e)return t[r];if(void 0!==t[r].children){var n=this.findModelItembyKey(e,t[r].children);if(void 0!==n)return n}if(void 0!==t[r].placeholders)for(var a in t[r].placeholders){var o=this.findModelItembyKey(e,t[r].placeholders[a]);if(void 0!==o)return o}if("customblock"===t[r]["data-buildertype"]&&"source"===t[r].sourceType&&null!=t[r].source){var l=c.default.parse(t[r].source),i=this.findModelItembyKey(e,l);if(void 0!==i)return i}if("customblock"===t[r]["data-buildertype"]&&"form"===t[r].sourceType&&void 0!==t[r].formname&&""!==t[r].formname){var u=t[r].children?t[r].children:this.props.getFormFunc(t[r].formname),s=this.findModelItembyKey(e,u);if(void 0!==s)return s}}}},{key:"render",value:function(){var e=[],t=!1;null!==this.state.model&&void 0!==this.state.model&&(e=null===this.state.controlsToReplace?[]:this.state.controlsToReplace,t=null===this.state.controlsToReplace);var r=w.default.createControls(this,{model:this.state.model,data:this.state.data,errors:this.props.errors,handleEvent:this.handleEvent,getFormFunc:this.props.getFormFunc,getAdditionalDataForControl:this.props.getAdditionalDataForControl,hideControls:this.props.hideControls,readOnlyControls:this.props.readOnlyControls,readOnly:this.props.readOnly,uploadUrl:this.props.uploadUrl,downloadUrl:this.props.downloadUrl,extendedData:this.props.extendedData,controlsToReplace:e,needCheckReplace:t,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList,adaptiveViewType:this.state.adaptiveViewType});t&&(this.state.controlsToReplace=e);var n="dwkit-form"+(void 0===this.props.className?"":" "+this.props.className);return a.default.createElement("div",{className:n},r)}},{key:"getAdaptiveViewType",value:function(){return window.matchMedia("(max-width: 997px)").matches?"mobile":"desktop"}},{key:"handleResize",value:function(){var e=this.getAdaptiveViewType();this.state.adaptiveViewType!==e&&this.setState({adaptiveViewType:e})}},{key:"applySubstitution",value:function(e,t,r){var n=e;return null!=t&&"row."==e.slice(1,5)?null==(n=t[e.slice(5,e.length-1)])?"":n:null!=r&&null==(n=r[e.slice(1,e.length-1)])?"":n}}])&&n(l.prototype,i),u&&n(l,u),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var y=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":mu(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return y._asyncGetData=null,y._asyncGetModel=null,y.handleEvent=function(e){e.e;var t=e.key,r=e.propertyName,n=e.eventName,a=e.parameters,o=e.name,l=e.value,i=e.additionalValues,u=y,s="onChange"===n;if(s){if(!y.props.onlyExternalDataChanged){void 0===y.state.data&&(y.state.data={});var c=r||t,d=y.state.data;d[c]=l,y.setState({data:d})}void 0!==y.props.dataChanged&&y.props.dataChanged(y,{key:t,propertyName:r,value:l,additionalValues:i}),y.onConditions(t,n,a,o,l)}if(void 0!==y.props.eventFunc){var f=y.findModelItembyKey(t);if(void 0!==f&&void 0!==f.events&&void 0!==f.events[n]&&f.events[n].active){var p=f.events[n],h=b({},a);Array.isArray(p.parameters)&&0<p.parameters.length&&p.parameters.forEach(function(e){"string"==typeof e.value?h[e.name]=e.value.replace(w.default.regexForReplace,function(e){return u.applySubstitution(e,a.row,u.state.data)}):h[e.name]=e.value});var m=u.refs[t],v=l,g=void 0;g=Array.isArray(p.targets)&&0<p.targets.length?function(){return p.targets.forEach(function(e){u.props.eventFunc({key:e,sourceControlRef:m,sourceControlValue:v,controlRef:u.refs[e],formName:u.props.formName,component:u,eventName:n,actions:p.actions,parameters:h})})}:function(){return u.props.eventFunc({key:t,sourceControlRef:m,sourceControlValue:v,controlRef:m,formName:u.props.formName,component:u,eventName:n,actions:p.actions,parameters:h})},!s||void 0===f.onChangeTimeout||""===f.onChangeTimeout||Number(f.onChangeTimeout)<1?g():C.default.Set(t,g,Number(f.onChangeTimeout))}}},y.state={data:e.data,model:e.model,extendedData:e.extendedData,controlsToReplace:null,adaptiveViewType:y.getAdaptiveViewType()},y.checkLoadedState(y.state.data,y.state.model,!0),y}t.default=s},function(e,t,r){var d,n="function"==typeof Symbol&&"symbol"==mu(Symbol.iterator)?function(e){return void 0===e?"undefined":mu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":mu(e)},a=r(6),o=r(7),f=r(8),l=a.createStore({init:function(){this.listenTo(o.add,this.add),this.listenTo(o.move,this.move),this.listenTo(o.remove,this.remove),this.listenTo(o.save,this.save),this.listenTo(o.saveData,this._updateOrder),d=[]},move:function(e,t){if(null!=t){var r=this.findItemByKey(e,d),n=this._excludeItemByKey(e,d);if(t.attributes.name&&"dropzone_footer"===t.attributes.name.value)n.push(r);else if(t.attributes.name&&"dropzone_header"===t.attributes.name.value)n.unshift(r);else if(null!=t.attributes.elementtoinsert){var a,o=t.attributes.elementtoinsert;if(null!=o&&(a=this.findItemByKey(o.value,n)),null!=a){var l=t.attributes.placeholderkey,i=void 0;if(i=void 0===l?(null==a.children&&(a.children=[]),a.children):(void 0===a.placeholders&&(a.placeholders={}),null==a.placeholders[l.value]&&(a.placeholders[l.value]=[]),a.placeholders[l.value]),null!=t.attributes.name&&t.attributes.name.value.includes("dropzone_footer"))i.push(r);else if(null!=t.attributes.name&&t.attributes.name.value.includes("dropzone_header"))i.unshift(r);else{var u;null!=(c=t.attributes.elementafter)&&(u=this.findItemByKey(c.value,i)),i.splice(i.indexOf(u),0,r)}}else console.error("ERROR: element is not found",o,r,t)}else if(null!=t.attributes.elementafter){var s,c;null!=(c=t.attributes.elementafter)&&(s=this.findItemByKey(c.value,n)),null!=s?n.splice(n.indexOf(s),0,r):console.error("ERROR: element is not found",c,r,t)}this.setData(n)}},_excludeItemByKey:function(e,t){for(var r=[],n=0;n<t.length;n++)if(t[n].key!=e&&(r.push(t[n]),t[n].children&&(r[r.length-1].children=this._excludeItemByKey(e,t[n].children)),null!=t[n].placeholders))for(var a in t[n].placeholders)Array.isArray(t[n].placeholders[a])&&(r[r.length-1].placeholders[a]=this._excludeItemByKey(e,t[n].placeholders[a]));return r},add:function(e,t){var r=f.fillDefaultValues({key:this.getDefaultKey(e.key),"data-buildertype":void 0!==e.builderType?e.builderType:e.key},e.defaultValues);if(null==t)if(0<d.length&&"form"==d[d.length-1]["data-buildertype"]){var n=d[d.length-1];null==n.children&&(n.children=[]),n.children.push(r)}else d.push(r);else if(null!=t.attributes.name&&"dropzone_footer"==t.attributes.name.value)d.push(r);else if(null!=t.attributes.name&&"dropzone_header"==t.attributes.name.value)d.unshift(r);else if(null!=t.attributes.elementtoinsert){var a,o=t.attributes.elementtoinsert;if(null!=o&&(a=this.findItemByKey(o.value,d)),null!=a){var l=t.attributes.placeholderkey,i=void 0;if(i=void 0===l?(null==a.children&&(a.children=[]),a.children):(void 0===a.placeholders&&(a.placeholders={}),null==a.placeholders[l.value]&&(a.placeholders[l.value]=[]),a.placeholders[l.value]),null!=t.attributes.name&&t.attributes.name.value.includes("dropzone_footer"))i.push(r);else if(null!=t.attributes.name&&t.attributes.name.value.includes("dropzone_header"))i.unshift(r);else{var u;null!=(c=t.attributes.elementafter)&&(u=this.findItemByKey(c.value,i)),i.splice(i.indexOf(u),0,r)}}else console.error("ERROR: element is not found",o,e,t)}else if(null!=t.attributes.elementafter){var s,c;null!=(c=t.attributes.elementafter)&&(s=this.findItemByKey(c.value,d)),null!=s?d.splice(d.indexOf(s),0,r):console.error("ERROR: element is not found",c,buildertype,title,t)}this.trigger(d)},remove:function(e){this.removeItemByKey(e.key,d),this.trigger(d)},copy:function(e){var t=this.copyObj(e);this.insertAfterKey(t,e.key,d),this.makeUniqueKeys(t),this.trigger(d)},getData:function(){return d},setData:function(e){d=e,this.trigger(d)},_updateOrder:function(e){d=e,this.trigger(d)},getDefaultKey:function(e){for(var t=1,r=e+"_"+t,n=this.getAllKeys(d),a=0;a<n.length;a++)n[a]==(r=e+"_"+t)&&(t++,a=-1);return r},getAllKeys:function(e){var t=[];if(null!=e)for(var r=0;r<e.length;r++){var n=e[r];if(t.push(n.key),null!=n.children){var a=this.getAllKeys(n.children);t=t.concat(a)}else if(null!=n.placeholders)for(var o in n.placeholders)if(Array.isArray(n.placeholders[o])){var l=this.getAllKeys(n.placeholders[o]);t=t.concat(l)}}return t},getByKey:function(e){return this.findItemByKey(e,d)},findItemByKey:function(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(n.key==e)return n;if(null!=n.children){if(null!=(o=this.findItemByKey(e,n.children)))return o}else if(null!=n.placeholders)for(var a in n.placeholders){var o;if(Array.isArray(n.placeholders[a])&&null!=(o=this.findItemByKey(e,n.placeholders[a])))return o}}},insertAfterKey:function(e,t,r){for(var n=0;n<r.length;n++){var a=r[n];if(a.key==t)return r.splice(n+1,0,e),!0;if(void 0!==a.children&&this.insertAfterKey(e,t,a.children))return!0;if(void 0!==a.placeholders)for(var o in a.placeholders)if(Array.isArray(a.placeholders[o])&&this.insertAfterKey(e,t,a.placeholders[o]))return!0}},updateItemByKey:function(e,t){var r=this.getByKey(e);for(var n in t)r[n]=t[n];e!=t.key&&this.replaceDepensKeys(e,t.key),this.trigger(d)},replaceDepensKeys:function(e,t,r){null==r&&(r=d);for(var n=0;n<r.length;n++){var a=r[n];if(Array.isArray(a["events-onclick-targets"]))for(var o=a["events-onclick-targets"],l=0;l<o.length;l++)o[l]==e&&(o[l]=t);if(null!=a.children&&this.replaceDepensKeys(e,t,a.children),void 0!==a.placeholders)for(var i in a.placeholders)Array.isArray(a.placeholders[i])&&this.replaceDepensKeys(e,t,a.placeholders[i])}},removeItemByKey:function(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(n.key==e){t.splice(r,1);break}if(null!=n.children&&this.removeItemByKey(e,n.children),void 0!==n.placeholders)for(var a in n.placeholders)Array.isArray(n.placeholders[a])&&this.removeItemByKey(e,n.placeholders[a])}},copyObj:function(e){if(null==e||"object"!=(void 0===e?"undefined":n(e)))return e;var t=e.constructor();for(var r in e)e.hasOwnProperty(r)&&(t[r]=this.copyObj(e[r]));return t},makeUniqueKeys:function(e){var t=this,r=e["data-buildertype"];if(null!=r&&(e.key=this.getDefaultKey(r)),Array.isArray(e.children)&&e.children.forEach(function(e){t.makeUniqueKeys(e)}),void 0!==e.placeholders)for(var n in e.placeholders)Array.isArray(e.placeholders[n])&&e.placeholders[n].forEach(function(e){t.makeUniqueKeys(e)})}});e.exports=l},function(e,t){e.exports=s},function(e,t){e.exports=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=a(r(0)),c=r(1),d=a(r(3));function a(e){return e&&e.__esModule?e:{default:e}}var o,l,i,f=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,s.default.Component),o=p,(l=[{key:"render",value:function(){var n=this,a=this.props.data,e=this.props.events,o=[];Array.isArray(this.props.actions)&&this.props.actions.forEach(function(e){"string"==typeof e?o.push({text:e,value:e}):o.push(u({},e,{value:e.text}))});var l=[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(this.props.targets)),i=[];return e.forEach(function(e){var t=e+"_events",r=null!=a?a[e]:void 0;null==r&&(r={}),null==r.actions&&(r.actions=[]),null==r.targets&&(r.targets=[]),null==r.parameters&&(r.parameters=[]),Array.isArray(r.actions)&&r.actions.forEach(function(e){for(var t=!1,r=0;r<o.length;r++)if(e==o[r].value){t=!0;break}t||o.push({text:e,value:e})}),Array.isArray(r.targets)&&r.targets.forEach(function(e){for(var t=!1,r=0;r<l.length;r++)if(e===l[r].value){t=!0;break}t||l.push({text:e,value:e})}),i.push(s.default.createElement("div",{key:t},s.default.createElement(c.Form.Checkbox,{width:3,key:"active",label:e,name:"active",checked:r.active,onChange:n.handleChange.bind(n,e)}),s.default.createElement("div",{key:"divGroup",style:r.active?{}:{display:"none"}},s.default.createElement(c.Form.Group,{key:"Group"},s.default.createElement(c.Form.Dropdown,{key:"actions",label:"Actions",multiple:!0,search:!0,selection:!0,allowAdditions:!0,className:"dwkit-action-dropdown",name:"actions",options:o,value:r.actions,onAddItem:n.actionsOnAddItem.bind(n),onChange:n.handleChange.bind(n,e)}),s.default.createElement(d.default,{key:"parameters",columns:["name","value"],label:"Parameters",name:"parameters",value:r.parameters,onChange:n.handleChange.bind(n,e)}),s.default.createElement(c.Form.Dropdown,{key:"targets",label:"Targets",multiple:!0,search:!0,selection:!0,name:"targets",options:l,value:r.targets,onChange:n.handleChange.bind(n,e)})))))}),s.default.createElement("div",null,i)}},{key:"handleChange",value:function(e,t,r){var n=r.name,a=r.value,o=r.checked,l=this.props.data[e];null==l&&(l={},this.props.data[e]=l),null==a&&null!=o?l[n]=o:null!=(l[n]=a)&&""!=a&&(l.active=!0),null!=this.props.onChange&&this.props.onChange(t,{name:this.props.name,value:this.props.data})}},{key:"actionsOnAddItem",value:function(e,t){var r=t.value;null!=this.props.onAdditionActions&&this.props.onAdditionActions(e,{value:r})}}])&&n(o.prototype,l),i&&n(o,i),p);function p(e){!function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":mu(t))&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e));return t.state={},t}t.default=f},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=o(r(0)),a=o(r(2)),c=r(1);function o(e){return e&&e.__esModule?e:{default:e}}var l,i,u,d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,s.default.Component),l=f,u=[{key:"getDerivedStateFromProps",value:function(e,t){return t.activeitem!==e.value?{activeitem:e.value}:null}}],(i=[{key:"handleItemClick",value:function(e,t){var r=t.name;null!=this.props.handleEvent&&0!=this.props.handleEvent({e:e,key:this.props.name,eventName:"onItemClick",parameters:{target:r}})&&this.setState({activeitem:r})}},{key:"handleItemClick2",value:function(e,t){this.handleItemClick(t,e),t.preventDefault()}},{key:"render",value:function(){var e=this.props["data-items"];null==e||""==e?e=[]:Array.isArray(e)||(e=a.default.parse(e));var t=this.renderItems(e),r={};for(var n in this.props)"data-items"!=n&&"activeItem"!=n&&"handleEvent"!=n&&"link"!=n&&(r[n]=this.props[n]);return s.default.createElement(c.Menu,r,t)}},{key:"renderItems",value:function(e,t){var r=[];void 0===t&&(t="");for(var n=0;n<e.length;n++){var a=e[n];if(void 0!==a.visibleCondition&&null!==a.visibleCondition&&""!==a.visibleCondition){var o="return "+a.visibleCondition;try{if(!new Function("",o)())continue}catch(e){}}var l=String(t)+String(n),i=s.default.createElement("span",{dangerouslySetInnerHTML:{__html:a.title}});if(Array.isArray(a.children)&&0<a.children.length)r.push(s.default.createElement(c.Menu.Item,{key:l},s.default.createElement(c.Menu.Header,null,i),s.default.createElement(c.Menu.Menu,null,this.renderItems(a.children,l+"_"))));else{var u=this.props.link?s.default.createElement("a",{style:{color:"inherit"},href:a.target,onClick:this.handleItemClick2.bind(this,{name:a.target})},i):i;this.props.link?r.push(s.default.createElement(c.Menu.Item,{key:l,name:a.target,active:this.state.activeitem===a.target},u)):r.push(s.default.createElement(c.Menu.Item,{key:l,name:a.target,active:this.state.activeitem===a.target,onClick:this.handleItemClick.bind(this)},u))}}return r}}])&&n(l.prototype,i),u&&n(l,u),f);function f(e){!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":mu(t))&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e));return t.state={},null!=e.value?t.state.activeitem=e.value:null!=e.activeitem&&(t.state.activeitem=e.activeitem),t}t.default=d},function(e,t){e.exports=d},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==mu(Symbol.iterator)?function(e){return void 0===e?"undefined":mu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":mu(e)};function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o,l,i,u,s=(o=r(0))&&o.__esModule?o:{default:o},c=r(13),d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,s.default.Component),l=f,(i=[{key:"componentDidMount",value:function(){this.redrawChart()}},{key:"shouldComponentUpdate",value:function(e){return!c(this.props,e)}},{key:"componentDidUpdate",value:function(){this.redrawChart()}},{key:"componentWillUnmount",value:function(){null!=this.state.chart&&this.state.chart.destroy()}},{key:"redrawChart",value:function(){if(null!=this.state.chart&&(this.state.chart.destroy(),this.state.chart=void 0),null==this.state.chart){var e=document.getElementById(this.getDivId()).getContext("2d"),t=this.getChartData(),r=void 0;if(null!=t&&Array.isArray(t.datasets)){var n=[];if(t.datasets.forEach(function(e){null!=e.yAxisID&&null!=e.yAxisID&&(n.includes(e.yAxisID)||n.push(e.yAxisID))}),0<n.length){r=[];for(var a=0;a<n.length;a++)a?r.push({type:"linear",display:!0,position:"right",id:n[a],gridLines:{drawOnChartArea:!1}}):r.push({type:"linear",display:!0,position:"left",id:n[a]})}}var o={type:this.props.chartType,data:t,options:{responsive:Boolean(this.props.responsive),legend:{position:this.props.legendPosition},title:{fontSize:null==this.props.titleSize?14:this.props.titleSize,display:null!=this.props.title&&""!=this.props.title,text:this.props.title}}};null!=r&&(o.options.scales={yAxes:r}),this.state.chart=new Chart(e,o)}else this.state.chart.update()}},{key:"getDivId",value:function(){return"dwkit-chart-"+this.props.name}},{key:"getChartData",value:function(){if(this.props.datasetCustom){var e=this,t=[];null!=e.props.dataLabels&&(t=e.props.dataLabels.split(","));var r=[];try{r="string"==typeof this.props.value?JSON.parse(this.props.value):this.props.value}catch(e){console.log("Can't parse to JSON",this.props.value,this)}return{labels:t,datasets:[{label:e.props.datasetLabel,steppedLine:e.props.datasetSteppedLine,borderColor:e.props.datasetBorderColor,backgroundColor:e.props.datasetBackgroundColor,fill:e.props.datasetFill,borderWidth:e.props.datasetBorderWidth,data:r}]}}return this.copyObj(r)}},{key:"copyObj",value:function(e){if(null==e||"object"!=(void 0===e?"undefined":n(e)))return e;var t=e.constructor();for(var r in e)e.hasOwnProperty(r)&&(t[r]=this.copyObj(e[r]));return t}},{key:"render",value:function(){var e=this.props.style,t=null!=this.props.width?this.props.width:"400px";null!=e.width&&(t=e.width);var r=null!=this.props.height?this.props.height:"300px";null!=e.height&&(r=e.height),this.state.width==t&&this.state.height==r||null==this.state.chart||(this.state.chart.destroy(),this.state.chart=void 0),this.state.width=t,this.state.height=r;var n="field";return null!=this.props.className&&(n+=" "+this.props.className),s.default.createElement("div",{className:n,style:e},s.default.createElement("canvas",{id:this.getDivId(),width:t,height:r}))}}])&&a(l.prototype,i),u&&a(l,u),f);function f(e){!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":mu(t))&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e));return t.state={},t}t.default=d},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o,l,i,u,s=(o=r(0))&&o.__esModule?o:{default:o},c=r(1),d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,s.default.Component),l=f,(i=[{key:"componentDidMount",value:function(){this.isMount=!0}},{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"checkGetAdditionalDataForControl",value:function(){var a=this;this.props.getAdditionalDataForControl||this.props.commands||this.props.states?this.props.getAdditionalDataForControl(this,{},function(e){var t=e.commands,r=e.states,n=e.processExists;a.setState({commands:t,states:r,processExists:n}),a.props.handleEvent&&(a.props.handleEvent({key:a.props.name,eventName:"onReceivedCommands",parameters:{commands:t,states:r}}),1<a.props.schemes.length&&!n&&a.props.enableSchemeSelection&&"auto"===a.props.dialogMode&&!a.props.selectedScheme&&a.selectWorkflowScheme()),a.isMount&&a.forceUpdate()}):console&&console.log("WorkflowBar: This control requres getAdditionalDataForControl or commands and states not undefined parameters!")}},{key:"renderCommands",value:function(e){if(!this.props.blockCommands&&Array.isArray(e)&&0<e.length){var r=this,n=[];return e.forEach(function(e){var t={};1==e.type?t.primary=!0:2==e.type&&(t.secondary=!0),n.push(s.default.createElement(c.Button,a({},t,{key:e.value,onClick:r.onCommand.bind(r,e)}),e.text))}),n}}},{key:"renderSetState",value:function(e){if(!this.props.blockSetState&&Array.isArray(e)&&0<e.length){var t=null==this.state.setstate||""==this.state.setstate,r="Set state";return null!=this.props.setStateButton&&""!=this.props.setStateButton?r=this.props.setStateButton:window.DWKitAdminLang&&window.DWKitAdminLang.workflowbar&&(r=window.DWKitAdminLang.workflowbar.setstate),[s.default.createElement(c.Dropdown,{key:"setstate",name:"setstate",className:"setstate",placeholder:"States",options:e,onChange:this.handleChanged.bind(this),selection:!0,search:!0}),s.default.createElement(c.Button,{key:"btnsetstate",disabled:t,onClick:this.onSetState.bind(this)},r)]}}},{key:"renderSelectScheme",value:function(){if(this.state.processExists||!this.props.enableSchemeSelection||"button"!==this.props.dialogMode)return null;var e="Start workflow";return this.props.startWorkflowButton?e=this.props.startWorkflowButton:window.DWKitAdminLang&&window.DWKitAdminLang.workflowbar&&window.DWKitAdminLang.workflowbar.startworkflow&&(e=window.DWKitAdminLang.workflowbar.startworkflow),s.default.createElement(c.Button,{key:"btnstartworkflow",className:"buttontype1",onClick:this.selectWorkflowScheme},e)}},{key:"onCommand",value:function(e){null!=this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onCommandClick",parameters:{command:e}})}},{key:"onSetState",value:function(){if(null!=this.props.handleEvent){for(var e=null!=this.state.states?this.state.states:this.props.states,t=void 0,r=0;r<e.length;r++)if(e[r].value==this.state.setstate){t=e[r];break}this.props.handleEvent({key:this.props.name,eventName:"onSetStateClick",parameters:{state:t}})}}},{key:"handleChanged",value:function(e,t){var r,n,a,o=t.name,l=t.value;this.setState((a=l,(n=o)in(r={})?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,r))}},{key:"render",value:function(){var t=this,e="dwkit-workflowbar";null!=this.props.className&&""!=this.props.className&&(e+=" "+this.props.className);var r=this.props.style,n=this.state.commands?this.state.commands:this.props.commands;this.props.selectedScheme&&(n=n.filter(function(e){return e.scheme===t.props.selectedScheme}));var a=this.state.states?this.state.states:this.props.states;return s.default.createElement("div",{className:e,style:r},s.default.createElement("div",{className:"dwkit-workflowbar-items"},this.renderCommands(n),this.renderSetState(a),this.renderSelectScheme()))}}])&&n(l.prototype,i),u&&n(l,u),f);function f(e){!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":mu(t))&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e));return t.selectWorkflowScheme=function(){t.props.handleEvent({key:t.props.name,eventName:"onSelectWorkflowScheme",parameters:{schemes:t.props.schemes}})},t.state={commands:e.commands,states:e.states,processExists:e.processExists},t.checkGetAdditionalDataForControl(),t}t.default=d},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o,l,i,u,s=(o=r(0))&&o.__esModule?o:{default:o},c=r(1),d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,s.default.Component),l=f,u=[{key:"getDerivedStateFromProps",value:function(e,t){return e.dataModel!==t.dataModel?{getAdditionalDataForControl:e.getAdditionalDataForControl,dataModel:e.dataModel,needFetch:!0,needValueFetch:!0,filters:e.filters}:e.paging&&e.value!==t.value&&void 0!==e.value?{needValueFetch:!0,value:e.value}:e.filters!=t.filters?{needFetch:!0,filters:e.filters}:null}}],(i=[{key:"componentDidMount",value:function(){this.GetAdditionalData()}},{key:"componentDidUpdate",value:function(e,t){this.GetAdditionalData()}},{key:"GetAdditionalData",value:function(){if(void 0===this.state.dataModel)void 0!==console&&!0===this.props.buildermode&&console.log("Dictionary: Set DataModel label!");else if(void 0===this.state.getAdditionalDataForControl)void 0!==console&&!0===this.props.buildermode&&console.log("Dictionary: For paging on server need to set getAdditionalDataForControl func!");else{if(this.state.needFetch){var n=this,e={model:this.state.dataModel,filters:this.state.filters};this.props.paging&&(e.startIndex=0,e.pageSize=this.pageSize),this.state.isFetching=!0,this.state.needFetch=!1,this.state.getAdditionalDataForControl(this,e,function(e){var t=e.items,r=e.rowsCount;n.setData({items:t,rowsCount:r,page:0},!0)})}this.state.needValueFetch&&(this.state.needValueFetch=!1,this.loadCurrentValue())}}},{key:"render",value:function(){var e={};for(var t in this.props)"parentIsForm"!==t&&"getAdditionalDataForControl"!==t&&"dataModel"!==t&&"clearable"!==t&&"columns"!==t&&"paging"!==t&&"pageSize"!==t&&(e[t]=this.props[t]);if(this.props.readOnly&&(e.disabled=!0),e.options=this.state.options,e.onChange=this.onChange.bind(this),this.props.paging&&(e.onSearchChange=this.handleSearchChange.bind(this),e.onClose=this.onClose.bind(this),this.state.open&&(e.open=!0)),e.multiple&&(void 0!==e.value&&null!==e.value||(e.value=[]),Array.isArray(e.value)||(e.value=this.getArrayValues(e.value))),e.loading=this.state.isFetching,e.searchQuery=this.state.searchQuery,this.props.parentIsForm)return s.default.createElement(c.Form.Dropdown,n({},e,{error:null!=e.error&&null!=e.error}));var r="ui labeled input";return this.props.fluid&&(r+=" fluid"),this.props.error&&(r+=" error"),null==this.props.className&&""==this.props.className||(r+=" "+this.props.className),s.default.createElement("div",{className:r},this.props.label&&s.default.createElement("div",{className:"ui label label"},this.props.label),s.default.createElement(c.Dropdown,n({},e,{error:null!=e.error&&null!=e.error})))}},{key:"onChange",value:function(e,t){var r=this,n=(t.name,t.value),a=!1;if(this.props.multiple){if(Array.isArray(n)){var o=!1;filtered=new Array,n.forEach(function(e){"__load"===e&&(o=!0)}),o&&(a=!0)}}else"__load"===n&&(a=!0);a?(this.state.open=!0,this.setState({isFetching:!0}),this.loadNextPage(),n=this.props.value):null!=this.state.open&&(this.state.open=void 0);var l=null;if(Array.isArray(n))l=new Array,n.forEach(function(t){if("__load"!==t){var e=r.state.options.filter(function(e){return e.key===t});0<e.length&&l.push(e[0].values)}});else{var i=this.state.options.filter(function(e){return e.key===n});0<i.length&&(l=i[0].values)}this.props.onChange&&this.props.onChange(e,{propertyName:this.props.propertyName,name:this.props.name,value:n,additionalValues:l})}},{key:"onClose",value:function(){1!=this.state.open&&""!=this.state.searchQuery&&(this.state.isFetching=!0,this.state.searchQuery="",this.state.lastLoadPage=-1,this.loadNextPage(!0))}},{key:"handleSearchChange",value:function(e,t){var r=t.searchQuery,n=this;setTimeout(function(){n.setState({isFetching:!0,searchQuery:r,lastLoadPage:-1}),n.loadNextPage(!0)},100)}},{key:"loadNextPage",value:function(n){var a=this,e={model:this.state.dataModel},o=this.state.lastLoadPage+1;a.state.searchQuery&&(e.filters=[{column:this.getCollumnsForFilter(),term:"like",value:a.state.searchQuery}]),e.startIndex=o*this.pageSize,e.pageSize=this.pageSize,this.state.getAdditionalDataForControl(this,e,function(e){var t=e.items,r=e.rowsCount;a.setData({items:t,rowsCount:r,page:o},n),n&&a.loadCurrentValue()})}},{key:"setData",value:function(e,t){var r=e.items,n=e.rowsCount,a=e.page,o=void 0;if(t){if(n>(o=r).length){var l=(null!=this.state.searchQuery?this.state.searchQuery:"")+"...";o.push({key:"__load",value:"__load",text:l})}if(this.props.clearable&&!this.props.multiple&&o.unshift({key:"__reset",value:"",text:"   "}),this.props.multiple)for(var i=this.getArrayValues(this.props.value),u=0;u<i.length;u++)for(var s=i[u],c=0;c<this.state.options.length;c++){var d=this.state.options[c];s==d.value&&o.unshift(d)}}else{var f=void 0;0<(o=this.state.options).length&&"__load"===o[o.length-1].key&&(f=o.pop());for(var p=0;p<r.length;p++){for(var h=r[p],m=0;m<o.length;m++)if(o[m].key==h.key){o.splice(m,1);break}o.push(h)}void 0!==f&&n>o.length&&o.push(f)}this.setState({needFetch:!1,options:o,rowsCount:n,isFetching:!1,lastLoadPage:a})}},{key:"getArrayValues",value:function(e){var t=e;if(!Array.isArray(t)){var r=void 0;try{r=JSON.parse(t)}catch(e){}Array.isArray(r)||(r=[t]),t=r}return t}},{key:"loadCurrentValue",value:function(){var r=this;if(void 0!==this.props.value&&null!==this.props.value)if(this.props.multiple){for(var e=this.getArrayValues(this.props.value),t=[],n=0;n<e.length;n++){for(var a=e[n],o=!1,l=0;l<this.state.options.length;l++)if(this.state.options[l].value==a){o=!0;break}o||t.push(a)}if(0<t.length){var i={model:this.state.dataModel};i.filters=[{column:"__id",term:"in",value:t}],this.state.isFetching=!0,this.state.getAdditionalDataForControl(this,i,function(e){var t=e.items;r.addAdditionalOptions(t)})}}else{for(var u=!1,s=0;s<this.state.options.length;s++)if(this.state.options[s].value==this.props.value){u=!0;break}if(!u){var c={model:this.state.dataModel};c.filters=[{column:"__id",term:"=",value:r.props.value}],this.state.isFetching=!0,this.state.getAdditionalDataForControl(this,c,function(e){var t=e.items;r.addAdditionalOptions(t)})}}}},{key:"addAdditionalOptions",value:function(e){if(Array.isArray(e)&&e.length){for(var t=this.state.options,r=e.length-1;0<=r;r--){for(var n=!1,a=0;a<t.length;a++)if(t[a].key==e[r].key){n=!0;break}n||t.unshift(e[r])}this.state.isFetching=!1,this.forceUpdate()}}},{key:"getCollumnsForFilter",value:function(){var e=new RegExp(" asc","gi"),t=this.props.columns.replace(e,"");return e=new RegExp(" desc","gi"),t=t.replace(e,""),e=new RegExp(" ","gi"),t.replace(e,"")}}])&&a(l.prototype,i),u&&a(l,u),f);function f(e){!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":mu(t))&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e));return t.state={options:[],value:t.props.value},t.pageSize=e.pageSize,t.pageSize||(t.pageSize=100),t}t.default=d},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a,o=(a=r(0))&&a.__esModule?a:{default:a};r(1);var l,i,u,s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,o.default.Component),l=c,(i=[{key:"render",value:function(){return o.default.createElement("div",this.props)}}])&&n(l.prototype,i),u&&n(l,u),c);function c(e){!function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":mu(t))&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return t.state={},t}t.default=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o,l,i,u,s=(o=r(0))&&o.__esModule?o:{default:o},c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,s.default.Component),l=d,(i=[{key:"render",value:function(){var e={name:this.props.name,className:this.props["style-customcss"],style:this.props.style,"data-buildertype":this.props["data-buildertype"]};if(this.props.isHtml)return s.default.createElement("span",n({},e,{dangerouslySetInnerHTML:{__html:this.props.content}}));var t=null!=this.props.content?this.props.content.replace("\n","<br/>"):void 0;return s.default.createElement("span",e,t)}}])&&a(l.prototype,i),u&&a(l,u),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":mu(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.state={},t}t.default=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=l(r(0)),o=l(r(7));function l(e){return e&&e.__esModule?e:{default:e}}var i,u,s,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,a.default.Component),i=d,(u=[{key:"onDragStart",value:function(e,t){var r=".dwkit-formbuilder-zone";if(t.dataTransfer.setData("text",""),null!=e.forContainerType){var n=e.forContainerType.split(","),a="";n.forEach(function(e){0<a.length&&(a+=","),a+="[data-buildertype='"+e+"'] > "+r}),r=a}$(r).addClass("dwkit-formbuilder-zone-active").on("dragenter",this.onTargetDragEnter.bind(this,e,"dwkit-formbuilder-zone-select")).on("dragleave",this.onTargetDragLeave.bind(this,e,"dwkit-formbuilder-zone-select")).on("dragover",function(e){e.preventDefault()}).on("drop",this.onDrop.bind(this,e))}},{key:"onTargetDragEnter",value:function(e,t,r){$(r.target).addClass(t)}},{key:"onTargetDragLeave",value:function(e,t,r){$(r.target).removeClass(t)}},{key:"onDragEnd",value:function(e){var t=$(".dwkit-formbuilder-zone");t.removeClass("dwkit-formbuilder-zone-active"),t.removeClass("dwkit-formbuilder-zone-select"),t.off()}},{key:"onDrop",value:function(e,t){var r=$(t.target);return 0<r.length&&o.default.move(e.key,r[0]),this.onDragEnd(e),!1}},{key:"render",value:function(){var e="dwkit-formbuilder-item-toolbar-header";return this.props.isGroup&&(e+=" dwkit-formbuilder-item-toolbar-controlbargroup"),this.props.controlOnRight?e+=" dwkit-formbuilder-item-toolbar-right":e+=" dwkit-formbuilder-item-toolbar-left",a.default.createElement("div",{className:e,onMouseOver:this.onMouseOver.bind(this),onMouseLeave:this.onMouseLeave.bind(this)},a.default.createElement("div",{className:"dwkit-formbuilder-item-toolbar-header-buttons"},a.default.createElement("div",{className:"dwkit-formbuilder-item-toolbar-header-title",title:this.props.text},this.props.model.key),a.default.createElement("img",{src:"/images/dwkitbuilder-move.svg",className:"move",height:"16px",draggable:!0,onDragStart:this.onDragStart.bind(this,this.props.model),onDragEnd:this.onDragEnd.bind(this,this.props.model)}),a.default.createElement("img",{src:"/images/dwkitbuilder-edit.svg",height:"16px",onClick:this.props.onEdit.bind(this.props.parent,this.props.model)}),a.default.createElement("img",{src:"/images/dwkitbuilder-copy.svg",height:"16px",onClick:this.props.onCopy.bind(this.props.parent,this.props.model)}),a.default.createElement("img",{src:"/images/dwkitbuilder-delete.svg",height:"16px",onClick:this.props.onDelete.bind(this.props.parent,this.props.model)})))}},{key:"onMouseOver",value:function(e){var t=$(e.target).parents(".dwkit-formbuilder-item-toolbar-header");this.props.controlOnRight?t.prev().addClass("dwkit-formbuilder-item-selected"):t.next().addClass("dwkit-formbuilder-item-selected")}},{key:"onMouseLeave",value:function(e){var t=$(e.target),r=$(e.target).parents(".dwkit-formbuilder-item-toolbar-header");this.props.controlOnRight?(t.prev().removeClass("dwkit-formbuilder-item-selected"),r.prev().removeClass("dwkit-formbuilder-item-selected")):(t.next().removeClass("dwkit-formbuilder-item-selected"),r.next().removeClass("dwkit-formbuilder-item-selected"))}}])&&n(i.prototype,u),s&&n(i,s),d);function d(){return function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":mu(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}t.default=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o,l,i,u,s=(o=r(0))&&o.__esModule?o:{default:o},c=r(1),d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,s.default.Component),l=f,(i=[{key:"render",value:function(){var n={};for(var e in this.props)"imageUrl"!=e&&"defaultValue"!=e&&"value"!=e&&"handleEvent"!=e&&"items"!=e&&"propertyName"!=e&&(n[e]=this.props[e]);return n.options=[],this.props.items.forEach(function(e){var t=!1;if(void 0!==e.visibleCondition&&null!==e.visibleCondition&&""!==e.visibleCondition){var r="return "+e.visibleCondition;try{new Function("",r)()||(t=!0)}catch(e){}}t||n.options.push({value:e.target,text:e.title,target:e.target})}),n.value="",n.onChange=this.onChange.bind(this),n.trigger=s.default.createElement("span",null,null!=this.props.imageUrl&&s.default.createElement(c.Image,{avatar:!0,src:this.props.imageUrl})," ",null!=this.props.value?this.props.value:this.props.defaultValue),s.default.createElement(c.Dropdown,a({},n,{onMouseDown:this.onMouseDown.bind(this)}))}},{key:"onChange",value:function(e,t){t.name;var r=t.value;1!=this.state.opendialog?null!=this.props.handleEvent&&this.props.handleEvent({e:e,key:this.props.name,propertyName:this.props.propertyName,eventName:"onItemClick",parameters:{target:r}}):this.state.opendialog=!1}},{key:"onMouseDown",value:function(e){this.state.opendialog=!Boolean(this.state.opendialog)}}])&&n(l.prototype,i),u&&n(l,u),f);function f(e){!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":mu(t))&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e));return t.state={},t}t.default=d},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var k=a(r(0)),E=r(1),_=a(r(10)),F=a(r(2)),O=a(r(11));function a(e){return e&&e.__esModule?e:{default:e}}var o,l,i,u=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,k.default.Component),o=s,(l=[{key:"render",value:function(){var a=this,o=this,l={};for(var e in this.props)"additionalParams"!==e&&"items"!==e&&"propertyName"!==e&&(l[e]=this.props[e]);var t,r=this.props.additionalParams.model,n=this.props.additionalParams.data,i=this.props.additionalParams.errors,u=this.props.additionalParams.children,s=this.props.additionalParams.parentItem,c=this.props.additionalParams.handleEvent,d=r["data-buildertype"];if("header"===d)t=k.default.createElement(E.Header,C({},l,{textAlign:r.textAlign,size:r.size,content:this.props.content,subheader:this.props.subheader}));else if("button"===d)l.floated=r.floated,l.size=""!==r.size?r.size:null,l.content=this.props.content,l.basic=r.basic,l.circular=r.circular,l.compact=r.compact,l.disabled=r.disabled,l.fluid=r.fluid,l.primary=r.primary,l.secondary=r.secondary,r.icon&&(l.icon=r.icon),void 0!==c&&(l.onClick=function(e){return c({syntheticEvent:e,key:l.name,eventName:"onClick"})}),t=this.isForm(s)?k.default.createElement(E.Form.Button,l):k.default.createElement(E.Button,l);else if("label"===d)t=k.default.createElement(E.Label,C({},l,{size:r.size,content:this.props.content,attached:r.attached,basic:r.basic,circular:r.circular,corner:r.corner,floating:r.floating,pointing:r.pointing}));else if("message"===d)t=k.default.createElement(E.Message,C({},l,{floated:r.floated,size:r.size,content:this.props.content,compact:r.compact,error:r.error,floating:r.floating,info:r.info,negative:r.negative,positive:r.positive,success:r.success,warning:r.warning,header:this.props.header}));else if("input"===d)l.defaultValue=r.defaultvalue,l.size=r.size,null!=r.label&&""!=r.label&&(l.label=r.label),l.labelPosition=r.labelPosition,l.placeholder=r.placeholder,l.type=r.type,l.disabled=r.disabled,l.transparent=r.transparent,l.fluid=r.fluid,l.readOnly=r.readOnly||this.props.readOnly,null!=c&&(l.onChange=function(e,t){var r=t.name,n=t.value;c({syntheticEvent:e,key:l.name,propertyName:o.props.propertyName,eventName:"onChange",name:r,value:"number"===l.type?Number(n):n})}),null==l.value&&(l.value=""),l.error=Boolean(this.props.error),t="file"===l.type?(l.isForm=this.isForm(s),k.default.createElement(_.default,C({},l,{downloadUrl:this.props.additionalParams.downloadUrl,uploadUrl:this.props.additionalParams.uploadUrl}))):"date"===l.type||"time"===l.type||"datetime"===l.type?(l.isForm=this.isForm(s),k.default.createElement(O.default,l)):this.isForm(s)?k.default.createElement(E.Form.Input,l):k.default.createElement(E.Input,l);else if("textarea"===d){if(delete l.autoHeight,l.placeholder=r.placeholder,l.rows=null!==r.rows&&void 0!==r.rows?Number(r.rows):void 0,void 0!==r.label&&""!==r.label&&(l.label=r.label),l.readOnly=r.readOnly||this.props.readOnly,null!==c&&(l.onChange=function(e,t){var r=t.name,n=t.value;c({syntheticEvent:e,key:l.name,propertyName:o.props.propertyName,eventName:"onChange",name:r,value:n})}),null==l.value&&(l.value=""),!this.isForm(s)){var f="ui labeled input";return l.fluid&&(f+=" fluid"),l.error&&(f+=" error"),null==this.props.className&&""==this.props.className||(f+=" "+this.props.className),k.default.createElement("div",{className:f},l.label&&k.default.createElement("div",{className:"ui label label"},l.label),k.default.createElement(E.TextArea,l))}t=k.default.createElement(E.Form.TextArea,l)}else if("checkbox"===d)void 0!==r.label&&""!==r.label&&(l.label=r.label),l.placeholder=r.placeholder,l.type=r.type,l.disabled=r.disabled,l.fitted=r.fitted,l.indeterminate=r.indeterminate,l.readOnly=r.readOnly||this.props.readOnly,l.slider=r.slider,l.toggle=r.toggle,null!==c&&(l.onChange=function(e,t){var r=t.name,n=t.checked;c({syntheticEvent:e,key:l.name,propertyName:o.props.propertyName,eventName:"onChange",name:r,value:n})}),void 0!==n&&("boolean"==typeof variable?l.checked=n[l.name]:"true"===n[l.name]||"1"===n[l.name]?l.checked=!0:"false"===n[l.name]||"0"===n[l.name]?l.checked=!1:l.checked=Boolean(n[l.name])),i&&void 0!==i[r.key]&&1==Boolean(i[r.key])&&(null==l.className||""==l.className?l.className="error":l.className+=" error"),t=this.isForm(s)?k.default.createElement(E.Form.Checkbox,l):k.default.createElement(E.Checkbox,l);else if("dropdown"===d){var p=[];if(void 0!==r["data-elements"]&&(p=Array.isArray(r["data-elements"])?r["data-elements"]:F.default.parse(r["data-elements"])),void 0!==r.label&&""!==r.label&&(l.label=r.label),l.defaultValue=r.defaultvalue,l.placeholder=r.placeholder,l.options=p,l.fluid=r.fluid,l.selection=r.selection,l.multiple=r.multiple,l.search=r.search,l.disabled=r.disabled||r.readOnly||this.props.readOnly,r.clearable&&!r.multiple&&p.unshift({key:"__reset",value:"",text:"   "}),i&&void 0!==i[r.key]&&(l.error=Boolean(l.error)),null!==c&&(l.onChange=function(e,t){var r=t.name,n=t.value;c({syntheticEvent:e,key:l.name,propertyName:o.props.propertyName,eventName:"onChange",name:r,value:n})}),l.allowAdditions=r.allowAddItems,l.allowAdditions&&(l.onAddItem=function(e,t){var r=t.value,n=l.value;Array.isArray(n)?n.push(r):n=[r],l.onChange(e,{name:l.name,value:n})}),l.multiple){if(void 0!==l.value&&null!==l.value||(l.value=[]),!Array.isArray(l.value)){var h=void 0;try{h=F.default.parse(l.value)}catch(e){}Array.isArray(h)||(h=[l.value]),l.value=h}l.allowAdditions&&this.dropdownCheckAdditional(l.value,l.options)}if(!this.isForm(s)){var m="ui labeled input";return l.fluid&&(m+=" fluid"),l.error&&(m+=" error"),null==this.props.className&&""==this.props.className||(m+=" "+this.props.className),k.default.createElement("div",{className:m},l.label&&k.default.createElement("div",{className:"ui label label"},l.label),k.default.createElement(E.Dropdown,l))}t=k.default.createElement(E.Form.Dropdown,l)}else if("statistic"===d){var v=[];void 0!==r["data-elements"]&&(v=Array.isArray(r["data-elements"])?r["data-elements"]:F.default.parse(r["data-elements"])),t=k.default.createElement(E.Statistic.Group,C({},l,{floated:r.floated,horizontal:r.horizontal,size:r.size,items:v}))}else if("image"===d)t=k.default.createElement(E.Image,C({},l,{avatar:r.avatar,bordered:r.bordered,centered:r.centered,disabled:r.disabled,inline:r.inline,href:this.props.href,src:this.props.src,floated:r.floated,shape:r.shape,spaced:r.spaced,verticalAlign:r.verticalAlign,height:r.height,width:r.width}));else if("form"===d)t=k.default.createElement(E.Form,C({},l,{children:u,size:r.size}));else if("formgroup"===d){var g=r.widths;"custom"===g&&(g=r.widthsCustom),r.orientation&&(l[r.orientation]=!0),t=k.default.createElement(E.Form.Group,C({},l,{widths:g,children:u}))}else if("breadcrumb"===d){var y=[];if(Array.isArray(this.props.items))for(var b=function(e){var r=a.props.items[e],t={key:e};if(t.active=r.active,t.href=r.url,null!==c&&(t.onClick=function(e,t){t.name,t.checked,c({syntheticEvent:e,key:l.name,eventName:"onItemClick",parameters:{target:r.url}}),e.preventDefault()}),y.push(k.default.createElement(E.Breadcrumb.Section,t,void 0===r.text?"<not set>":r.text)),e<a.props.items.length-1){var n={key:e+"_d"};""!==r.divider&&(n.icon=r.divider),y.push(k.default.createElement(E.Breadcrumb.Divider,n))}},w=0;w<this.props.items.length;w++)b(w);t=k.default.createElement(E.Breadcrumb,C({},l,{children:y}))}else t=k.default.createElement("span",null,"Unknow type '",d,"' of '",this.props.name,"' element.");return t}},{key:"isForm",value:function(e){return null!=e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}},{key:"dropdownCheckAdditional",value:function(e,n){Array.isArray(e)&&e.forEach(function(e){for(var t=!1,r=0;r<n.length;r++)if(e===n[r].value){t=!0;break}0==t&&n.push({value:e,text:e})})}}])&&n(o.prototype,l),i&&n(o,i),s);function s(e){!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":mu(t))&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));return t.state={},t}t.default=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=a(r(0)),u=(r(1),a(r(33)));function a(e){return e&&e.__esModule?e:{default:e}}var o,l,s,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,i.default.Component),o=d,(l=[{key:"componentDidMount",value:function(){this.isMount=!0}},{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"render",value:function(){this.props.additionalParams.data,this.props.additionalParams.errors;var e=this.props.additionalParams.parentItem,t=void this.props.additionalParams.handleEvent;if(null!=this.props.iconFiletypes&&""!=this.props.iconFiletypes){var r=this.props.iconFiletypes.split(",");Array.isArray(r)&&0<r.length&&(t=[],r.forEach(function(e){t.push(e.trim())}))}var n={addRemoveLinks:this.props.addRemoveLinks,autoProcessQueue:this.props.autoProcessQueue&&null!=this.props.postUrl},a={iconFiletypes:t,showFiletypeIcon:this.props.showFiletypeIcon,postUrl:null==this.props.postUrl?"no-url":this.props.postUrl},o={success:this.fileUploadSuccess.bind(this)},l=this.props.readOnly?i.default.createElement("div",null):i.default.createElement(u.default,{config:a,eventHandlers:o,djsConfig:n});return this.isForm(e)?i.default.createElement("div",{className:"field"},l):l}},{key:"isForm",value:function(e){return null!=e&&("form"==e["data-buildertype"]||"formgroup"==e["data-buildertype"])}},{key:"fileUploadSuccess",value:function(e,t){var r=this.props.additionalParams.handleEvent;null!=r&&(t.success?r({key:this.props.name,eventName:"success",name:this.props.name,propertyName:this.props.propertyName,value:t.message,parameters:{name:e.name,size:e.size,token:t.message,success:t.success}}):r({key:this.props.name,eventName:"fail",name:this.props.name,propertyName:this.props.propertyName,parameters:{name:e.name,size:e.size,message:t.message,success:t.success,details:t.details}}),setTimeout(function(){e._removeLink.click()},500))}},{key:"getEvents",value:function(){return["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","processing","uploadprogress","sending","success","complete","canceled","maxfilesreached","maxfilesexceeded","processingmultiple","sendingmultiple","successmultiple","completemultiple","canceledmultiple","totaluploadprogress","reset","queuecompleted"]}}])&&n(o.prototype,l),s&&n(o,s),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":mu(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.state={commands:e.commands,states:e.states},t}t.default=c},function(e,t){e.exports=f},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o,l,i,u,s=(o=r(0))&&o.__esModule?o:{default:o},c=r(1),d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,s.default.Component),l=f,(i=[{key:"render",value:function(){var e={};for(var t in this.props)"value"!==t&&"handleEvent"!==t&&(e[t]=this.props[t]);return s.default.createElement(c.Search,n({},e,{fluid:!0,loading:this.state.isLoading,onResultSelect:this.handleResultSelect.bind(this),onSearchChange:this.handleSearchChange.bind(this),results:this.state.results,value:this.state.value}))}},{key:"resetSearch",value:function(){this.setState({isLoading:!1,results:[]})}},{key:"handleResultSelect",value:function(e,t){var r=t.result;void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onSelect",parameters:r})}},{key:"handleSearchChange",value:function(e,t){var r=t.value,n=this;n.setState({isLoading:!0,value:r}),setTimeout(function(){if(null===n.state.value||void 0===n.state.value||n.state.value.length<2)return n.resetSearch();n.search(n.state.value)},200)}},{key:"search",value:function(e){var t=this,r=this.props.url;r+=this.props.url.includes("?")?"&":"?",r+="term="+e,fetch(r,{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){t.setState({isLoading:!1,results:e})}).catch(function(e){null==console?alert(e):console.error(e)})}}])&&a(l.prototype,i),u&&a(l,u),f);function f(e){!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":mu(t))&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e));return t.state={value:""},t}t.default=d},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});function n(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var p=r(1),o=r(0),h=s(o),i=s(r(5)),u=s(r(36)),l=s(r(37));function s(e){return e&&e.__esModule?e:{default:e}}var c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,o.Component),n(d,null,[{key:"getDerivedStateFromProps",value:function(e,t){return e.dataModel!==t.dataModel?{getAdditionalDataForControl:e.getAdditionalDataForControl,dataModel:e.dataModel,needFetch:!0,needValueFetch:!0}:e.paging&&e.value!==t.value&&void 0!==e.value?{needValueFetch:!0,value:e.value}:null}}]),n(d,[{key:"componentDidMount",value:function(){this.widget=$(i.default.findDOMNode(this)),this.nodes=[],this.tabs={},this.picked=[],this.opened=[],this.checkFetch()}},{key:"componentDidUpdate",value:function(e,t){this.checkFetch()}},{key:"checkFetch",value:function(){this.state.needFetch&&this.getAdditionalData(null),this.state.needValueFetch&&this.loadCurrentValue()}},{key:"getNodeById",value:function(t){var e=this.recursiveNodeSearch(this.nodes,function(e){return""+e.id==""+t});return e.length?e[0]:null}},{key:"getPicked",value:function(){var e=[];return this.props.multiple?this.getArrayValues(this.props.value):(this.props.value&&e.push(this.props.value),e)}},{key:"updatePickedNodes",value:function(e){if(e){var t=function(t){return function(e){return""+e.id==""+t}},r=!0,n=!(this.picked=[]),a=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var i=o.value,u=this.recursiveNodeSearch(this.nodes,t(i));u.length&&this.picked.push(u[0])}}catch(e){n=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(n)throw a}}}}},{key:"initializeNodes",value:function(e){var t=this.renderTree(e,this.state.rowsCount,null,0,{height:"400px",overflowY:"scroll"});return this.tabs.tree.html(t),this.initializeNodeList(t)}},{key:"recursiveNodeSearch",value:function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var l,i=Array.from(e)[Symbol.iterator]();!(n=(l=i.next()).done);n=!0){var u=l.value;t(u)&&r.push(u),u[this.props.childrenKey]&&u[this.props.childrenKey].length&&(r=r.concat(this.recursiveNodeSearch(u[this.props.childrenKey],t)))}}catch(e){a=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw o}}return r}},{key:"renderTree",value:function(e,t,r,n,a){var o,l,i,u;a=a||{};var s=$('<div class="ui tree-picker tree"></div>').css(a);for(i=0,u=e.length;i<u;i++){o=e[i];var c=this.opened.includes(o.id)?" opened":"";this.props.hidden(o)||(l=$('<div class="node'+c+'" data-id="'+o.id+'" data-name="'+o.name+'">\n    <div class="head">\n        <i class="add circle icon"></i>\n        <i class="minus circle icon"></i>\n        <i class="radio icon"></i>\n        <a class="name">'+o.name+'</a>\n        <i class="checkmark icon"></i>\n    </div>\n    <div class="content'+c+'"></div>\n</div>').appendTo(s),this.props.disabledClause(o)&&l.addClass("disabled"),o[this.props.childrenKey]&&o[this.props.childrenKey].length?$(".content",l).append(this.renderTree(o[this.props.childrenKey],o.rowsCount,o.id,0)):o.hasChild||l.addClass("childless"))}return this.props.paging&&e.length+n<t&&$('<div class="node pager" data-parent-id="'+r+'" data-start-index="'+(e.length+n)+'">\n    <div class="head">\n        <a class="name">...</a>\n    </div>\n</div>').appendTo(s),s}},{key:"initializeNodeList",value:function(e){var o=this;$(".node",e).each(function(e,t){var r=$(t),n=$(">.head",r),a=$(">.content",r);$(">.name",n).on("click",function(){r.hasClass("pager")?o.pagerClicked(r):o.nodeClicked(r)}),o.nodeIsPicked(r)&&r.addClass("picked"),r.hasClass("childless")||$(">.icon",n).on("click",function(){var t=o.getNodeById(o.getNodeId(r));!t||!t.hasChild||t[o.props.childrenKey]&&t[o.props.childrenKey].length?a.slideToggle():o.getAdditionalData(t.id,r),r.toggleClass("opened"),o.opened.includes(t.id)?o.opened=o.opened.filter(function(e){return e!==t.id}):o.opened.push(t.id)})})}},{key:"pagerClicked",value:function(e){this.getAdditionalData(e.data("parent-id"),e,e.data("start-index"))}},{key:"nodeClicked",value:function(e){if(!e.hasClass("disabled")){if(!this.props.multiple){if(this.picked.length&&this.props.clearable&&this.picked[0].id===this.getNodeId(e))return this.unpickNode(e);$(".node.picked",this.modal).removeClass("picked"),this.picked=[]}return e.toggleClass("picked"),e.hasClass("picked")?this.pickNode(e):this.unpickNode(e)}}},{key:"nodeIsPicked",value:function(t){var r=this;return this.picked.filter(function(e){return""+e.id===r.getNodeId(t)}).length}},{key:"updatePickedCount",value:function(){return this.picked.length?(this.count.closest(".item").addClass("highlighted"),this.count.html("("+this.picked.length+")")):(this.count.closest(".item").removeClass("highlighted"),this.count.html(""))}},{key:"getNodeId",value:function(e){return e.attr("data-id")}},{key:"pickNode",value:function(e){var t=this.getNodeId(e);return this.picked.push({id:t,name:e.attr("data-name")}),this.updatePickedCount(),$(".node[data-id="+t+"]",this.modal).addClass("picked")}},{key:"unpickNode",value:function(e){var t=this.getNodeId(e);return this.picked=this.picked.filter(function(e){return""+e.id!=""+t}),this.updatePickedCount(),$(".node[data-id="+t+"]",this.modal).removeClass("picked")}},{key:"showTree",value:function(){return $(".menu .item",this.modal).removeClass("active"),$(".menu .tree",this.modal).addClass("active"),this.tabs.tree.show(),this.tabs.search.hide(),this.tabs.picked.hide(),this.modal.attr("data-mode","tree")}},{key:"getColumnsForFilter",value:function(){var e=new RegExp(" asc","gi"),t=this.props.columns.replace(e,"");return e=new RegExp(" desc","gi"),t=t.replace(e,""),e=new RegExp(" ","gi"),t.replace(e,"")}},{key:"showSearch",value:function(r){var n=this;if(null!==r&&r.length>=this.props.minSearchQueryLength)if(this.props.paging){var e={model:this.state.dataModel,filters:[{column:this.getColumnsForFilter(),term:"like",value:r}]};this.setState({isFetching:!0},function(){n.state.getAdditionalDataForControl(n,e,function(e){var t=e.items;n.setState({isFetching:!1}),n.renderSearchResults(t,r)})})}else{var t=this.recursiveNodeSearch(this.nodes,function(e){return e.name&&-1<e.name.toLowerCase().indexOf(r.toLowerCase())});this.renderSearchResults(t,r)}else this.showTree()}},{key:"renderSearchResults",value:function(e,r){var t=this.renderList(e,{height:"400px",overflowY:"scroll"});$(".menu .item",this.modal).removeClass("active"),this.tabs.search.show().html(t),this.tabs.tree.hide(),this.tabs.picked.hide(),this.modal.attr("data-mode","search"),this.initializeNodeList(t),$(".name",t).each(function(){var e=$(this).text(),t=RegExp("("+r+")","gi");e=e.replace(t,"<strong class='search-query'>$1</strong>"),$(this).html(e)})}},{key:"showPicked",value:function(){var e;return e=this.renderList(this.picked,{height:"400px",overflowY:"scroll"}),$(".menu .item",this.modal).removeClass("active"),$(".menu .picked",this.modal).addClass("active"),this.tabs.picked.show().html(e),this.tabs.tree.hide(),this.tabs.search.hide(),this.modal.attr("data-mode","picked"),this.initializeNodeList(e)}},{key:"renderList",value:function(e,t){var r,n,a,o,l;for(t=t||{},r=$('<div class="ui tree-picker list"></div>').css(t),o=0,l=e.length;o<l;o++)n=e[o],this.props.hidden(n)||(a=$('<div class="node" data-id="'+n.id+'" data-name="'+n.name+'">\n    <div class="head">\n        <a class="name">'+n.name+'</a>\n        <i class="checkmark icon"></i>\n    </div>\n    <div class="content"></div>\n</div>').appendTo(r),this.props.disabledClause(n)&&a.addClass("disabled"));return r}},{key:"getAdditionalData",value:function(o,l,e){var i=this,u=2<arguments.length&&void 0!==e?e:0;if(this.state.dataModel)if(this.state.getAdditionalDataForControl){var t={model:this.state.dataModel};this.props.paging&&(t.startIndex=u,t.pageSize=this.props.pageSize),this.setState({isFetching:!0,needFetch:!1,parentIdToFetch:o},function(){i.state.getAdditionalDataForControl(i,t,function(e){var t=e.items,r=e.rowsCount,n=i.converter.toNested(t,o);if(i.setData({items:n,rowsCount:r,parentIdToFetch:o},!u),i.props.paging){var a=i.renderTree(n,r,o,u);i.initializeNodeList(a),u?l.replaceWith(a.children()):($(".content",l).append(a),$(">.content",l).slideToggle())}else i.updatePickedNodes(i.getPicked()),i.modal&&i.initializeNodes(i.nodes)})})}else this.props.buildermode&&console.log("TreePicker: For paging on server need to set getAdditionalDataForControl func!");else this.props.buildermode&&console.log("TreePicker: Set DataModel label!")}},{key:"loadCurrentValue",value:function(){var r=this;if(this.picked=[],void 0!==this.props.value&&null!==this.props.value)if(this.props.multiple){for(var e=this.getArrayValues(this.props.value),t=[],n=0;n<e.length;n++){var a=e[n],o=this.getNodeById(a);o?this.picked.push(o):t.push(a)}if(0<t.length){var l={model:this.state.dataModel};l.filters=[{column:"__id",term:"in",value:t}],this.setState({isFetching:!0},function(){r.state.getAdditionalDataForControl(r,l,function(e){var t=e.items;r.addSelectedNodes(t)})})}else this.modal&&this.updatePickedCount()}else{var i=this.getNodeById(this.props.value);if(i)this.picked.push(i),this.modal&&this.updatePickedCount();else{var u={model:this.state.dataModel};u.filters=[{column:"__id",term:"=",value:this.props.value}],this.setState({isFetching:!0},function(){r.state.getAdditionalDataForControl(r,u,function(e){var t=e.items;r.addSelectedNodes(t)})})}}this.state.needValueFetch&&this.setState({needValueFetch:!1})}},{key:"setData",value:function(e,t){var r=e.items,n=e.rowsCount,a=e.parentIdToFetch;if(t)if(a){var o=this.getNodeById(a);o&&(o[this.props.childrenKey]=r,o.rowsCount=n)}else this.nodes=r,this.setState({rowsCount:n});else if(a){var l=this.getNodeById(a);l&&(l[this.props.childrenKey]=l[this.props.childrenKey].concat(r))}else this.nodes=this.nodes.concat(r);this.setState({needFetch:!1,isFetching:!1})}},{key:"getArrayValues",value:function(e){var t=e;if(null==t)return[];if(!Array.isArray(t)){var r=void 0;try{r=JSON.parse(t)}catch(e){console.log(e)}Array.isArray(r)||(r=[t]),t=r}return t}},{key:"addSelectedNodes",value:function(e){Array.isArray(e)&&e.length&&(this.picked=this.picked.concat(e),this.modal&&this.updatePickedCount(),this.setState({isFetching:!1}))}},{key:"getLocalized",value:function(e,t){return window.DWKitAdminLang&&window.DWKitAdminLang.treepicker?window.DWKitAdminLang.treepicker[e]:t}},{key:"triggerElement",value:function(){var e=this.props.value,t=[];if(this.props.multiple){this.props.value||(e=[]),Array.isArray(this.props.value)||(e=this.getArrayValues(this.props.value));var r=!0,n=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var i=o.value,u=this.getNodeById(i);u&&t.push({value:u.id,text:u.name})}}catch(e){n=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(n)throw a}}}else if(e){var s=this.getNodeById(e);s&&t.push({value:s.id,text:s.name})}var c={fluid:this.props.fluid,disabled:this.props.disabled,multiple:this.props.multiple,value:e,className:this.props.className,options:t,selection:this.props.selection};if(this.props.parentIsForm)return c.label=this.props.label,c.error=this.props.error,h.default.createElement(p.Form.Dropdown,f({},c,{onClick:this.handleOpen,onChange:this.onDropdownChange}));var d="ui labeled input";return this.props.fluid&&(d+=" fluid"),this.props.error&&(d+=" error"),h.default.createElement("div",{className:d},this.props.label&&h.default.createElement("div",{className:"ui label label"},this.props.label),h.default.createElement(p.Dropdown,f({},c,{onChange:this.onDropdownChange,onClick:this.handleOpen})))}},{key:"render",value:function(){var e="tree-picker "+this.props.modalCssClass;return h.default.createElement(p.Modal,{style:this.props.modalStyle,className:e,open:this.state.visible,trigger:this.triggerElement()},h.default.createElement(l.default,{name:this.props.label,onMount:this.onMount,selected:this.getLocalized("selected","Selected")}),h.default.createElement("div",{className:"ui search form"},h.default.createElement("div",{className:"field"},h.default.createElement("div",{className:"ui icon input"},h.default.createElement("input",{type:"text",placeholder:this.getLocalized("search","Search")}),h.default.createElement("i",{className:"search icon"})))),h.default.createElement(p.Modal.Content,null,h.default.createElement("div",{className:" active"},h.default.createElement("div",{className:"ui text loader"},this.getLocalized("loadingData","Loading data"))),h.default.createElement("div",{className:"tree-tab"},h.default.createElement("div",{style:{height:"400px"}})),h.default.createElement("div",{className:"search-tab"}),h.default.createElement("div",{className:"picked-tab"})),h.default.createElement(p.Modal.Actions,null,h.default.createElement(p.Button,{onClick:this.pickSearch,className:"pick-search"},h.default.createElement("i",{className:"checkmark icon"}),this.getLocalized("selectAll","Select all")),h.default.createElement(p.Button,{onClick:this.unpickSearch,className:"unpick-search"},h.default.createElement("i",{className:"remove icon"}),this.getLocalized("removeAll","Remove all")),h.default.createElement(p.Button,{onClick:this.unpickPicked,className:"unpick-picked"},h.default.createElement("i",{className:"remove icon"}),this.getLocalized("removeAll","Remove all")),h.default.createElement(p.Button,{onClick:this.handleSave,className:"blue"},this.getLocalized("ok","Ok")),h.default.createElement(p.Button,{onClick:this.handleClose},this.getLocalized("cancel","Cancel"))))}}]),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":mu(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return l.onMount=function(e){l.modal=$(i.default.findDOMNode(e)).parent(),l.count=$(".count",l.modal),l.tabs={tree:$(".tree-tab",l.modal),search:$(".search-tab",l.modal),picked:$(".picked-tab",l.modal)},$(".menu .tree",l.modal).on("click",function(){return l.showTree()}),$(".menu .picked",l.modal).on("click",function(){return l.showPicked()}),$(".search input",l.modal).on("keyup",function(e){return l.showSearch($(e.currentTarget).val())}),l.nodes.length&&(l.props.paging?l.loadCurrentValue():(l.updatePickedNodes(l.getPicked()),l.updatePickedCount()),l.initializeNodes(l.nodes))},l.pickSearch=function(){$(".search-tab .node:not(.picked) .name",l.modal).trigger("click")},l.unpickSearch=function(){$(".search-tab .node.picked .name",l.modal).trigger("click")},l.unpickPicked=function(){$(".picked-tab .node.picked .name",l.modal).trigger("click")},l.handleOpen=function(){l.state.visible||l.setState({visible:!0})},l.handleClose=function(){l.setState({visible:!1})},l.handleSave=function(){var e,t;t=l.props.multiple?(e=l.picked.map(function(e){return e.id}),l.picked.map(function(e){return e.values})):(e=l.picked.length?l.picked[0].id:null,l.picked.length?l.picked[0].values:null),l.props.onChange&&l.props.onChange(null,{name:l.props.name,propertyName:l.props.propertyName,value:e,additionalValues:t}),l.setState({visible:!1})},l.onDropdownChange=function(e,t){var r,n=t.value;if(l.nodes.length)if(Array.isArray(n)){var a=n.map(function(e){return""+e});r=l.recursiveNodeSearch(l.nodes,function(e){return a.includes(""+e.id)}).map(function(e){return e.values})}else{var o=l.recursiveNodeSearch(l.nodes,function(e){return""+e.id==""+n});o.length&&(r=o[0].values)}l.props.onChange&&l.props.onChange(null,{name:l.props.name,value:n,additionalValues:r})},l.state={visible:!1,value:l.props.value},l.converter=new u.default({children:l.props.childrenKey}),l}c.defaultProps={hidden:function(e){return!1},disabledClause:function(e){return!1},childrenKey:"nodes",multiple:!1,minSearchQueryLength:3,pageSize:100},t.default=c},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){void 0===t[e]&&(t[e]=[]),t[e].push(r)}function d(e,t,r){var n;for(n=r.length,void 0===t[e]&&(t[e]=[]);0<n--;)t[e].push(r.shift())}Object.defineProperty(t,"__esModule",{value:!0});var a=(n(o.prototype,[{key:"toNested",value:function(e,t){var r,n,a,o,l,i,u,s;for(r=0,o=[],a={},u={},n=e.length;r<n;r++)l=(s=e[r])[this.config.id],i=s[this.config.parent],a[l]=s,i===t?o.push(s):void 0!==a[i]?c(this.config.children,a[i],s):c(i,u,s),this.config.options.deleteParent&&delete s[this.config.parent],void 0!==u[l]&&d(this.config.children,s,u[l]);return o}}]),o);function o(e){!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this.config=e=e||{},this.config.id=e.id||"id",this.config.parent=e.parent||"parent",this.config.children=e.children||"nodes",this.config.options=e.options||{deleteParent:!1}}t.default=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a,o,l,i,u=r(0),s=(a=u)&&a.__esModule?a:{default:a},c=r(1),d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,u.Component),o=f,(l=[{key:"componentDidMount",value:function(){this.props.onMount(this)}},{key:"render",value:function(){return s.default.createElement(c.Modal.Header,null,this.props.name,s.default.createElement("div",{className:"ui menu"},s.default.createElement(c.Item,{className:"active tree",as:"a"},s.default.createElement("i",{className:"list icon"})," Select"),s.default.createElement(c.Item,{className:"picked item",as:"a"},s.default.createElement("i",{className:"checkmark icon"})," ",this.props.selected," ",s.default.createElement("span",{className:"count"}))))}}])&&n(o.prototype,l),i&&n(o,i),f);function f(e){return function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":mu(t))&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e))}t.default=d},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=l(r(0)),o=(l(r(2)),r(1));function l(e){return e&&e.__esModule?e:{default:e}}var i,u,s,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,a.default.Component),i=d,s=[{key:"getDerivedStateFromProps",value:function(e,t){return t.activeitem!==e.value?{activeitem:e.value}:null}}],(u=[{key:"render",value:function(){var e={};e.pointing=this.props.pointing,e.secondary=this.props.secondary,e.tabular=this.props.tabular,e.fluid=this.props.fluid,e.vertical=this.props.vertical;var t=this.props.className;this.props.scroll&&(t="dwkit-tabgroup");var r=this.getPanes(this.props["data-panes"]);return a.default.createElement("div",{className:t,style:this.props.style},a.default.createElement(o.Tab,{menu:e,panes:r,renderActiveOnly:!1,onTabChange:this.onTabChange.bind(this)}))}},{key:"getPanes",value:function(e){var t=[];if(Array.isArray(e))for(var r=0;r<e.length;r++){var n=e[r];if(void 0!==n.visibleCondition&&null!==n.visibleCondition&&""!==n.visibleCondition){var a="return "+n.visibleCondition;try{if(!new Function("",a)())continue}catch(e){}}t.push({menuItem:n.title,pane:{key:n.psid,className:"top",content:this.renderPanel(n)}})}return t}},{key:"renderPanel",value:function(e){var t=void 0;if(null!=this.props.placeholders&&Array.isArray(this.props.placeholders[e.psid])&&0<this.props.placeholders[e.psid].length){var r=this.props.placeholders[e.psid];if(null!=r){t=this.props.createControls(this,{model:r,parentPlaceholder:e.psid});var n=e.psid;this.props.buildermode&&null!=this.props.createBuilderDropzone&&(0<t.length&&0<r.length&&t.unshift(this.props.createBuilderDropzone(n+"tab_dropzone_header",e.title,e.psid)),t.push(this.props.createBuilderDropzone(n+"tab_dropzone_footer",e.title,e.psid,r[r.length-1].key)))}}else this.props.buildermode&&null!=this.props.createBuilderDropzone&&(t=this.props.createBuilderDropzone("tab_dropzone_footer",e.title,e.psid));return t}},{key:"onTabChange",value:function(e,t){var r=t.activeIndex;null!=this.props.handleEvent&&this.props.handleEvent({e:e,key:this.props.name,eventName:"onTabChange",parameters:{targetIndex:r,pane:this.props["data-panes"][r]}})}}])&&n(i.prototype,u),s&&n(i,s),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":mu(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.state={},null!=e.value?t.state.activeitem=e.value:null!=e.activeitem&&(t.state.activeitem=e.activeitem),t}t.default=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=i(r(0)),a=(i(r(2)),i(r(40)),r(43)),l=i(a);function i(e){return e&&e.__esModule?e:{default:e}}r(44);var s,c,d,f=(0,a.WidthProvider)(l.default),p=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(h,o.default.Component),s=h,(c=[{key:"render",value:function(){var e=this.getPanes(this.props["data-panes"]),t={isDraggable:!0,isResizable:!0,cols:null!=this.props.cols&&""!=this.props.cols?this.props.cols:12,rowHeight:30,containerPadding:[0,0]};this.props.buildermode||(t.isDraggable=this.props.draggable,t.isResizable=this.props.resizable);var r=this.props.className;return this.props.scroll&&(r="react-grid-scroll"),o.default.createElement("div",{className:r,style:this.props.style},o.default.createElement(f,u({onLayoutChange:this.onLayoutChange.bind(this)},t),e))}},{key:"getPanes",value:function(e){var r=this,n=[],t=void 0;if(!this.props.buildermode)try{t=JSON.parse(this.getCookie(window.location.pathname+"_"+this.props.name))}catch(e){}if(Array.isArray(e))for(var a=0;a<e.length;a++){var o=e[a];if(void 0!==o.visibleCondition&&null!==o.visibleCondition&&""!==o.visibleCondition){var l="return "+o.visibleCondition;try{if(!new Function("",l)())continue}catch(e){}}var i=!1;null!=t&&t.forEach(function(e){if(e.i==o.psid){i=!0;var t=u({},o);r.props.draggable&&(t.x=e.x,t.y=e.y),r.props.resizable&&(t.w=e.w,t.h=e.h),n.push(r.renderPanel(t))}}),i||n.push(this.renderPanel(o))}return n}},{key:"renderPanel",value:function(e){var t=void 0;if(null!=this.props.placeholders&&Array.isArray(this.props.placeholders[e.psid])&&0<this.props.placeholders[e.psid].length){var r=this.props.placeholders[e.psid];if(null!=r){t=this.props.createControls(this,{model:r,parentPlaceholder:e.psid});var n=e.psid;this.props.buildermode&&null!=this.props.createBuilderDropzone&&(0<t.length&&0<r.length&&t.unshift(this.props.createBuilderDropzone(n+"layout_dropzone_header",e.title,e.psid)),t.push(this.props.createBuilderDropzone(n+"layout_dropzone_footer",e.title,e.psid,r[r.length-1].key)))}}else this.props.buildermode&&null!=this.props.createBuilderDropzone&&(t=this.props.createBuilderDropzone("layout_dropzone_footer",e.title,e.psid));var a={x:null!=e.x?e.x:0,y:null!=e.y?e.y:0,w:null!=e.w?e.w:4,h:null!=e.h?e.h:4,i:e.psid};return o.default.createElement("div",{key:e.psid,className:e.cssclass,"data-grid":a},e.title&&o.default.createElement("div",{className:"react-grid-item-title"},e.title),t)}},{key:"onLayoutChange",value:function(e){if(this.props.buildermode){var t=this.props["data-panes"];Array.isArray(t)&&t.forEach(function(t){e.forEach(function(e){t.psid==e.i&&(t.x=e.x,t.y=e.y,t.w=e.w,t.h=e.h)})})}else(this.props.draggable||this.props.resizable)&&this.setCookie(window.location.pathname+"_"+this.props.name,JSON.stringify(e));null!=this.props.handleEvent&&this.props.handleEvent({undefined:void 0,key:this.props.name,eventName:"onLayoutChange",parameters:{layout:e}})}},{key:"getCookie",value:function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}},{key:"setCookie",value:function(e,t,r){var n=(r=r||{}).expires;if("number"==typeof n&&n){var a=new Date;a.setTime(a.getTime()+1e3*n),n=r.expires=a}n&&n.toUTCString&&(r.expires=n.toUTCString());var o=e+"="+(t=encodeURIComponent(t));for(var l in r){o+="; "+l;var i=r[l];!0!==i&&(o+="="+i)}document.cookie=o}}])&&n(s.prototype,c),d&&n(s,d),h);function h(e){!function(e){if(!(e instanceof h))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":mu(t))&&"function"!=typeof t?e:t}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,e));return t.state={},t}t.default=p},function(e,U,G){(function(M,z){var B;
/**
       * @license
       * Lodash <https://lodash.com/>
       * Copyright JS Foundation and other contributors <https://js.foundation/>
       * Released under MIT license <https://lodash.com/license>
       * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
       * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
       */
/**
       * @license
       * Lodash <https://lodash.com/>
       * Copyright JS Foundation and other contributors <https://js.foundation/>
       * Released under MIT license <https://lodash.com/license>
       * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
       * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
       */(function(){var Qo,Yo="Expected a function",Zo="__lodash_hash_undefined__",Xo="__lodash_placeholder__",el=9007199254740991,tl=4294967295,rl=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],nl="[object Arguments]",al="[object Array]",ol="[object Boolean]",ll="[object Date]",il="[object Error]",ul="[object Function]",sl="[object GeneratorFunction]",cl="[object Map]",dl="[object Number]",fl="[object Object]",pl="[object Promise]",hl="[object RegExp]",ml="[object Set]",vl="[object String]",gl="[object Symbol]",yl="[object WeakMap]",bl="[object ArrayBuffer]",wl="[object DataView]",Cl="[object Float32Array]",kl="[object Float64Array]",El="[object Int8Array]",_l="[object Int16Array]",Fl="[object Int32Array]",Ol="[object Uint8Array]",xl="[object Uint8ClampedArray]",Sl="[object Uint16Array]",Ll="[object Uint32Array]",Dl=/\b__p \+= '';/g,Il=/\b(__p \+=) '' \+/g,Al=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Vl=/&(?:amp|lt|gt|quot|#39);/g,jl=/[&<>"']/g,Nl=RegExp(Vl.source),Pl=RegExp(jl.source),Tl=/<%-([\s\S]+?)%>/g,Rl=/<%([\s\S]+?)%>/g,Ml=/<%=([\s\S]+?)%>/g,zl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bl=/^\w*$/,Ul=/^\./,Gl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ql=/[\\^$.*+?()[\]{}|]/g,Wl=RegExp(ql.source),Kl=/^\s+|\s+$/g,Hl=/^\s+/,$l=/\s+$/,Jl=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ql=/\{\n\/\* \[wrapped with (.+)\] \*/,Yl=/,? & /,Zl=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Xl=/\\(\\)?/g,ei=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ti=/\w*$/,ri=/^[-+]0x[0-9a-f]+$/i,ni=/^0b[01]+$/i,ai=/^\[object .+?Constructor\]$/,oi=/^0o[0-7]+$/i,li=/^(?:0|[1-9]\d*)$/,ii=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ui=/($^)/,si=/['\n\r\u2028\u2029\\]/g,e="\\ud800-\\udfff",t="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",r="\\u2700-\\u27bf",n="a-z\\xdf-\\xf6\\xf8-\\xff",a="A-Z\\xc0-\\xd6\\xd8-\\xde",o="\\ufe0e\\ufe0f",l="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",i="["+e+"]",u="["+l+"]",s="["+t+"]",c="\\d+",d="["+r+"]",f="["+n+"]",p="[^"+e+l+c+r+n+a+"]",h="\\ud83c[\\udffb-\\udfff]",m="[^"+e+"]",v="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",y="["+a+"]",b="(?:"+f+"|"+p+")",w="(?:"+y+"|"+p+")",C="(?:['’](?:d|ll|m|re|s|t|ve))?",k="(?:['’](?:D|LL|M|RE|S|T|VE))?",E="(?:"+s+"|"+h+")?",_="["+o+"]?",F=_+E+"(?:\\u200d(?:"+[m,v,g].join("|")+")"+_+E+")*",O="(?:"+[d,v,g].join("|")+")"+F,x="(?:"+[m+s+"?",s,v,g,i].join("|")+")",ci=RegExp("['’]","g"),di=RegExp(s,"g"),S=RegExp(h+"(?="+h+")|"+x+F,"g"),fi=RegExp([y+"?"+f+"+"+C+"(?="+[u,y,"$"].join("|")+")",w+"+"+k+"(?="+[u,y+b,"$"].join("|")+")",y+"?"+b+"+"+C,y+"+"+k,"\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",c,O].join("|"),"g"),L=RegExp("[\\u200d"+e+t+o+"]"),pi=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,hi=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],mi=-1,vi={};vi[Cl]=vi[kl]=vi[El]=vi[_l]=vi[Fl]=vi[Ol]=vi[xl]=vi[Sl]=vi[Ll]=!0,vi[nl]=vi[al]=vi[bl]=vi[ol]=vi[wl]=vi[ll]=vi[il]=vi[ul]=vi[cl]=vi[dl]=vi[fl]=vi[hl]=vi[ml]=vi[vl]=vi[yl]=!1;var gi={};gi[nl]=gi[al]=gi[bl]=gi[wl]=gi[ol]=gi[ll]=gi[Cl]=gi[kl]=gi[El]=gi[_l]=gi[Fl]=gi[cl]=gi[dl]=gi[fl]=gi[hl]=gi[ml]=gi[vl]=gi[gl]=gi[Ol]=gi[xl]=gi[Sl]=gi[Ll]=!0,gi[il]=gi[ul]=gi[yl]=!1;var D={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},yi=parseFloat,bi=parseInt,I="object"==(void 0===M?"undefined":mu(M))&&M&&M.Object===Object&&M,A="object"==("undefined"==typeof self?"undefined":mu(self))&&self&&self.Object===Object&&self,wi=I||A||Function("return this")(),V=U&&!U.nodeType&&U,j=V&&"object"==(void 0===z?"undefined":mu(z))&&z&&!z.nodeType&&z,Ci=j&&j.exports===V,N=Ci&&I.process,P=function(){try{return N&&N.binding&&N.binding("util")}catch(e){}}(),ki=P&&P.isArrayBuffer,Ei=P&&P.isDate,_i=P&&P.isMap,Fi=P&&P.isRegExp,Oi=P&&P.isSet,xi=P&&P.isTypedArray;function Si(e,t){return e.set(t[0],t[1]),e}function Li(e,t){return e.add(t),e}function Di(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Ii(e,t,r,n){for(var a=-1,o=null==e?0:e.length;++a<o;){var l=e[a];t(n,l,r(l),e)}return n}function Ai(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function Vi(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function ji(e,t){for(var r=-1,n=null==e?0:e.length,a=0,o=[];++r<n;){var l=e[r];t(l,r,e)&&(o[a++]=l)}return o}function Ni(e,t){return!(null==e||!e.length)&&-1<qi(e,t,0)}function Pi(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}function Ti(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}function Ri(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}function Mi(e,t,r,n){var a=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++a]);++a<o;)r=t(r,e[a],a,e);return r}function zi(e,t,r,n){var a=null==e?0:e.length;for(n&&a&&(r=e[--a]);a--;)r=t(r,e[a],a,e);return r}function Bi(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var T=$i("length");function Ui(e,n,t){var a;return t(e,function(e,t,r){if(n(e,t,r))return a=t,!1}),a}function Gi(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}function qi(e,t,a){return t==t?function(e,t){for(var r=a-1,n=e.length;++r<n;)if(e[r]===t)return r;return-1}(e,t):Gi(e,Ki,a)}function Wi(e,t,r,n){for(var a=r-1,o=e.length;++a<o;)if(n(e[a],t))return a;return-1}function Ki(e){return e!=e}function Hi(e,t){var r=null==e?0:e.length;return r?Qi(e,t)/r:NaN}function $i(t){return function(e){return null==e?Qo:e[t]}}function R(t){return function(e){return null==t?Qo:t[e]}}function Ji(e,n,a,o,t){return t(e,function(e,t,r){a=o?(o=!1,e):n(a,e,t,r)}),a}function Qi(e,t){for(var r,n=-1,a=e.length;++n<a;){var o=t(e[n]);o!==Qo&&(r=r===Qo?o:r+o)}return r}function Yi(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Zi(t){return function(e){return t(e)}}function Xi(t,e){return Ti(e,function(e){return t[e]})}function eu(e,t){return e.has(t)}function tu(e,t){for(var r=-1,n=e.length;++r<n&&-1<qi(t,e[r],0););return r}function ru(e,t){for(var r=e.length;r--&&-1<qi(t,e[r],0););return r}var nu=R({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),au=R({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ou(e){return"\\"+D[e]}function lu(e){return L.test(e)}function iu(e){var r=-1,n=Array(e.size);return e.forEach(function(e,t){n[++r]=[t,e]}),n}function uu(t,r){return function(e){return t(r(e))}}function su(e,t){for(var r=-1,n=e.length,a=0,o=[];++r<n;){var l=e[r];l!==t&&l!==Xo||(e[r]=Xo,o[a++]=r)}return o}function cu(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}function du(e){return lu(e)?function(e){for(var t=S.lastIndex=0;S.test(e);)++t;return t}(e):T(e)}function fu(e){return lu(e)?e.match(S)||[]:e.split("")}var pu=R({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),hu=function e(t){var r,S=(t=null==t?wi:hu.defaults(wi.Object(),t,hu.pick(wi,hi))).Array,n=t.Date,a=t.Error,v=t.Function,o=t.Math,E=t.Object,g=t.RegExp,c=t.String,L=t.TypeError,l=S.prototype,i=v.prototype,u=E.prototype,s=t["__core-js_shared__"],d=i.toString,_=u.hasOwnProperty,f=0,p=(r=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",h=u.toString,m=d.call(E),y=wi._,b=g("^"+d.call(_).replace(ql,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),w=Ci?t.Buffer:Qo,C=t.Symbol,k=t.Uint8Array,F=w?w.allocUnsafe:Qo,O=uu(E.getPrototypeOf,E),x=E.create,D=u.propertyIsEnumerable,I=l.splice,A=C?C.isConcatSpreadable:Qo,V=C?C.iterator:Qo,j=C?C.toStringTag:Qo,N=function(){try{var e=jr(E,"defineProperty");return e({},"",{}),e}catch(e){}}(),P=t.clearTimeout!==wi.clearTimeout&&t.clearTimeout,T=n&&n.now!==wi.Date.now&&n.now,R=t.setTimeout!==wi.setTimeout&&t.setTimeout,M=o.ceil,z=o.floor,B=E.getOwnPropertySymbols,U=w?w.isBuffer:Qo,G=t.isFinite,q=l.join,W=uu(E.keys,E),K=o.max,H=o.min,$=n.now,J=t.parseInt,Q=o.random,Y=l.reverse,Z=jr(t,"DataView"),X=jr(t,"Map"),ee=jr(t,"Promise"),te=jr(t,"Set"),re=jr(t,"WeakMap"),ne=jr(E,"create"),ae=re&&new re,oe={},le=un(Z),ie=un(X),ue=un(ee),se=un(te),ce=un(re),de=C?C.prototype:Qo,fe=de?de.valueOf:Qo,pe=de?de.toString:Qo;function he(e){if(Fa(e)&&!ha(e)&&!(e instanceof be)){if(e instanceof ye)return e;if(_.call(e,"__wrapped__"))return sn(e)}return new ye(e)}var me=function(e){if(!_a(e))return{};if(x)return x(e);ve.prototype=e;var t=new ve;return ve.prototype=Qo,t};function ve(){}function ge(){}function ye(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=Qo}function be(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=tl,this.__views__=[]}function we(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ce(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ke(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ee(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new ke;++t<r;)this.add(e[t])}function _e(e){var t=this.__data__=new Ce(e);this.size=t.size}function Fe(e,t){var r=ha(e),n=!r&&pa(e),a=!r&&!n&&ya(e),o=!r&&!n&&!a&&Va(e),l=r||n||a||o,i=l?Yi(e.length,c):[],u=i.length;for(var s in e)!t&&!_.call(e,s)||l&&("length"==s||a&&("offset"==s||"parent"==s)||o&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Br(s,u))||i.push(s);return i}function Oe(e){var t=e.length;return t?e[wt(0,t-1)]:Qo}function xe(e,t,r){(r===Qo||ca(e[t],r))&&(r!==Qo||t in e)||Ae(e,t,r)}function Se(e,t,r){var n=e[t];_.call(e,t)&&ca(n,r)&&(r!==Qo||t in e)||Ae(e,t,r)}function Le(e,t){for(var r=e.length;r--;)if(ca(e[r][0],t))return r;return-1}function De(e,n,a,o){return Me(e,function(e,t,r){n(o,e,a(e),r)}),o}function Ie(e,t){return e&&Xt(t,to(t),e)}function Ae(e,t,r){"__proto__"==t&&N?N(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Ve(e,t){for(var r=-1,n=t.length,a=S(n),o=null==e;++r<n;)a[r]=o?Qo:Qa(e,t[r]);return a}function je(e,t,r){return e==e&&(r!==Qo&&(e=e<=r?e:r),t!==Qo&&(e=t<=e?e:t)),e}function Ne(r,n,a,e,t,o){var l,i=1&n,u=2&n,s=4&n;if(a&&(l=t?a(r,e,t,o):a(r)),l!==Qo)return l;if(!_a(r))return r;var c,d,f,p,h,m,v,g,y=ha(r);if(y){if(v=(m=r).length,g=m.constructor(v),v&&"string"==typeof m[0]&&_.call(m,"index")&&(g.index=m.index,g.input=m.input),l=g,!i)return Zt(r,l)}else{var b=Tr(r),w=b==ul||b==sl;if(ya(r))return Kt(r,i);if(b==fl||b==nl||w&&!t){if(l=u||w?{}:Mr(r),!i)return u?(f=r,p=(h=l)&&Xt(r,ro(r),h),Xt(f,Pr(f),p)):(d=Ie(l,c=r),Xt(c,Nr(c),d))}else{if(!gi[b])return t?r:{};l=function(e,t,r,n){var a,o,l,i,u,s,c,d=e.constructor;switch(t){case bl:return Ht(e);case ol:case ll:return new d(+e);case wl:return s=e,c=n?Ht(s.buffer):s.buffer,new s.constructor(c,s.byteOffset,s.byteLength);case Cl:case kl:case El:case _l:case Fl:case Ol:case xl:case Sl:case Ll:return $t(e,n);case cl:return u=e,Mi(n?r(iu(u),1):iu(u),Si,new u.constructor);case dl:case vl:return new d(e);case hl:return(i=new(l=e).constructor(l.source,ti.exec(l))).lastIndex=l.lastIndex,i;case ml:return o=e,Mi(n?r(cu(o),1):cu(o),Li,new o.constructor);case gl:return a=e,fe?E(fe.call(a)):{}}}(r,b,Ne,i)}}var C=(o=o||new _e).get(r);if(C)return C;o.set(r,l);var k=y?Qo:(s?u?xr:Or:u?ro:to)(r);return Ai(k||r,function(e,t){k&&(e=r[t=e]),Se(l,t,Ne(e,n,a,t,r,o))}),l}function Pe(e,t,r){var n=r.length;if(null==e)return!n;for(e=E(e);n--;){var a=r[n],o=t[a],l=e[a];if(l===Qo&&!(a in e)||!o(l))return!1}return!0}function Te(e,t,r){if("function"!=typeof e)throw new L(Yo);return Zr(function(){e.apply(Qo,r)},t)}function Re(e,t,r,n){var a=-1,o=Ni,l=!0,i=e.length,u=[],s=t.length;if(!i)return u;r&&(t=Ti(t,Zi(r))),n?(o=Pi,l=!1):200<=t.length&&(o=eu,l=!1,t=new Ee(t));e:for(;++a<i;){var c=e[a],d=null==r?c:r(c);if(c=n||0!==c?c:0,l&&d==d){for(var f=s;f--;)if(t[f]===d)continue e;u.push(c)}else o(t,d,n)||u.push(c)}return u}he.templateSettings={escape:Tl,evaluate:Rl,interpolate:Ml,variable:"",imports:{_:he}},(he.prototype=ge.prototype).constructor=he,(ye.prototype=me(ge.prototype)).constructor=ye,(be.prototype=me(ge.prototype)).constructor=be,we.prototype.clear=function(){this.__data__=ne?ne(null):{},this.size=0},we.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},we.prototype.get=function(e){var t=this.__data__;if(ne){var r=t[e];return r===Zo?Qo:r}return _.call(t,e)?t[e]:Qo},we.prototype.has=function(e){var t=this.__data__;return ne?t[e]!==Qo:_.call(t,e)},we.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ne&&t===Qo?Zo:t,this},Ce.prototype.clear=function(){this.__data__=[],this.size=0},Ce.prototype.delete=function(e){var t=this.__data__,r=Le(t,e);return!(r<0||(r==t.length-1?t.pop():I.call(t,r,1),--this.size,0))},Ce.prototype.get=function(e){var t=this.__data__,r=Le(t,e);return r<0?Qo:t[r][1]},Ce.prototype.has=function(e){return-1<Le(this.__data__,e)},Ce.prototype.set=function(e,t){var r=this.__data__,n=Le(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},ke.prototype.clear=function(){this.size=0,this.__data__={hash:new we,map:new(X||Ce),string:new we}},ke.prototype.delete=function(e){var t=Ar(this,e).delete(e);return this.size-=t?1:0,t},ke.prototype.get=function(e){return Ar(this,e).get(e)},ke.prototype.has=function(e){return Ar(this,e).has(e)},ke.prototype.set=function(e,t){var r=Ar(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Ee.prototype.add=Ee.prototype.push=function(e){return this.__data__.set(e,Zo),this},Ee.prototype.has=function(e){return this.__data__.has(e)},_e.prototype.clear=function(){this.__data__=new Ce,this.size=0},_e.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},_e.prototype.get=function(e){return this.__data__.get(e)},_e.prototype.has=function(e){return this.__data__.has(e)},_e.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ce){var n=r.__data__;if(!X||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ke(n)}return r.set(e,t),this.size=r.size,this};var Me=rr(He),ze=rr($e,!0);function Be(e,n){var a=!0;return Me(e,function(e,t,r){return a=!!n(e,t,r)}),a}function Ue(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],l=t(o);if(null!=l&&(i===Qo?l==l&&!Aa(l):r(l,i)))var i=l,u=o}return u}function Ge(e,n){var a=[];return Me(e,function(e,t,r){n(e,t,r)&&a.push(e)}),a}function qe(e,t,r,n,a){var o=-1,l=e.length;for(r=r||zr,a=a||[];++o<l;){var i=e[o];0<t&&r(i)?1<t?qe(i,t-1,r,n,a):Ri(a,i):n||(a[a.length]=i)}return a}var We=nr(),Ke=nr(!0);function He(e,t){return e&&We(e,t,to)}function $e(e,t){return e&&Ke(e,t,to)}function Je(t,e){return ji(e,function(e){return Ca(t[e])})}function Qe(e,t){for(var r=0,n=(t=Ut(t,e)).length;null!=e&&r<n;)e=e[ln(t[r++])];return r&&r==n?e:Qo}function Ye(e,t,r){var n=t(e);return ha(e)?n:Ri(n,r(e))}function Ze(e){return null==e?e===Qo?"[object Undefined]":"[object Null]":j&&j in E(e)?function(e){var t=_.call(e,j),r=e[j];try{e[j]=Qo;var n=!0}catch(e){}var a=h.call(e);return n&&(t?e[j]=r:delete e[j]),a}(e):(t=e,h.call(t));var t}function Xe(e,t){return t<e}function et(e,t){return null!=e&&_.call(e,t)}function tt(e,t){return null!=e&&t in E(e)}function rt(e,t,r){for(var n=r?Pi:Ni,a=e[0].length,o=e.length,l=o,i=S(o),u=1/0,s=[];l--;){var c=e[l];l&&t&&(c=Ti(c,Zi(t))),u=H(c.length,u),i[l]=!r&&(t||120<=a&&120<=c.length)?new Ee(l&&c):Qo}c=e[0];var d=-1,f=i[0];e:for(;++d<a&&s.length<u;){var p=c[d],h=t?t(p):p;if(p=r||0!==p?p:0,!(f?eu(f,h):n(s,h,r))){for(l=o;--l;){var m=i[l];if(!(m?eu(m,h):n(e[l],h,r)))continue e}f&&f.push(h),s.push(p)}}return s}function nt(e,t,r){var n=null==(e=Qr(e,t=Ut(t,e)))?e:e[ln(wn(t))];return null==n?Qo:Di(n,e,r)}function at(e){return Fa(e)&&Ze(e)==nl}function ot(e,t,r,n,a){return e===t||(null==e||null==t||!Fa(e)&&!Fa(t)?e!=e&&t!=t:function(e,t,r,n,a,o){var l=ha(e),i=ha(t),d=l?al:Tr(e),u=i?al:Tr(t),s=(d=d==nl?fl:d)==fl,c=(u=u==nl?fl:u)==fl,f=d==u;if(f&&ya(e)){if(!ya(t))return!1;s=!(l=!0)}if(f&&!s)return o=o||new _e,l||Va(e)?_r(e,t,r,n,a,o):function(e,t,r,n,a,o,l){switch(d){case wl:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case bl:return!(e.byteLength!=t.byteLength||!o(new k(e),new k(t)));case ol:case ll:case dl:return ca(+e,+t);case il:return e.name==t.name&&e.message==t.message;case hl:case vl:return e==t+"";case cl:var i=iu;case ml:var u=1&n;if(i=i||cu,e.size!=t.size&&!u)return!1;var s=l.get(e);if(s)return s==t;n|=2,l.set(e,t);var c=_r(i(e),i(t),n,a,o,l);return l.delete(e),c;case gl:if(fe)return fe.call(e)==fe.call(t)}return!1}(e,t,0,r,n,a,o);if(!(1&r)){var p=s&&_.call(e,"__wrapped__"),h=c&&_.call(t,"__wrapped__");if(p||h)return a(p?e.value():e,h?t.value():t,r,n,o=o||new _e)}return f&&function(e,t,r,n,a,o){var l=1&r,i=Or(e),u=i.length;if(u!=Or(t).length&&!l)return!1;for(var s=u;s--;){var c=i[s];if(!(l?c in t:_.call(t,c)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var f=!0;o.set(e,t),o.set(t,e);for(var p=l;++s<u;){var h=e[c=i[s]],m=t[c];if(n)var v=l?n(m,h,c,t,e,o):n(h,m,c,e,t,o);if(!(v===Qo?h===m||a(h,m,r,n,o):v)){f=!1;break}p=p||"constructor"==c}if(f&&!p){var g=e.constructor,y=t.constructor;g!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y)&&(f=!1)}return o.delete(e),o.delete(t),f}(e,t,r,n,a,o=o||new _e)}(e,t,r,n,ot,a))}function lt(e,t,r,n){var a=r.length,o=a,l=!n;if(null==e)return!o;for(e=E(e);a--;){var i=r[a];if(l&&i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++a<o;){var u=(i=r[a])[0],s=e[u],c=i[1];if(l&&i[2]){if(s===Qo&&!(u in e))return!1}else{var d=new _e;if(n)var f=n(s,c,u,e,t,d);if(!(f===Qo?ot(c,s,3,n,d):f))return!1}}return!0}function it(e){return!(!_a(e)||p&&p in e)&&(Ca(e)?b:ai).test(un(e))}function ut(e){return"function"==typeof e?e:null==e?So:"object"==(void 0===e?"undefined":mu(e))?ha(e)?pt(e[0],e[1]):ft(e):To(e)}function st(e){if(!Kr(e))return W(e);var t=[];for(var r in E(e))_.call(e,r)&&"constructor"!=r&&t.push(r);return t}function ct(e,t){return e<t}function dt(e,n){var a=-1,o=va(e)?S(e.length):[];return Me(e,function(e,t,r){o[++a]=n(e,t,r)}),o}function ft(t){var r=Vr(t);return 1==r.length&&r[0][2]?$r(r[0][0],r[0][1]):function(e){return e===t||lt(e,t,r)}}function pt(r,n){return Gr(r)&&Hr(n)?$r(ln(r),n):function(e){var t=Qa(e,r);return t===Qo&&t===n?Ya(e,r):ot(n,t,3)}}function ht(n,a,o,l,i){n!==a&&We(a,function(e,t){if(_a(e))i=i||new _e,function(e,t,r,n,a,o,l){var i=e[r],u=t[r],s=l.get(u);if(s)return xe(e,r,s);var c=o?o(i,u,r+"",e,t,l):Qo,d=c===Qo;if(d){var f=ha(u),p=!f&&ya(u),h=!f&&!p&&Va(u);c=u,f||p||h?c=ha(i)?i:ga(i)?Zt(i):p?Kt(u,!(d=!1)):h?$t(u,!(d=!1)):[]:Sa(u)||pa(u)?pa(c=i)?c=Ba(i):(!_a(i)||n&&Ca(i))&&(c=Mr(u)):d=!1}d&&(l.set(u,c),a(c,u,n,o,l),l.delete(u)),xe(e,r,c)}(n,a,t,o,ht,l,i);else{var r=l?l(n[t],e,t+"",n,a,i):Qo;r===Qo&&(r=e),xe(n,t,r)}},ro)}function mt(e,t){var r=e.length;if(r)return Br(t+=t<0?r:0,r)?e[t]:Qo}function vt(e,n,r){var a=-1;return n=Ti(n.length?n:[So],Zi(Ir())),function(e){var t=e.length;for(e.sort(function(e,t){return function(e,t,r){var n=-1,a=e.criteria,o=t.criteria,l=a.length,i=r.length;for(;++n<l;){var u=Jt(a[n],o[n]);if(u){if(i<=n)return u;var s=r[n];return u*("desc"==s?-1:1)}}return e.index-t.index}(e,t,r)});t--;)e[t]=e[t].value;return e}(dt(e,function(t,e,r){return{criteria:Ti(n,function(e){return e(t)}),index:++a,value:t}}))}function gt(e,t,r){for(var n=-1,a=t.length,o={};++n<a;){var l=t[n],i=Qe(e,l);r(i,l)&&Et(o,Ut(l,e),i)}return o}function yt(e,t,r,n){var a=n?Wi:qi,o=-1,l=t.length,i=e;for(e===t&&(t=Zt(t)),r&&(i=Ti(e,Zi(r)));++o<l;)for(var u=0,s=t[o],c=r?r(s):s;-1<(u=a(i,c,u,n));)i!==e&&I.call(i,u,1),I.call(e,u,1);return e}function bt(e,t){for(var r=e?t.length:0,n=r-1;r--;){var a=t[r];if(r==n||a!==o){var o=a;Br(a)?I.call(e,a,1):jt(e,a)}}return e}function wt(e,t){return e+z(Q()*(t-e+1))}function Ct(e,t){var r="";if(!e||t<1||el<t)return r;for(;t%2&&(r+=e),(t=z(t/2))&&(e+=e),t;);return r}function kt(e,t){return Xr(Jr(e,t,So),e+"")}function Et(e,t,r,n){if(!_a(e))return e;for(var a=-1,o=(t=Ut(t,e)).length,l=o-1,i=e;null!=i&&++a<o;){var u=ln(t[a]),s=r;if(a!=l){var c=i[u];(s=n?n(c,u,i):Qo)===Qo&&(s=_a(c)?c:Br(t[a+1])?[]:{})}Se(i,u,s),i=i[u]}return e}var _t=ae?function(e,t){return ae.set(e,t),e}:So,Ft=N?function(e,t){return N(e,"toString",{configurable:!0,enumerable:!1,value:Fo(t),writable:!0})}:So;function Ot(e,t,r){var n=-1,a=e.length;t<0&&(t=a<-t?0:a+t),(r=a<r?a:r)<0&&(r+=a),a=r<t?0:r-t>>>0,t>>>=0;for(var o=S(a);++n<a;)o[n]=e[n+t];return o}function xt(e,n){var a;return Me(e,function(e,t,r){return!(a=n(e,t,r))}),!!a}function St(e,t,r){var n=0,a=null==e?n:e.length;if("number"==typeof t&&t==t&&a<=2147483647){for(;n<a;){var o=n+a>>>1,l=e[o];null!==l&&!Aa(l)&&(r?l<=t:l<t)?n=1+o:a=o}return a}return Lt(e,t,So,r)}function Lt(e,t,r,n){t=r(t);for(var a=0,o=null==e?0:e.length,l=t!=t,i=null===t,u=Aa(t),s=t===Qo;a<o;){var c=z((a+o)/2),d=r(e[c]),f=d!==Qo,p=null===d,h=d==d,m=Aa(d);if(l)var v=n||h;else v=s?h&&(n||f):i?h&&f&&(n||!p):u?h&&f&&!p&&(n||!m):!p&&!m&&(n?d<=t:d<t);v?a=c+1:o=c}return H(o,4294967294)}function Dt(e,t){for(var r=-1,n=e.length,a=0,o=[];++r<n;){var l=e[r],i=t?t(l):l;if(!r||!ca(i,u)){var u=i;o[a++]=0===l?0:l}}return o}function It(e){return"number"==typeof e?e:Aa(e)?NaN:+e}function At(e){if("string"==typeof e)return e;if(ha(e))return Ti(e,At)+"";if(Aa(e))return pe?pe.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Vt(e,t,r){var n=-1,a=Ni,o=e.length,l=!0,i=[],u=i;if(r)l=!1,a=Pi;else if(200<=o){var s=t?null:yr(e);if(s)return cu(s);l=!1,a=eu,u=new Ee}else u=t?[]:i;e:for(;++n<o;){var c=e[n],d=t?t(c):c;if(c=r||0!==c?c:0,l&&d==d){for(var f=u.length;f--;)if(u[f]===d)continue e;t&&u.push(d),i.push(c)}else a(u,d,r)||(u!==i&&u.push(d),i.push(c))}return i}function jt(e,t){return null==(e=Qr(e,t=Ut(t,e)))||delete e[ln(wn(t))]}function Nt(e,t,r,n){return Et(e,t,r(Qe(e,t)),n)}function Pt(e,t,r,n){for(var a=e.length,o=n?a:-1;(n?o--:++o<a)&&t(e[o],o,e););return r?Ot(e,n?0:o,n?o+1:a):Ot(e,n?o+1:0,n?a:o)}function Tt(e,t){var r=e;return r instanceof be&&(r=r.value()),Mi(t,function(e,t){return t.func.apply(t.thisArg,Ri([e],t.args))},r)}function Rt(e,t,r){var n=e.length;if(n<2)return n?Vt(e[0]):[];for(var a=-1,o=S(n);++a<n;)for(var l=e[a],i=-1;++i<n;)i!=a&&(o[a]=Re(o[a]||l,e[i],t,r));return Vt(qe(o,1),t,r)}function Mt(e,t,r){for(var n=-1,a=e.length,o=t.length,l={};++n<a;){var i=n<o?t[n]:Qo;r(l,e[n],i)}return l}function zt(e){return ga(e)?e:[]}function Bt(e){return"function"==typeof e?e:So}function Ut(e,t){return ha(e)?e:Gr(e,t)?[e]:on(Ua(e))}var Gt=kt;function qt(e,t,r){var n=e.length;return r=r===Qo?n:r,!t&&n<=r?e:Ot(e,t,r)}var Wt=P||function(e){return wi.clearTimeout(e)};function Kt(e,t){if(t)return e.slice();var r=e.length,n=F?F(r):new e.constructor(r);return e.copy(n),n}function Ht(e){var t=new e.constructor(e.byteLength);return new k(t).set(new k(e)),t}function $t(e,t){var r=t?Ht(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Jt(e,t){if(e!==t){var r=e!==Qo,n=null===e,a=e==e,o=Aa(e),l=t!==Qo,i=null===t,u=t==t,s=Aa(t);if(!i&&!s&&!o&&t<e||o&&l&&u&&!i&&!s||n&&l&&u||!r&&u||!a)return 1;if(!n&&!o&&!s&&e<t||s&&r&&a&&!n&&!o||i&&r&&a||!l&&a||!u)return-1}return 0}function Qt(e,t,r,n){for(var a=-1,o=e.length,l=r.length,i=-1,u=t.length,s=K(o-l,0),c=S(u+s),d=!n;++i<u;)c[i]=t[i];for(;++a<l;)(d||a<o)&&(c[r[a]]=e[a]);for(;s--;)c[i++]=e[a++];return c}function Yt(e,t,r,n){for(var a=-1,o=e.length,l=-1,i=r.length,u=-1,s=t.length,c=K(o-i,0),d=S(c+s),f=!n;++a<c;)d[a]=e[a];for(var p=a;++u<s;)d[p+u]=t[u];for(;++l<i;)(f||a<o)&&(d[p+r[l]]=e[a++]);return d}function Zt(e,t){var r=-1,n=e.length;for(t=t||S(n);++r<n;)t[r]=e[r];return t}function Xt(e,t,r,n){var a=!r;r=r||{};for(var o=-1,l=t.length;++o<l;){var i=t[o],u=n?n(r[i],e[i],i,r,e):Qo;u===Qo&&(u=e[i]),a?Ae(r,i,u):Se(r,i,u)}return r}function er(a,o){return function(e,t){var r=ha(e)?Ii:De,n=o?o():{};return r(e,a,Ir(t,2),n)}}function tr(i){return kt(function(e,t){var r=-1,n=t.length,a=1<n?t[n-1]:Qo,o=2<n?t[2]:Qo;for(a=3<i.length&&"function"==typeof a?(n--,a):Qo,o&&Ur(t[0],t[1],o)&&(a=n<3?Qo:a,n=1),e=E(e);++r<n;){var l=t[r];l&&i(e,l,r,a)}return e})}function rr(o,l){return function(e,t){if(null==e)return e;if(!va(e))return o(e,t);for(var r=e.length,n=l?r:-1,a=E(e);(l?n--:++n<r)&&!1!==t(a[n],n,a););return e}}function nr(u){return function(e,t,r){for(var n=-1,a=E(e),o=r(e),l=o.length;l--;){var i=o[u?l:++n];if(!1===t(a[i],i,a))break}return e}}function ar(a){return function(e){var t=lu(e=Ua(e))?fu(e):Qo,r=t?t[0]:e.charAt(0),n=t?qt(t,1).join(""):e.slice(1);return r[a]()+n}}function or(t){return function(e){return Mi(ko(ho(e).replace(ci,"")),t,"")}}function lr(n){return function(){var e=arguments;switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3]);case 5:return new n(e[0],e[1],e[2],e[3],e[4]);case 6:return new n(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new n(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=me(n.prototype),r=n.apply(t,e);return _a(r)?r:t}}function ir(l){return function(e,t,r){var n=E(e);if(!va(e)){var a=Ir(t,3);e=to(e),t=function(e){return a(n[e],e,n)}}var o=l(e,t,r);return-1<o?n[a?e[o]:o]:Qo}}function ur(u){return Fr(function(a){var o=a.length,e=o,t=ye.prototype.thru;for(u&&a.reverse();e--;){var r=a[e];if("function"!=typeof r)throw new L(Yo);if(t&&!l&&"wrapper"==Lr(r))var l=new ye([],!0)}for(e=l?e:o;++e<o;){var n=Lr(r=a[e]),i="wrapper"==n?Sr(r):Qo;l=i&&qr(i[0])&&424==i[1]&&!i[4].length&&1==i[9]?l[Lr(i[0])].apply(l,i[3]):1==r.length&&qr(r)?l[n]():l.thru(r)}return function(){var e=arguments,t=e[0];if(l&&1==e.length&&ha(t))return l.plant(t).value();for(var r=0,n=o?a[r].apply(this,e):t;++r<o;)n=a[r].call(this,n);return n}})}function sr(s,c,d,f,p,h,m,v,g,y){var b=128&c,w=1&c,C=2&c,k=24&c,E=512&c,_=C?Qo:lr(s);return function e(){for(var t=arguments.length,r=S(t),n=t;n--;)r[n]=arguments[n];if(k)var a=Dr(e),o=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(r,a);if(f&&(r=Qt(r,f,p,k)),h&&(r=Yt(r,h,m,k)),t-=o,k&&t<y){var l=su(r,a);return vr(s,c,sr,e.placeholder,d,r,l,v,g,y-t)}var i=w?d:this,u=C?i[s]:s;return t=r.length,v?r=function(e,t){for(var r=e.length,n=H(t.length,r),a=Zt(e);n--;){var o=t[n];e[n]=Br(o,r)?a[o]:Qo}return e}(r,v):E&&1<t&&r.reverse(),b&&g<t&&(r.length=g),this&&this!==wi&&this instanceof e&&(u=_||lr(u)),u.apply(i,r)}}function cr(l,i){return function(e,t){return r=e,n=l,a=i(t),o={},He(r,function(e,t,r){n(o,a(e),t,r)}),o;var r,n,a,o}}function dr(n,a){return function(e,t){var r;if(e===Qo&&t===Qo)return a;if(e!==Qo&&(r=e),t!==Qo){if(r===Qo)return t;t="string"==typeof e||"string"==typeof t?(e=At(e),At(t)):(e=It(e),It(t)),r=n(e,t)}return r}}function fr(n){return Fr(function(e){return e=Ti(e,Zi(Ir())),kt(function(t){var r=this;return n(e,function(e){return Di(e,r,t)})})})}function pr(e,t){var r=(t=t===Qo?" ":At(t)).length;if(r<2)return r?Ct(t,e):t;var n=Ct(t,M(e/du(t)));return lu(t)?qt(fu(n),0,e).join(""):n.slice(0,e)}function hr(n){return function(e,t,r){return r&&"number"!=typeof r&&Ur(e,t,r)&&(t=r=Qo),e=Ta(e),t===Qo?(t=e,e=0):t=Ta(t),function(e,t,r,n){for(var a=-1,o=K(M((t-e)/(r||1)),0),l=S(o);o--;)l[n?o:++a]=e,e+=r;return l}(e,t,r=r===Qo?e<t?1:-1:Ta(r),n)}}function mr(r){return function(e,t){return"string"==typeof e&&"string"==typeof t||(e=za(e),t=za(t)),r(e,t)}}function vr(e,t,r,n,a,o,l,i,u,s){var c=8&t;t|=c?32:64,4&(t&=~(c?64:32))||(t&=-4);var d=[e,t,a,c?o:Qo,c?l:Qo,c?Qo:o,c?Qo:l,i,u,s],f=r.apply(Qo,d);return qr(e)&&Yr(f,d),f.placeholder=n,en(f,e,t)}function gr(e){var n=o[e];return function(e,t){if(e=za(e),t=null==t?0:H(Ra(t),292)){var r=(Ua(e)+"e").split("e");return+((r=(Ua(n(r[0]+"e"+(+r[1]+t)))+"e").split("e"))[0]+"e"+(+r[1]-t))}return n(e)}}var yr=te&&1/cu(new te([,-0]))[1]==1/0?function(e){return new te(e)}:Vo;function br(l){return function(e){var t,r,n,a,o=Tr(e);return o==cl?iu(e):o==ml?(r=e,n=-1,a=Array(r.size),r.forEach(function(e){a[++n]=[e,e]}),a):Ti(l(t=e),function(e){return[e,t[e]]})}}function wr(e,t,r,n,a,o,l,i){var u=2&t;if(!u&&"function"!=typeof e)throw new L(Yo);var s=n?n.length:0;if(s||(t&=-97,n=a=Qo),l=l===Qo?l:K(Ra(l),0),i=i===Qo?i:Ra(i),s-=a?a.length:0,64&t){var c=n,d=a;n=a=Qo}var f,p,h,m,v,g,y,b,w,C,k,E,_,F=u?Qo:Sr(e),O=[e,t,r,n,a,c,d,o,l,i];if(F&&function(e,t){var r=e[1],n=t[1],a=r|n,o=a<131,l=128==n&&8==r||128==n&&256==r&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(o||l){1&n&&(e[2]=t[2],a|=1&r?0:4);var i=t[3];if(i){var u=e[3];e[3]=u?Qt(u,i,t[4]):i,e[4]=u?su(e[3],Xo):t[4]}(i=t[5])&&(u=e[5],e[5]=u?Yt(u,i,t[6]):i,e[6]=u?su(e[5],Xo):t[6]),(i=t[7])&&(e[7]=i),128&n&&(e[8]=null==e[8]?t[8]:H(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=a}}(O,F),e=O[0],t=O[1],r=O[2],n=O[3],a=O[4],!(i=O[9]=O[9]===Qo?u?0:e.length:K(O[9]-s,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||16==t?(k=t,E=i,_=lr(C=e),function e(){for(var t=arguments.length,r=S(t),n=t,a=Dr(e);n--;)r[n]=arguments[n];var o=t<3&&r[0]!==a&&r[t-1]!==a?[]:su(r,a);return(t-=o.length)<E?vr(C,k,sr,e.placeholder,Qo,r,o,Qo,Qo,E-t):Di(this&&this!==wi&&this instanceof e?_:C,this,r)}):32!=t&&33!=t||a.length?sr.apply(Qo,O):(g=r,y=n,b=1&t,w=lr(v=e),function e(){for(var t=-1,r=arguments.length,n=-1,a=y.length,o=S(a+r),l=this&&this!==wi&&this instanceof e?w:v;++n<a;)o[n]=y[n];for(;r--;)o[n++]=arguments[++t];return Di(l,b?g:this,o)});else var x=(p=r,h=1&t,m=lr(f=e),function e(){return(this&&this!==wi&&this instanceof e?m:f).apply(h?p:this,arguments)});return en((F?_t:Yr)(x,O),e,t)}function Cr(e,t,r,n){return e===Qo||ca(e,u[r])&&!_.call(n,r)?t:e}function kr(e,t,r,n,a,o){return _a(e)&&_a(t)&&(o.set(t,e),ht(e,t,Qo,kr,o),o.delete(t)),e}function Er(e){return Sa(e)?Qo:e}function _r(e,t,r,n,a,o){var l=1&r,i=e.length,u=t.length;if(i!=u&&!(l&&i<u))return!1;var s=o.get(e);if(s&&o.get(t))return s==t;var c=-1,d=!0,f=2&r?new Ee:Qo;for(o.set(e,t),o.set(t,e);++c<i;){var p=e[c],h=t[c];if(n)var m=l?n(h,p,c,t,e,o):n(p,h,c,e,t,o);if(m!==Qo){if(m)continue;d=!1;break}if(f){if(!Bi(t,function(e,t){if(!eu(f,t)&&(p===e||a(p,e,r,n,o)))return f.push(t)})){d=!1;break}}else if(p!==h&&!a(p,h,r,n,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function Fr(e){return Xr(Jr(e,Qo,mn),e+"")}function Or(e){return Ye(e,to,Nr)}function xr(e){return Ye(e,ro,Pr)}var Sr=ae?function(e){return ae.get(e)}:Vo;function Lr(e){for(var t=e.name+"",r=oe[t],n=_.call(oe,t)?r.length:0;n--;){var a=r[n],o=a.func;if(null==o||o==e)return a.name}return t}function Dr(e){return(_.call(he,"placeholder")?he:e).placeholder}function Ir(){var e=he.iteratee||Lo;return e=e===Lo?ut:e,arguments.length?e(arguments[0],arguments[1]):e}function Ar(e,t){var r,n,a=e.__data__;return("string"==(n=void 0===(r=t)?"undefined":mu(r))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?a["string"==typeof t?"string":"hash"]:a.map}function Vr(e){for(var t=to(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Hr(a)]}return t}function jr(e,t){var r=null==e?Qo:e[t];return it(r)?r:Qo}var Nr=B?function(t){return null==t?[]:(t=E(t),ji(B(t),function(e){return D.call(t,e)}))}:zo,Pr=B?function(e){for(var t=[];e;)Ri(t,Nr(e)),e=O(e);return t}:zo,Tr=Ze;function Rr(e,t,r){for(var n=-1,a=(t=Ut(t,e)).length,o=!1;++n<a;){var l=ln(t[n]);if(!(o=null!=e&&r(e,l)))break;e=e[l]}return o||++n!=a?o:!!(a=null==e?0:e.length)&&Ea(a)&&Br(l,a)&&(ha(e)||pa(e))}function Mr(e){return"function"!=typeof e.constructor||Kr(e)?{}:me(O(e))}function zr(e){return ha(e)||pa(e)||!!(A&&e&&e[A])}function Br(e,t){return!!(t=null==t?el:t)&&("number"==typeof e||li.test(e))&&-1<e&&e%1==0&&e<t}function Ur(e,t,r){if(!_a(r))return!1;var n=void 0===t?"undefined":mu(t);return!!("number"==n?va(r)&&Br(t,r.length):"string"==n&&t in r)&&ca(r[t],e)}function Gr(e,t){if(ha(e))return!1;var r=void 0===e?"undefined":mu(e);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Aa(e))||Bl.test(e)||!zl.test(e)||null!=t&&e in E(t)}function qr(e){var t=Lr(e),r=he[t];if("function"!=typeof r||!(t in be.prototype))return!1;if(e===r)return!0;var n=Sr(r);return!!n&&e===n[0]}(Z&&Tr(new Z(new ArrayBuffer(1)))!=wl||X&&Tr(new X)!=cl||ee&&Tr(ee.resolve())!=pl||te&&Tr(new te)!=ml||re&&Tr(new re)!=yl)&&(Tr=function(e){var t=Ze(e),r=t==fl?e.constructor:Qo,n=r?un(r):"";if(n)switch(n){case le:return wl;case ie:return cl;case ue:return pl;case se:return ml;case ce:return yl}return t});var Wr=s?Ca:Bo;function Kr(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||u)}function Hr(e){return e==e&&!_a(e)}function $r(t,r){return function(e){return null!=e&&e[t]===r&&(r!==Qo||t in E(e))}}function Jr(o,l,i){return l=K(l===Qo?o.length-1:l,0),function(){for(var e=arguments,t=-1,r=K(e.length-l,0),n=S(r);++t<r;)n[t]=e[l+t];t=-1;for(var a=S(l+1);++t<l;)a[t]=e[t];return a[l]=i(n),Di(o,this,a)}}function Qr(e,t){return t.length<2?e:Qe(e,Ot(t,0,-1))}var Yr=tn(_t),Zr=R||function(e,t){return wi.setTimeout(e,t)},Xr=tn(Ft);function en(e,t,r){var n,a,o,l=t+"";return Xr(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(1<r?"& ":"")+t[n],t=t.join(2<r?", ":" "),e.replace(Jl,"{\n/* [wrapped with "+t+"] */\n")}(l,(o=l.match(Ql),n=o?o[1].split(Yl):[],a=r,Ai(rl,function(e){var t="_."+e[0];a&e[1]&&!Ni(n,t)&&n.push(t)}),n.sort())))}function tn(r){var n=0,a=0;return function(){var e=$(),t=16-(e-a);if(a=e,0<t){if(800<=++n)return arguments[0]}else n=0;return r.apply(Qo,arguments)}}function rn(e,t){var r=-1,n=e.length,a=n-1;for(t=t===Qo?n:t;++r<t;){var o=wt(r,a),l=e[o];e[o]=e[r],e[r]=l}return e.length=t,e}var nn,an,on=(an=(nn=aa(function(e){var a=[];return Ul.test(e)&&a.push(""),e.replace(Gl,function(e,t,r,n){a.push(r?n.replace(Xl,"$1"):t||e)}),a},function(e){return 500===an.size&&an.clear(),e})).cache,nn);function ln(e){if("string"==typeof e||Aa(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function un(e){if(null!=e){try{return d.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function sn(e){if(e instanceof be)return e.clone();var t=new ye(e.__wrapped__,e.__chain__);return t.__actions__=Zt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var cn=kt(function(e,t){return ga(e)?Re(e,qe(t,1,ga,!0)):[]}),dn=kt(function(e,t){var r=wn(t);return ga(r)&&(r=Qo),ga(e)?Re(e,qe(t,1,ga,!0),Ir(r,2)):[]}),fn=kt(function(e,t){var r=wn(t);return ga(r)&&(r=Qo),ga(e)?Re(e,qe(t,1,ga,!0),Qo,r):[]});function pn(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=null==r?0:Ra(r);return a<0&&(a=K(n+a,0)),Gi(e,Ir(t,3),a)}function hn(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=n-1;return r!==Qo&&(a=Ra(r),a=r<0?K(n+a,0):H(a,n-1)),Gi(e,Ir(t,3),a,!0)}function mn(e){return null!=e&&e.length?qe(e,1):[]}function vn(e){return e&&e.length?e[0]:Qo}var gn=kt(function(e){var t=Ti(e,zt);return t.length&&t[0]===e[0]?rt(t):[]}),yn=kt(function(e){var t=wn(e),r=Ti(e,zt);return t===wn(r)?t=Qo:r.pop(),r.length&&r[0]===e[0]?rt(r,Ir(t,2)):[]}),bn=kt(function(e){var t=wn(e),r=Ti(e,zt);return(t="function"==typeof t?t:Qo)&&r.pop(),r.length&&r[0]===e[0]?rt(r,Qo,t):[]});function wn(e){var t=null==e?0:e.length;return t?e[t-1]:Qo}var Cn=kt(kn);function kn(e,t){return e&&e.length&&t&&t.length?yt(e,t):e}var En=Fr(function(e,t){var r=null==e?0:e.length,n=Ve(e,t);return bt(e,Ti(t,function(e){return Br(e,r)?+e:e}).sort(Jt)),n});function _n(e){return null==e?e:Y.call(e)}var Fn=kt(function(e){return Vt(qe(e,1,ga,!0))}),On=kt(function(e){var t=wn(e);return ga(t)&&(t=Qo),Vt(qe(e,1,ga,!0),Ir(t,2))}),xn=kt(function(e){var t=wn(e);return t="function"==typeof t?t:Qo,Vt(qe(e,1,ga,!0),Qo,t)});function Sn(t){if(!t||!t.length)return[];var r=0;return t=ji(t,function(e){if(ga(e))return r=K(e.length,r),!0}),Yi(r,function(e){return Ti(t,$i(e))})}function Ln(e,t){if(!e||!e.length)return[];var r=Sn(e);return null==t?r:Ti(r,function(e){return Di(t,Qo,e)})}var Dn=kt(function(e,t){return ga(e)?Re(e,t):[]}),In=kt(function(e){return Rt(ji(e,ga))}),An=kt(function(e){var t=wn(e);return ga(t)&&(t=Qo),Rt(ji(e,ga),Ir(t,2))}),Vn=kt(function(e){var t=wn(e);return t="function"==typeof t?t:Qo,Rt(ji(e,ga),Qo,t)}),jn=kt(Sn),Nn=kt(function(e){var t=e.length,r=1<t?e[t-1]:Qo;return r="function"==typeof r?(e.pop(),r):Qo,Ln(e,r)});function Pn(e){var t=he(e);return t.__chain__=!0,t}function Tn(e,t){return t(e)}var Rn=Fr(function(t){function e(e){return Ve(e,t)}var r=t.length,n=r?t[0]:0,a=this.__wrapped__;return!(1<r||this.__actions__.length)&&a instanceof be&&Br(n)?((a=a.slice(n,+n+(r?1:0))).__actions__.push({func:Tn,args:[e],thisArg:Qo}),new ye(a,this.__chain__).thru(function(e){return r&&!e.length&&e.push(Qo),e})):this.thru(e)}),Mn=er(function(e,t,r){_.call(e,r)?++e[r]:Ae(e,r,1)}),zn=ir(pn),Bn=ir(hn);function Un(e,t){return(ha(e)?Ai:Me)(e,Ir(t,3))}function Gn(e,t){return(ha(e)?function(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}:ze)(e,Ir(t,3))}var qn=er(function(e,t,r){_.call(e,r)?e[r].push(t):Ae(e,r,[t])}),Wn=kt(function(e,t,r){var n=-1,a="function"==typeof t,o=va(e)?S(e.length):[];return Me(e,function(e){o[++n]=a?Di(t,e,r):nt(e,t,r)}),o}),Kn=er(function(e,t,r){Ae(e,r,t)});function Hn(e,t){return(ha(e)?Ti:dt)(e,Ir(t,3))}var $n=er(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]}),Jn=kt(function(e,t){if(null==e)return[];var r=t.length;return 1<r&&Ur(e,t[0],t[1])?t=[]:2<r&&Ur(t[0],t[1],t[2])&&(t=[t[0]]),vt(e,qe(t,1),[])}),Qn=T||function(){return wi.Date.now()};function Yn(e,t,r){return t=r?Qo:t,t=e&&null==t?e.length:t,wr(e,128,Qo,Qo,Qo,Qo,t)}function Zn(e,t){var r;if("function"!=typeof t)throw new L(Yo);return e=Ra(e),function(){return 0<--e&&(r=t.apply(this,arguments)),e<=1&&(t=Qo),r}}var Xn=kt(function(e,t,r){var n=1;if(r.length){var a=su(r,Dr(Xn));n|=32}return wr(e,n,t,r,a)}),ea=kt(function(e,t,r){var n=3;if(r.length){var a=su(r,Dr(ea));n|=32}return wr(t,n,e,r,a)});function ta(n,a,e){var o,l,r,i,u,s,c=0,d=!1,f=!1,t=!0;if("function"!=typeof n)throw new L(Yo);function p(e){var t=o,r=l;return o=l=Qo,c=e,i=n.apply(r,t)}function h(e){var t=e-s;return s===Qo||a<=t||t<0||f&&r<=e-c}function m(){var e,t=Qn();if(h(t))return v(t);u=Zr(m,(e=a-(t-s),f?H(e,r-(t-c)):e))}function v(e){return u=Qo,t&&o?p(e):(o=l=Qo,i)}function g(){var e,t=Qn(),r=h(t);if(o=arguments,l=this,s=t,r){if(u===Qo)return c=e=s,u=Zr(m,a),d?p(e):i;if(f)return u=Zr(m,a),p(s)}return u===Qo&&(u=Zr(m,a)),i}return a=za(a)||0,_a(e)&&(d=!!e.leading,r=(f="maxWait"in e)?K(za(e.maxWait)||0,a):r,t="trailing"in e?!!e.trailing:t),g.cancel=function(){u!==Qo&&Wt(u),c=0,o=s=l=u=Qo},g.flush=function(){return u===Qo?i:v(Qn())},g}var ra=kt(function(e,t){return Te(e,1,t)}),na=kt(function(e,t,r){return Te(e,za(t)||0,r)});function aa(a,o){if("function"!=typeof a||null!=o&&"function"!=typeof o)throw new L(Yo);function l(){var e=arguments,t=o?o.apply(this,e):e[0],r=l.cache;if(r.has(t))return r.get(t);var n=a.apply(this,e);return l.cache=r.set(t,n)||r,n}return l.cache=new(aa.Cache||ke),l}function oa(t){if("function"!=typeof t)throw new L(Yo);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}aa.Cache=ke;var la=Gt(function(n,a){var o=(a=1==a.length&&ha(a[0])?Ti(a[0],Zi(Ir())):Ti(qe(a,1),Zi(Ir()))).length;return kt(function(e){for(var t=-1,r=H(e.length,o);++t<r;)e[t]=a[t].call(this,e[t]);return Di(n,this,e)})}),ia=kt(function(e,t){var r=su(t,Dr(ia));return wr(e,32,Qo,t,r)}),ua=kt(function(e,t){var r=su(t,Dr(ua));return wr(e,64,Qo,t,r)}),sa=Fr(function(e,t){return wr(e,256,Qo,Qo,Qo,t)});function ca(e,t){return e===t||e!=e&&t!=t}var da=mr(Xe),fa=mr(function(e,t){return t<=e}),pa=at(function(){return arguments}())?at:function(e){return Fa(e)&&_.call(e,"callee")&&!D.call(e,"callee")},ha=S.isArray,ma=ki?Zi(ki):function(e){return Fa(e)&&Ze(e)==bl};function va(e){return null!=e&&Ea(e.length)&&!Ca(e)}function ga(e){return Fa(e)&&va(e)}var ya=U||Bo,ba=Ei?Zi(Ei):function(e){return Fa(e)&&Ze(e)==ll};function wa(e){if(!Fa(e))return!1;var t=Ze(e);return t==il||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Sa(e)}function Ca(e){if(!_a(e))return!1;var t=Ze(e);return t==ul||t==sl||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ka(e){return"number"==typeof e&&e==Ra(e)}function Ea(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=el}function _a(e){var t=void 0===e?"undefined":mu(e);return null!=e&&("object"==t||"function"==t)}function Fa(e){return null!=e&&"object"==(void 0===e?"undefined":mu(e))}var Oa=_i?Zi(_i):function(e){return Fa(e)&&Tr(e)==cl};function xa(e){return"number"==typeof e||Fa(e)&&Ze(e)==dl}function Sa(e){if(!Fa(e)||Ze(e)!=fl)return!1;var t=O(e);if(null===t)return!0;var r=_.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&d.call(r)==m}var La=Fi?Zi(Fi):function(e){return Fa(e)&&Ze(e)==hl},Da=Oi?Zi(Oi):function(e){return Fa(e)&&Tr(e)==ml};function Ia(e){return"string"==typeof e||!ha(e)&&Fa(e)&&Ze(e)==vl}function Aa(e){return"symbol"==(void 0===e?"undefined":mu(e))||Fa(e)&&Ze(e)==gl}var Va=xi?Zi(xi):function(e){return Fa(e)&&Ea(e.length)&&!!vi[Ze(e)]},ja=mr(ct),Na=mr(function(e,t){return e<=t});function Pa(e){if(!e)return[];if(va(e))return Ia(e)?fu(e):Zt(e);if(V&&e[V])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[V]());var t=Tr(e);return(t==cl?iu:t==ml?cu:co)(e)}function Ta(e){return e?(e=za(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0}function Ra(e){var t=Ta(e),r=t%1;return t==t?r?t-r:t:0}function Ma(e){return e?je(Ra(e),0,tl):0}function za(e){if("number"==typeof e)return e;if(Aa(e))return NaN;if(_a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=_a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Kl,"");var r=ni.test(e);return r||oi.test(e)?bi(e.slice(2),r?2:8):ri.test(e)?NaN:+e}function Ba(e){return Xt(e,ro(e))}function Ua(e){return null==e?"":At(e)}var Ga=tr(function(e,t){if(Kr(t)||va(t))Xt(t,to(t),e);else for(var r in t)_.call(t,r)&&Se(e,r,t[r])}),qa=tr(function(e,t){Xt(t,ro(t),e)}),Wa=tr(function(e,t,r,n){Xt(t,ro(t),e,n)}),Ka=tr(function(e,t,r,n){Xt(t,to(t),e,n)}),Ha=Fr(Ve),$a=kt(function(e){return e.push(Qo,Cr),Di(Wa,Qo,e)}),Ja=kt(function(e){return e.push(Qo,kr),Di(ao,Qo,e)});function Qa(e,t,r){var n=null==e?Qo:Qe(e,t);return n===Qo?r:n}function Ya(e,t){return null!=e&&Rr(e,t,tt)}var Za=cr(function(e,t,r){e[t]=r},Fo(So)),Xa=cr(function(e,t,r){_.call(e,t)?e[t].push(r):e[t]=[r]},Ir),eo=kt(nt);function to(e){return va(e)?Fe(e):st(e)}function ro(e){return va(e)?Fe(e,!0):function(e){if(!_a(e))return function(e){var t=[];if(null!=e)for(var r in E(e))t.push(r);return t}(e);var t=Kr(e),r=[];for(var n in e)("constructor"!=n||!t&&_.call(e,n))&&r.push(n);return r}(e)}var no=tr(function(e,t,r){ht(e,t,r)}),ao=tr(function(e,t,r,n){ht(e,t,r,n)}),oo=Fr(function(t,e){var r={};if(null==t)return r;var n=!1;e=Ti(e,function(e){return e=Ut(e,t),n=n||1<e.length,e}),Xt(t,xr(t),r),n&&(r=Ne(r,7,Er));for(var a=e.length;a--;)jt(r,e[a]);return r}),lo=Fr(function(e,t){return null==e?{}:gt(r=e,t,function(e,t){return Ya(r,t)});var r});function io(e,r){if(null==e)return{};var t=Ti(xr(e),function(e){return[e]});return r=Ir(r),gt(e,t,function(e,t){return r(e,t[0])})}var uo=br(to),so=br(ro);function co(e){return null==e?[]:Xi(e,to(e))}var fo=or(function(e,t,r){return t=t.toLowerCase(),e+(r?po(t):t)});function po(e){return Co(Ua(e).toLowerCase())}function ho(e){return(e=Ua(e))&&e.replace(ii,nu).replace(di,"")}var mo=or(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),vo=or(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),go=ar("toLowerCase"),yo=or(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}),bo=or(function(e,t,r){return e+(r?" ":"")+Co(t)}),wo=or(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),Co=ar("toUpperCase");function ko(e,t,r){return e=Ua(e),(t=r?Qo:t)===Qo?(n=e,pi.test(n)?e.match(fi)||[]:e.match(Zl)||[]):e.match(t)||[];var n}var Eo=kt(function(e,t){try{return Di(e,Qo,t)}catch(e){return wa(e)?e:new a(e)}}),_o=Fr(function(t,e){return Ai(e,function(e){e=ln(e),Ae(t,e,Xn(t[e],t))}),t});function Fo(e){return function(){return e}}var Oo=ur(),xo=ur(!0);function So(e){return e}function Lo(e){return ut("function"==typeof e?e:Ne(e,1))}var Do=kt(function(t,r){return function(e){return nt(e,t,r)}}),Io=kt(function(t,r){return function(e){return nt(t,e,r)}});function Ao(n,t,e){var r=to(t),a=Je(t,r);null!=e||_a(t)&&(a.length||!r.length)||(e=t,t=n,n=this,a=Je(t,to(t)));var o=!(_a(e)&&"chain"in e&&!e.chain),l=Ca(n);return Ai(a,function(e){var r=t[e];n[e]=r,l&&(n.prototype[e]=function(){var e=this.__chain__;if(o||e){var t=n(this.__wrapped__);return(t.__actions__=Zt(this.__actions__)).push({func:r,args:arguments,thisArg:n}),t.__chain__=e,t}return r.apply(n,Ri([this.value()],arguments))})}),n}function Vo(){}var jo=fr(Ti),No=fr(Vi),Po=fr(Bi);function To(e){return Gr(e)?$i(ln(e)):(t=e,function(e){return Qe(e,t)});var t}var Ro=hr(),Mo=hr(!0);function zo(){return[]}function Bo(){return!1}var Uo,Go=dr(function(e,t){return e+t},0),qo=gr("ceil"),Wo=dr(function(e,t){return e/t},1),Ko=gr("floor"),Ho=dr(function(e,t){return e*t},1),$o=gr("round"),Jo=dr(function(e,t){return e-t},0);return he.after=function(e,t){if("function"!=typeof t)throw new L(Yo);return e=Ra(e),function(){if(--e<1)return t.apply(this,arguments)}},he.ary=Yn,he.assign=Ga,he.assignIn=qa,he.assignInWith=Wa,he.assignWith=Ka,he.at=Ha,he.before=Zn,he.bind=Xn,he.bindAll=_o,he.bindKey=ea,he.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return ha(e)?e:[e]},he.chain=Pn,he.chunk=function(e,t,r){t=(r?Ur(e,t,r):t===Qo)?1:K(Ra(t),0);var n=null==e?0:e.length;if(!n||t<1)return[];for(var a=0,o=0,l=S(M(n/t));a<n;)l[o++]=Ot(e,a,a+=t);return l},he.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,a=[];++t<r;){var o=e[t];o&&(a[n++]=o)}return a},he.concat=function(){var e=arguments.length;if(!e)return[];for(var t=S(e-1),r=arguments[0],n=e;n--;)t[n-1]=arguments[n];return Ri(ha(r)?Zt(r):[r],qe(t,1))},he.cond=function(n){var a=null==n?0:n.length,t=Ir();return n=a?Ti(n,function(e){if("function"!=typeof e[1])throw new L(Yo);return[t(e[0]),e[1]]}):[],kt(function(e){for(var t=-1;++t<a;){var r=n[t];if(Di(r[0],this,e))return Di(r[1],this,e)}})},he.conforms=function(e){return t=Ne(e,1),r=to(t),function(e){return Pe(e,t,r)};var t,r},he.constant=Fo,he.countBy=Mn,he.create=function(e,t){var r=me(e);return null==t?r:Ie(r,t)},he.curry=function e(t,r,n){var a=wr(t,8,Qo,Qo,Qo,Qo,Qo,r=n?Qo:r);return a.placeholder=e.placeholder,a},he.curryRight=function e(t,r,n){var a=wr(t,16,Qo,Qo,Qo,Qo,Qo,r=n?Qo:r);return a.placeholder=e.placeholder,a},he.debounce=ta,he.defaults=$a,he.defaultsDeep=Ja,he.defer=ra,he.delay=na,he.difference=cn,he.differenceBy=dn,he.differenceWith=fn,he.drop=function(e,t,r){var n=null==e?0:e.length;return n?Ot(e,(t=r||t===Qo?1:Ra(t))<0?0:t,n):[]},he.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?Ot(e,0,(t=n-(t=r||t===Qo?1:Ra(t)))<0?0:t):[]},he.dropRightWhile=function(e,t){return e&&e.length?Pt(e,Ir(t,3),!0,!0):[]},he.dropWhile=function(e,t){return e&&e.length?Pt(e,Ir(t,3),!0):[]},he.fill=function(e,t,r,n){var a=null==e?0:e.length;return a?(r&&"number"!=typeof r&&Ur(e,t,r)&&(r=0,n=a),function(e,t,r,n){var a=e.length;for((r=Ra(r))<0&&(r=a<-r?0:a+r),(n=n===Qo||a<n?a:Ra(n))<0&&(n+=a),n=n<r?0:Ma(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},he.filter=function(e,t){return(ha(e)?ji:Ge)(e,Ir(t,3))},he.flatMap=function(e,t){return qe(Hn(e,t),1)},he.flatMapDeep=function(e,t){return qe(Hn(e,t),1/0)},he.flatMapDepth=function(e,t,r){return r=r===Qo?1:Ra(r),qe(Hn(e,t),r)},he.flatten=mn,he.flattenDeep=function(e){return null!=e&&e.length?qe(e,1/0):[]},he.flattenDepth=function(e,t){return null!=e&&e.length?qe(e,t=t===Qo?1:Ra(t)):[]},he.flip=function(e){return wr(e,512)},he.flow=Oo,he.flowRight=xo,he.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var a=e[t];n[a[0]]=a[1]}return n},he.functions=function(e){return null==e?[]:Je(e,to(e))},he.functionsIn=function(e){return null==e?[]:Je(e,ro(e))},he.groupBy=qn,he.initial=function(e){return null!=e&&e.length?Ot(e,0,-1):[]},he.intersection=gn,he.intersectionBy=yn,he.intersectionWith=bn,he.invert=Za,he.invertBy=Xa,he.invokeMap=Wn,he.iteratee=Lo,he.keyBy=Kn,he.keys=to,he.keysIn=ro,he.map=Hn,he.mapKeys=function(e,n){var a={};return n=Ir(n,3),He(e,function(e,t,r){Ae(a,n(e,t,r),e)}),a},he.mapValues=function(e,n){var a={};return n=Ir(n,3),He(e,function(e,t,r){Ae(a,t,n(e,t,r))}),a},he.matches=function(e){return ft(Ne(e,1))},he.matchesProperty=function(e,t){return pt(e,Ne(t,1))},he.memoize=aa,he.merge=no,he.mergeWith=ao,he.method=Do,he.methodOf=Io,he.mixin=Ao,he.negate=oa,he.nthArg=function(t){return t=Ra(t),kt(function(e){return mt(e,t)})},he.omit=oo,he.omitBy=function(e,t){return io(e,oa(Ir(t)))},he.once=function(e){return Zn(2,e)},he.orderBy=function(e,t,r,n){return null==e?[]:(ha(t)||(t=null==t?[]:[t]),ha(r=n?Qo:r)||(r=null==r?[]:[r]),vt(e,t,r))},he.over=jo,he.overArgs=la,he.overEvery=No,he.overSome=Po,he.partial=ia,he.partialRight=ua,he.partition=$n,he.pick=lo,he.pickBy=io,he.property=To,he.propertyOf=function(t){return function(e){return null==t?Qo:Qe(t,e)}},he.pull=Cn,he.pullAll=kn,he.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?yt(e,t,Ir(r,2)):e},he.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?yt(e,t,Qo,r):e},he.pullAt=En,he.range=Ro,he.rangeRight=Mo,he.rearg=sa,he.reject=function(e,t){return(ha(e)?ji:Ge)(e,oa(Ir(t,3)))},he.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,a=[],o=e.length;for(t=Ir(t,3);++n<o;){var l=e[n];t(l,n,e)&&(r.push(l),a.push(n))}return bt(e,a),r},he.rest=function(e,t){if("function"!=typeof e)throw new L(Yo);return kt(e,t=t===Qo?t:Ra(t))},he.reverse=_n,he.sampleSize=function(e,t,r){return t=(r?Ur(e,t,r):t===Qo)?1:Ra(t),(ha(e)?function(e,t){return rn(Zt(e),je(t,0,e.length))}:function(e,t){var r=co(e);return rn(r,je(t,0,r.length))})(e,t)},he.set=function(e,t,r){return null==e?e:Et(e,t,r)},he.setWith=function(e,t,r,n){return n="function"==typeof n?n:Qo,null==e?e:Et(e,t,r,n)},he.shuffle=function(e){return(ha(e)?function(e){return rn(Zt(e))}:function(e){return rn(co(e))})(e)},he.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r=r&&"number"!=typeof r&&Ur(e,t,r)?(t=0,n):(t=null==t?0:Ra(t),r===Qo?n:Ra(r)),Ot(e,t,r)):[]},he.sortBy=Jn,he.sortedUniq=function(e){return e&&e.length?Dt(e):[]},he.sortedUniqBy=function(e,t){return e&&e.length?Dt(e,Ir(t,2)):[]},he.split=function(e,t,r){return r&&"number"!=typeof r&&Ur(e,t,r)&&(t=r=Qo),(r=r===Qo?tl:r>>>0)?(e=Ua(e))&&("string"==typeof t||null!=t&&!La(t))&&!(t=At(t))&&lu(e)?qt(fu(e),0,r):e.split(t,r):[]},he.spread=function(n,a){if("function"!=typeof n)throw new L(Yo);return a=null==a?0:K(Ra(a),0),kt(function(e){var t=e[a],r=qt(e,0,a);return t&&Ri(r,t),Di(n,this,r)})},he.tail=function(e){var t=null==e?0:e.length;return t?Ot(e,1,t):[]},he.take=function(e,t,r){return e&&e.length?Ot(e,0,(t=r||t===Qo?1:Ra(t))<0?0:t):[]},he.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?Ot(e,(t=n-(t=r||t===Qo?1:Ra(t)))<0?0:t,n):[]},he.takeRightWhile=function(e,t){return e&&e.length?Pt(e,Ir(t,3),!1,!0):[]},he.takeWhile=function(e,t){return e&&e.length?Pt(e,Ir(t,3)):[]},he.tap=function(e,t){return t(e),e},he.throttle=function(e,t,r){var n=!0,a=!0;if("function"!=typeof e)throw new L(Yo);return _a(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),ta(e,t,{leading:n,maxWait:t,trailing:a})},he.thru=Tn,he.toArray=Pa,he.toPairs=uo,he.toPairsIn=so,he.toPath=function(e){return ha(e)?Ti(e,ln):Aa(e)?[e]:Zt(on(Ua(e)))},he.toPlainObject=Ba,he.transform=function(e,n,a){var t=ha(e),r=t||ya(e)||Va(e);if(n=Ir(n,4),null==a){var o=e&&e.constructor;a=r?t?new o:[]:_a(e)&&Ca(o)?me(O(e)):{}}return(r?Ai:He)(e,function(e,t,r){return n(a,e,t,r)}),a},he.unary=function(e){return Yn(e,1)},he.union=Fn,he.unionBy=On,he.unionWith=xn,he.uniq=function(e){return e&&e.length?Vt(e):[]},he.uniqBy=function(e,t){return e&&e.length?Vt(e,Ir(t,2)):[]},he.uniqWith=function(e,t){return t="function"==typeof t?t:Qo,e&&e.length?Vt(e,Qo,t):[]},he.unset=function(e,t){return null==e||jt(e,t)},he.unzip=Sn,he.unzipWith=Ln,he.update=function(e,t,r){return null==e?e:Nt(e,t,Bt(r))},he.updateWith=function(e,t,r,n){return n="function"==typeof n?n:Qo,null==e?e:Nt(e,t,Bt(r),n)},he.values=co,he.valuesIn=function(e){return null==e?[]:Xi(e,ro(e))},he.without=Dn,he.words=ko,he.wrap=function(e,t){return ia(Bt(t),e)},he.xor=In,he.xorBy=An,he.xorWith=Vn,he.zip=jn,he.zipObject=function(e,t){return Mt(e||[],t||[],Se)},he.zipObjectDeep=function(e,t){return Mt(e||[],t||[],Et)},he.zipWith=Nn,he.entries=uo,he.entriesIn=so,he.extend=qa,he.extendWith=Wa,Ao(he,he),he.add=Go,he.attempt=Eo,he.camelCase=fo,he.capitalize=po,he.ceil=qo,he.clamp=function(e,t,r){return r===Qo&&(r=t,t=Qo),r!==Qo&&(r=(r=za(r))==r?r:0),t!==Qo&&(t=(t=za(t))==t?t:0),je(za(e),t,r)},he.clone=function(e){return Ne(e,4)},he.cloneDeep=function(e){return Ne(e,5)},he.cloneDeepWith=function(e,t){return Ne(e,5,t="function"==typeof t?t:Qo)},he.cloneWith=function(e,t){return Ne(e,4,t="function"==typeof t?t:Qo)},he.conformsTo=function(e,t){return null==t||Pe(e,t,to(t))},he.deburr=ho,he.defaultTo=function(e,t){return null==e||e!=e?t:e},he.divide=Wo,he.endsWith=function(e,t,r){e=Ua(e),t=At(t);var n=e.length,a=r=r===Qo?n:je(Ra(r),0,n);return 0<=(r-=t.length)&&e.slice(r,a)==t},he.eq=ca,he.escape=function(e){return(e=Ua(e))&&Pl.test(e)?e.replace(jl,au):e},he.escapeRegExp=function(e){return(e=Ua(e))&&Wl.test(e)?e.replace(ql,"\\$&"):e},he.every=function(e,t,r){var n=ha(e)?Vi:Be;return r&&Ur(e,t,r)&&(t=Qo),n(e,Ir(t,3))},he.find=zn,he.findIndex=pn,he.findKey=function(e,t){return Ui(e,Ir(t,3),He)},he.findLast=Bn,he.findLastIndex=hn,he.findLastKey=function(e,t){return Ui(e,Ir(t,3),$e)},he.floor=Ko,he.forEach=Un,he.forEachRight=Gn,he.forIn=function(e,t){return null==e?e:We(e,Ir(t,3),ro)},he.forInRight=function(e,t){return null==e?e:Ke(e,Ir(t,3),ro)},he.forOwn=function(e,t){return e&&He(e,Ir(t,3))},he.forOwnRight=function(e,t){return e&&$e(e,Ir(t,3))},he.get=Qa,he.gt=da,he.gte=fa,he.has=function(e,t){return null!=e&&Rr(e,t,et)},he.hasIn=Ya,he.head=vn,he.identity=So,he.includes=function(e,t,r,n){e=va(e)?e:co(e),r=r&&!n?Ra(r):0;var a=e.length;return r<0&&(r=K(a+r,0)),Ia(e)?r<=a&&-1<e.indexOf(t,r):!!a&&-1<qi(e,t,r)},he.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=null==r?0:Ra(r);return a<0&&(a=K(n+a,0)),qi(e,t,a)},he.inRange=function(e,t,r){return t=Ta(t),r===Qo?(r=t,t=0):r=Ta(r),(n=e=za(e))>=H(a=t,o=r)&&n<K(a,o);var n,a,o},he.invoke=eo,he.isArguments=pa,he.isArray=ha,he.isArrayBuffer=ma,he.isArrayLike=va,he.isArrayLikeObject=ga,he.isBoolean=function(e){return!0===e||!1===e||Fa(e)&&Ze(e)==ol},he.isBuffer=ya,he.isDate=ba,he.isElement=function(e){return Fa(e)&&1===e.nodeType&&!Sa(e)},he.isEmpty=function(e){if(null==e)return!0;if(va(e)&&(ha(e)||"string"==typeof e||"function"==typeof e.splice||ya(e)||Va(e)||pa(e)))return!e.length;var t=Tr(e);if(t==cl||t==ml)return!e.size;if(Kr(e))return!st(e).length;for(var r in e)if(_.call(e,r))return!1;return!0},he.isEqual=function(e,t){return ot(e,t)},he.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:Qo)?r(e,t):Qo;return n===Qo?ot(e,t,Qo,r):!!n},he.isError=wa,he.isFinite=function(e){return"number"==typeof e&&G(e)},he.isFunction=Ca,he.isInteger=ka,he.isLength=Ea,he.isMap=Oa,he.isMatch=function(e,t){return e===t||lt(e,t,Vr(t))},he.isMatchWith=function(e,t,r){return r="function"==typeof r?r:Qo,lt(e,t,Vr(t),r)},he.isNaN=function(e){return xa(e)&&e!=+e},he.isNative=function(e){if(Wr(e))throw new a("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return it(e)},he.isNil=function(e){return null==e},he.isNull=function(e){return null===e},he.isNumber=xa,he.isObject=_a,he.isObjectLike=Fa,he.isPlainObject=Sa,he.isRegExp=La,he.isSafeInteger=function(e){return ka(e)&&-el<=e&&e<=el},he.isSet=Da,he.isString=Ia,he.isSymbol=Aa,he.isTypedArray=Va,he.isUndefined=function(e){return e===Qo},he.isWeakMap=function(e){return Fa(e)&&Tr(e)==yl},he.isWeakSet=function(e){return Fa(e)&&"[object WeakSet]"==Ze(e)},he.join=function(e,t){return null==e?"":q.call(e,t)},he.kebabCase=mo,he.last=wn,he.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=n;return r!==Qo&&(a=(a=Ra(r))<0?K(n+a,0):H(a,n-1)),t==t?function(e,t){for(var r=a+1;r--;)if(e[r]===t)return r;return r}(e,t):Gi(e,Ki,a,!0)},he.lowerCase=vo,he.lowerFirst=go,he.lt=ja,he.lte=Na,he.max=function(e){return e&&e.length?Ue(e,So,Xe):Qo},he.maxBy=function(e,t){return e&&e.length?Ue(e,Ir(t,2),Xe):Qo},he.mean=function(e){return Hi(e,So)},he.meanBy=function(e,t){return Hi(e,Ir(t,2))},he.min=function(e){return e&&e.length?Ue(e,So,ct):Qo},he.minBy=function(e,t){return e&&e.length?Ue(e,Ir(t,2),ct):Qo},he.stubArray=zo,he.stubFalse=Bo,he.stubObject=function(){return{}},he.stubString=function(){return""},he.stubTrue=function(){return!0},he.multiply=Ho,he.nth=function(e,t){return e&&e.length?mt(e,Ra(t)):Qo},he.noConflict=function(){return wi._===this&&(wi._=y),this},he.noop=Vo,he.now=Qn,he.pad=function(e,t,r){e=Ua(e);var n=(t=Ra(t))?du(e):0;if(!t||t<=n)return e;var a=(t-n)/2;return pr(z(a),r)+e+pr(M(a),r)},he.padEnd=function(e,t,r){e=Ua(e);var n=(t=Ra(t))?du(e):0;return t&&n<t?e+pr(t-n,r):e},he.padStart=function(e,t,r){e=Ua(e);var n=(t=Ra(t))?du(e):0;return t&&n<t?pr(t-n,r)+e:e},he.parseInt=function(e,t,r){return t=r||null==t?0:t&&+t,J(Ua(e).replace(Hl,""),t||0)},he.random=function(e,t,r){if(r&&"boolean"!=typeof r&&Ur(e,t,r)&&(t=r=Qo),r===Qo&&("boolean"==typeof t?(r=t,t=Qo):"boolean"==typeof e&&(r=e,e=Qo)),e===Qo&&t===Qo?(e=0,t=1):(e=Ta(e),t===Qo?(t=e,e=0):t=Ta(t)),t<e){var n=e;e=t,t=n}if(r||e%1||t%1){var a=Q();return H(e+a*(t-e+yi("1e-"+((a+"").length-1))),t)}return wt(e,t)},he.reduce=function(e,t,r){var n=ha(e)?Mi:Ji,a=arguments.length<3;return n(e,Ir(t,4),r,a,Me)},he.reduceRight=function(e,t,r){var n=ha(e)?zi:Ji,a=arguments.length<3;return n(e,Ir(t,4),r,a,ze)},he.repeat=function(e,t,r){return t=(r?Ur(e,t,r):t===Qo)?1:Ra(t),Ct(Ua(e),t)},he.replace=function(){var e=arguments,t=Ua(e[0]);return e.length<3?t:t.replace(e[1],e[2])},he.result=function(e,t,r){var n=-1,a=(t=Ut(t,e)).length;for(a||(a=1,e=Qo);++n<a;){var o=null==e?Qo:e[ln(t[n])];o===Qo&&(n=a,o=r),e=Ca(o)?o.call(e):o}return e},he.round=$o,he.runInContext=e,he.sample=function(e){return(ha(e)?Oe:function(e){return Oe(co(e))})(e)},he.size=function(e){if(null==e)return 0;if(va(e))return Ia(e)?du(e):e.length;var t=Tr(e);return t==cl||t==ml?e.size:st(e).length},he.snakeCase=yo,he.some=function(e,t,r){var n=ha(e)?Bi:xt;return r&&Ur(e,t,r)&&(t=Qo),n(e,Ir(t,3))},he.sortedIndex=function(e,t){return St(e,t)},he.sortedIndexBy=function(e,t,r){return Lt(e,t,Ir(r,2))},he.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=St(e,t);if(n<r&&ca(e[n],t))return n}return-1},he.sortedLastIndex=function(e,t){return St(e,t,!0)},he.sortedLastIndexBy=function(e,t,r){return Lt(e,t,Ir(r,2),!0)},he.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var r=St(e,t,!0)-1;if(ca(e[r],t))return r}return-1},he.startCase=bo,he.startsWith=function(e,t,r){return e=Ua(e),r=null==r?0:je(Ra(r),0,e.length),t=At(t),e.slice(r,r+t.length)==t},he.subtract=Jo,he.sum=function(e){return e&&e.length?Qi(e,So):0},he.sumBy=function(e,t){return e&&e.length?Qi(e,Ir(t,2)):0},he.template=function(l,e,t){var r=he.templateSettings;t&&Ur(l,e,t)&&(e=Qo),l=Ua(l),e=Wa({},e,r,Cr);var i,u,n=Wa({},e.imports,r.imports,Cr),a=to(n),o=Xi(n,a),s=0,c=e.interpolate||ui,d="__p += '",f=g((e.escape||ui).source+"|"+c.source+"|"+(c===Ml?ei:ui).source+"|"+(e.evaluate||ui).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++mi+"]")+"\n";l.replace(f,function(e,t,r,n,a,o){return r=r||n,d+=l.slice(s,o).replace(si,ou),t&&(i=!0,d+="' +\n__e("+t+") +\n'"),a&&(u=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),s=o+e.length,e}),d+="';\n";var h=e.variable;h||(d="with (obj) {\n"+d+"\n}\n"),d=(u?d.replace(Dl,""):d).replace(Il,"$1").replace(Al,"$1;"),d="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Eo(function(){return v(a,p+"return "+d).apply(Qo,o)});if(m.source=d,wa(m))throw m;return m},he.times=function(e,t){if((e=Ra(e))<1||el<e)return[];var r=tl,n=H(e,tl);t=Ir(t),e-=tl;for(var a=Yi(n,t);++r<e;)t(r);return a},he.toFinite=Ta,he.toInteger=Ra,he.toLength=Ma,he.toLower=function(e){return Ua(e).toLowerCase()},he.toNumber=za,he.toSafeInteger=function(e){return e?je(Ra(e),-el,el):0===e?e:0},he.toString=Ua,he.toUpper=function(e){return Ua(e).toUpperCase()},he.trim=function(e,t,r){if((e=Ua(e))&&(r||t===Qo))return e.replace(Kl,"");if(!e||!(t=At(t)))return e;var n=fu(e),a=fu(t);return qt(n,tu(n,a),ru(n,a)+1).join("")},he.trimEnd=function(e,t,r){if((e=Ua(e))&&(r||t===Qo))return e.replace($l,"");if(!e||!(t=At(t)))return e;var n=fu(e);return qt(n,0,ru(n,fu(t))+1).join("")},he.trimStart=function(e,t,r){if((e=Ua(e))&&(r||t===Qo))return e.replace(Hl,"");if(!e||!(t=At(t)))return e;var n=fu(e);return qt(n,tu(n,fu(t))).join("")},he.truncate=function(e,t){var r=30,n="...";if(_a(t)){var a="separator"in t?t.separator:a;r="length"in t?Ra(t.length):r,n="omission"in t?At(t.omission):n}var o=(e=Ua(e)).length;if(lu(e)){var l=fu(e);o=l.length}if(o<=r)return e;var i=r-du(n);if(i<1)return n;var u=l?qt(l,0,i).join(""):e.slice(0,i);if(a===Qo)return u+n;if(l&&(i+=u.length-i),La(a)){if(e.slice(i).search(a)){var s,c=u;for(a.global||(a=g(a.source,Ua(ti.exec(a))+"g")),a.lastIndex=0;s=a.exec(c);)var d=s.index;u=u.slice(0,d===Qo?i:d)}}else if(e.indexOf(At(a),i)!=i){var f=u.lastIndexOf(a);-1<f&&(u=u.slice(0,f))}return u+n},he.unescape=function(e){return(e=Ua(e))&&Nl.test(e)?e.replace(Vl,pu):e},he.uniqueId=function(e){var t=++f;return Ua(e)+t},he.upperCase=wo,he.upperFirst=Co,he.each=Un,he.eachRight=Gn,he.first=vn,Ao(he,(Uo={},He(he,function(e,t){_.call(he.prototype,t)||(Uo[t]=e)}),Uo),{chain:!1}),he.VERSION="4.17.4",Ai(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){he[e].placeholder=he}),Ai(["drop","take"],function(r,n){be.prototype[r]=function(e){e=e===Qo?1:K(Ra(e),0);var t=this.__filtered__&&!n?new be(this):this.clone();return t.__filtered__?t.__takeCount__=H(e,t.__takeCount__):t.__views__.push({size:H(e,tl),type:r+(t.__dir__<0?"Right":"")}),t},be.prototype[r+"Right"]=function(e){return this.reverse()[r](e).reverse()}}),Ai(["filter","map","takeWhile"],function(e,t){var r=t+1,n=1==r||3==r;be.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ir(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}}),Ai(["head","last"],function(e,t){var r="take"+(t?"Right":"");be.prototype[e]=function(){return this[r](1).value()[0]}}),Ai(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");be.prototype[e]=function(){return this.__filtered__?new be(this):this[r](1)}}),be.prototype.compact=function(){return this.filter(So)},be.prototype.find=function(e){return this.filter(e).head()},be.prototype.findLast=function(e){return this.reverse().find(e)},be.prototype.invokeMap=kt(function(t,r){return"function"==typeof t?new be(this):this.map(function(e){return nt(e,t,r)})}),be.prototype.reject=function(e){return this.filter(oa(Ir(e)))},be.prototype.slice=function(e,t){e=Ra(e);var r=this;return r.__filtered__&&(0<e||t<0)?new be(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==Qo&&(r=(t=Ra(t))<0?r.dropRight(-t):r.take(t-e)),r)},be.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},be.prototype.toArray=function(){return this.take(tl)},He(be.prototype,function(d,e){var f=/^(?:filter|find|map|reject)|While$/.test(e),p=/^(?:head|last)$/.test(e),h=he[p?"take"+("last"==e?"Right":""):e],m=p||/^find/.test(e);h&&(he.prototype[e]=function(){function e(e){var t=h.apply(he,Ri([e],r));return p&&l?t[0]:t}var t=this.__wrapped__,r=p?[1]:arguments,n=t instanceof be,a=r[0],o=n||ha(t);o&&f&&"function"==typeof a&&1!=a.length&&(n=o=!1);var l=this.__chain__,i=!!this.__actions__.length,u=m&&!l,s=n&&!i;if(m||!o)return u&&s?d.apply(this,r):(c=this.thru(e),u?p?c.value()[0]:c.value():c);t=s?t:new be(this);var c=d.apply(t,r);return c.__actions__.push({func:Tn,args:[e],thisArg:Qo}),new ye(c,l)})}),Ai(["pop","push","shift","sort","splice","unshift"],function(e){var r=l[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",a=/^(?:pop|shift)$/.test(e);he.prototype[e]=function(){var t=arguments;if(!a||this.__chain__)return this[n](function(e){return r.apply(ha(e)?e:[],t)});var e=this.value();return r.apply(ha(e)?e:[],t)}}),He(be.prototype,function(e,t){var r=he[t];if(r){var n=r.name+"";(oe[n]||(oe[n]=[])).push({name:t,func:r})}}),oe[sr(Qo,2).name]=[{name:"wrapper",func:Qo}],be.prototype.clone=function(){var e=new be(this.__wrapped__);return e.__actions__=Zt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Zt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Zt(this.__views__),e},be.prototype.reverse=function(){if(this.__filtered__){var e=new be(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},be.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=ha(e),n=t<0,a=r?e.length:0,o=function(e,t,r){for(var n=-1,a=r.length;++n<a;){var o=r[n],l=o.size;switch(o.type){case"drop":e+=l;break;case"dropRight":t-=l;break;case"take":t=H(t,e+l);break;case"takeRight":e=K(e,t-l)}}return{start:e,end:t}}(0,a,this.__views__),l=o.start,i=o.end,u=i-l,s=n?i:l-1,c=this.__iteratees__,d=c.length,f=0,p=H(u,this.__takeCount__);if(!r||!n&&a==u&&p==u)return Tt(e,this.__actions__);var h=[];e:for(;u--&&f<p;){for(var m=-1,v=e[s+=t];++m<d;){var g=c[m],y=g.iteratee,b=g.type,w=y(v);if(2==b)v=w;else if(!w){if(1==b)continue e;break e}}h[f++]=v}return h},he.prototype.at=Rn,he.prototype.chain=function(){return Pn(this)},he.prototype.commit=function(){return new ye(this.value(),this.__chain__)},he.prototype.next=function(){this.__values__===Qo&&(this.__values__=Pa(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?Qo:this.__values__[this.__index__++]}},he.prototype.plant=function(e){for(var t,r=this;r instanceof ge;){var n=sn(r);n.__index__=0,n.__values__=Qo,t?a.__wrapped__=n:t=n;var a=n;r=r.__wrapped__}return a.__wrapped__=e,t},he.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof be){var t=e;return this.__actions__.length&&(t=new be(this)),(t=t.reverse()).__actions__.push({func:Tn,args:[_n],thisArg:Qo}),new ye(t,this.__chain__)}return this.thru(_n)},he.prototype.toJSON=he.prototype.valueOf=he.prototype.value=function(){return Tt(this.__wrapped__,this.__actions__)},he.prototype.first=he.prototype.head,V&&(he.prototype[V]=function(){return this}),he}();wi._=hu,(B=function(){return hu}.call(U,G,U,z))===Qo||(z.exports=B)}).call(this)}).call(this,G(41),G(42)(e))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==("undefined"==typeof window?"undefined":mu(window))&&(r=window)}e.exports=r},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports=p},function(e,t,r){t.decode=t.parse=r(45),t.encode=t.stringify=r(46)},function(e,t,r){e.exports=function(e,t,r,n){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var o=/\+/g;e=e.split(t);var l=1e3;n&&"number"==typeof n.maxKeys&&(l=n.maxKeys);var i,u,s=e.length;0<l&&l<s&&(s=l);for(var c=0;c<s;++c){var d,f,p,h,m=e[c].replace(o,"%20"),v=m.indexOf(r);f=0<=v?(d=m.substr(0,v),m.substr(v+1)):(d=m,""),p=decodeURIComponent(d),h=decodeURIComponent(f),i=a,u=p,Object.prototype.hasOwnProperty.call(i,u)?g(a[p])?a[p].push(h):a[p]=[a[p],h]:a[p]=h}return a};var g=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){function o(e){switch(void 0===e?"undefined":mu(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}e.exports=function(r,n,a,e){return n=n||"&",a=a||"=",null===r&&(r=void 0),"object"==(void 0===r?"undefined":mu(r))?i(u(r),function(e){var t=encodeURIComponent(o(e))+a;return l(r[e])?i(r[e],function(e){return t+encodeURIComponent(o(e))}).join(n):t+encodeURIComponent(o(r[e]))}).join(n):e?encodeURIComponent(o(e))+a+encodeURIComponent(o(r)):""};var l=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var u=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d=l(r(0)),a=l(r(48)),o=l(r(2)),f=r(1);function l(e){return e&&e.__esModule?e:{default:e}}var i,u,s,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,d.default.Component),i=p,s=[{key:"getDerivedStateFromProps",value:function(e,t){var r,n,a=null;if(r=t.filter,n=e.filter,JSON.stringify(r)===JSON.stringify(n)){if(!p.staticIsServerMode(e)&&t.originalItems!==e.value){a={};var o=Array.isArray(e.value)?p.staticGetSortedAndFilteredItems(e.value,t.filter,t.sort,e.defaultSort):[];a.items=o,a.rowsCount=o.length,a.selectedIndexes=[],a.originalItems=e.value}}else if(a={filter:e.filter},p.staticIsServerMode(e))a.items=[],a.firstLoad=!0,a.rowsCount=void 0;else{var l=Array.isArray(e.value)?p.staticGetSortedAndFilteredItems(e.value,e.filter,t.sort,e.defaultSort):[];a.items=l,a.selectedIndexes=[],a.rowsCount=l.length}return a}},{key:"staticIsServerMode",value:function(e){return"server"===e.pagerType}},{key:"staticCheckData",value:function(e){var t=null==e?[]:e;if(Array.isArray(t))t=t;else try{t=o.default.parse(t)}catch(e){}return t}},{key:"staticGetSortedAndFilteredItems",value:function(e,t,r,n){var a=p.staticCheckData(e);if(void 0===a)return a;void 0!==t&&(a=a.filter(function(e){return t.IsRowMatched(e)}));var o=r;if("NONE"===r||""===r){if(void 0===n)return a;o=n}var l=o.indexOf(" "),i=o.substring(0,l),u=o.substring(l+1,o.length);return a.slice(0).sort(function(e,t){var r=void 0!==e[i]&&null!==e[i]&&void 0!==e[i].toLowerCase?e[i].toLowerCase():e[i],n=void 0!==t[i]&&null!==t[i]&&void 0!==t[i].toLowerCase?t[i].toLowerCase():t[i];return r===n?0:null==r?1:null==n?-1:"ASC"===u?n<r?1:-1:"DESC"===u?r<n?1:-1:void 0})}}],(u=[{key:"render",value:function(){var e="dwkit-repeater";return this.props.className&&(e+=" "+this.props.className),this.isServerMode()&&this.state.firstLoad?(this.state.firstLoad=!1,this.loadNextPage(),d.default.createElement("div",{className:e,style:this.props.style},this.state.loading&&d.default.createElement(f.Loader,{active:!0,inline:"centered"}))):this.props.slider&&0<this.state.items.length?d.default.createElement("div",{className:e,style:this.props.style},d.default.createElement(a.default,{dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1},this.renderItems(this.state.items,this.state.rowsCount,!0)),this.state.loading&&d.default.createElement(f.Loader,{active:!0,inline:"centered"})):d.default.createElement("div",{className:e,style:this.props.style},this.renderItems(this.state.items,this.state.rowsCount),this.state.loading&&d.default.createElement(f.Loader,{active:!0,inline:"centered"}))}},{key:"renderItems",value:function(e,t,r){var n=this,a=[],o=0;if(Array.isArray(e)&&0<e.length)e.forEach(function(e){var t=n.renderItem(o,e,0==o&&n.props.buildermode);null!=t&&(r?a.push(d.default.createElement("div",{key:o},t)):a.push(t)),o++});else if(this.props.buildermode){var l=this.renderItem(o,{},0==o);null!=l&&(r?a.push(d.default.createElement("div",null,l)):a.push(l))}else if(!this.state.loading&&this.isServerMode()){var i=this.props.noRecordsLabel;null!=i&&""!=i||(i="No records. Refresh...");var u=d.default.createElement("div",{key:"norecords",className:"dwkit-repeater-norecords"},d.default.createElement(f.Button,{onClick:this.loadNextPage.bind(this)},i));a.push(u)}if(!this.state.loading&&this.isServerMode()&&t>e.length&&0<e.length){var s=this.props.loadButtonLabel;null!=s&&""!=s||(s="Load more...");var c=d.default.createElement("div",{key:"loadmore",className:"dwkit-repeater-loadmore"},d.default.createElement(f.Button,{onClick:this.loadNextPage.bind(this)},s));a.push(c)}return a}},{key:"renderItem",value:function(e,n,t){var a=this;if(!this.props.buildermode&&""!=this.props["item-visibleCondition"]&&null!=this.props["item-visibleCondition"]&&null!=this.props["item-visibleCondition"]){var r="return "+this.props["item-visibleCondition"];try{if(!new Function("data",r)(n))return}catch(e){return}}var o=void 0;if(null!=this.props.placeholders&&Array.isArray(this.props.placeholders[this.psTemplate])&&0<this.props.placeholders[this.psTemplate].length){var l=this.props.placeholders[this.psTemplate];if(null!=l){o=this.props.createControls(this,{model:l,parentPlaceholder:this.psTemplate,data:n,errors:Array.isArray(this.props.error)?this.props.error[e]:void 0,handleEvent:function(e){null==e.parameters&&(e.parameters={}),null==e.parameters.row&&(e.parameters.row=n),"onChange"===e.eventName?a.handleChange(n,e.syntheticEvent,e):a.props.handleEvent(e)},getAdditionalDataForControl:function(e,t,r){return null==t&&(t={}),null==t.row&&(t.row=n),a.props.getAdditionalDataForControl(e,t,r)}});var i=e+"_";t&&null!=this.props.createBuilderDropzone&&(0<o.length&&0<l.length&&o.unshift(this.props.createBuilderDropzone(i+"repeter_dropzone_header",this.psTemplate)),o.push(this.props.createBuilderDropzone(i+"repeter_dropzone_footer",this.psTemplate,l[l.length-1].key)))}}else t&&null!=this.props.createBuilderDropzone&&(o=this.props.createBuilderDropzone("repeater_dropzone_footer",this.psTemplate));return o}},{key:"handleChange",value:function(e,t,r){var n=r.name,a=r.propertyName,o=r.value,l=r.checked;if(null!=this.props.onChange){var i=a;void 0===i&&(i=n),e[i]=null==o&&null!=l?l:o,this.isServerMode()?this.forceUpdate():(this.sendChangesToParent(),null!=t?t.preventDefault():this.forceUpdate())}}},{key:"sendChangesToParent",value:function(){var e=this.state.items,t="string"==typeof this.props.value?o.default.stringify(e):e;this.props.onChange(null,{name:this.props.name,value:t})}},{key:"loadNextPage",value:function(){var e=this.state.pageSize,t=0;null!=this.state.items&&(t=this.state.items.length),this.loadPage(t,e)}},{key:"loadPage",value:function(a,e){var o=this;if(void 0===this.props.getAdditionalDataForControl)void 0!==console&&console.log("Repeater: For paging on server need to set getAdditionalDataForControl func!");else{var t=this.state.sort;""===t&&void 0!==this.props.defaultSort&&(t=this.props.defaultSort),this.setState({loading:!0}),this.props.getAdditionalDataForControl(this,{startIndex:a,pageSize:e,filters:void 0!==this.state.filter?this.state.filter.GetFilterAsObjects():[],sort:t},function(e){e.sIndex,e.pageSize;var t=e.rowsCount,r=e.items;if(void 0===t||void 0===r);else if(o.state.rowsCount=t,o.state.items.length==a)for(var n=0;n<r.length;n++)o.state.items.push(r[n]);o.setState({loading:!1})})}}},{key:"isServerMode",value:function(){return p.staticIsServerMode(this.props)}}])&&n(i.prototype,u),s&&n(i,s),p);function p(e){!function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":mu(t))&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e));return t.psTemplate="template",t.state={items:[],sort:"",filter:e.filter,firstLoad:!e.buildermode&&p.staticIsServerMode(e),pageSize:e.pageSize?e.pageSize:20},t}t.default=c},function(e,t){e.exports=h},function(e,t){e.exports=m},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0});var a={},o=(n(l,[{key:"Set",value:function(e,t,r){a.hasOwnProperty(e)&&clearTimeout(a[e]);var n=setTimeout(t,r);a[e]=n}},{key:"Clear",value:function(e){a.hasOwnProperty(e)&&(clearTimeout(a[e]),delete a[e])}}]),l);function l(){!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this)}t.default=o}],v.c=y,v.d=function(e,t,r){v.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},v.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},v.t=function(t,e){if(1&e&&(t=v(t)),8&e)return t;if(4&e&&"object"==(void 0===t?"undefined":mu(t))&&t&&t.__esModule)return t;var r=Object.create(null);if(v.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)v.d(r,n,function(e){return t[e]}.bind(null,n));return r},v.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return v.d(t,"a",t),t},v.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},v.p="",v(v.s=16);function v(e){if(y[e])return y[e].exports;var t=y[e]={i:e,l:!1,exports:{}};return g[e].call(t.exports,t,t.exports,v),t.l=!0,t.exports}var g,y},"object"==mu(o)&&"object"==mu(e)?e.exports=a(l(0),l(9),l(15),l(20),l(14),l(21),l(22),l(23),l(24),l(25),l(26),l(27),l(28),l(29)):(r=[l(0),l(9),l(15),l(20),l(14),l(21),l(22),l(23),l(24),l(25),l(26),l(27),l(28),l(29)],void 0===(n="function"==typeof(t=a)?t.apply(o,r):t)||(e.exports=n))}).call(this,l(57)(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formHelper=t.defaultActions=t.userActionInvoker=void 0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x=a(r(3)),S=a(r(1)),k=a(r(2)),L=r(4),o=a(r(42)),D=r(10),p=a(r(15)),E=a(r(16)),F=a(r(19)),i=a(r(13)),s=a(r(7)),n=(r(43),a(r(6)));function a(e){return e&&e.__esModule?e:{default:e}}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A=function(e,t,r,n,a,o,l,i,u,s,c,d,f,p,h,m){function v(e){return{data:e&&e.data?e.data:u,stateDelta:e&&e.stateDelta?e.stateDelta:null}}var g=null;if(n&&(g=n[t]),!g&&r&&(g=r[t]),!(g=g||b[t]))return E.default.callServerCodeAction(t,{data:u,parameters:i,formName:f,modalId:p}).then(function(e){return v(e)});var y=null;try{y=g({key:e,data:u,originalData:s,state:c,component:d,formName:f,controlRef:a,sourceControlRef:o,sourceControlValue:l,parameters:i,modalId:p,callContext:m})}catch(e){return D.Promise.reject(e)}return y&&y.then instanceof Function?y.then(function(e){return v(e)}):y instanceof Function?y(h).then(function(e){return D.Promise.resolve({data:e&&e.data?e.data:u,stateDelta:e&&e.stateDelta?e.stateDelta:null})}):D.Promise.resolve({data:u,stateDelta:y})},h={getControlsForValidate:function(e){var l=[];return e.forEach(function(e){if((!0===e["other-required"]||void 0!==e["other-customValidation"]&&""!==e["other-customValidation"])&&l.push(e),void 0!==e.children&&0<e.children.length){var t=h.getControlsForValidate(e.children);l=l.concat(t)}if(void 0!==e.placeholders)for(var r in e.placeholders){var n=h.getControlsForValidate(e.placeholders[r]);l=l.concat(n)}if("customblock"===e["data-buildertype"]&&"source"===e.sourceType&&null!=e.source){var a=p.default.parse(e.source),o=h.getControlsForValidate(a);l=l.concat(o)}}),l},validate:function(e,t,r){var n=void 0;if(!0!==e["other-required"]||null!=t&&""!==t){if(void 0!==e["other-customValidation"]&&""!==e["other-customValidation"]){var a="return "+e["other-customValidation"],o=new Function("value, data",a)(t,r);"boolean"==typeof o?!1===o&&(n=!0):n=o}}else n="This field is required!";return n},initDefaultState:function(e,t){if(Array.isArray(e)&&void 0!==t)for(var r=0;r<e.length;r++){if(void 0!==e[r].defaultValue&&""!==e[r].defaultValue&&(t[e[r].key]=e[r].defaultValue),Array.isArray(e[r].children)&&h.initDefaultState(e[r].children,t),void 0!==e[r].placeholders)for(var n in e[r].placeholders)h.initDefaultState(e[r].placeholders[n],t);if("customblock"===e[r]["data-buildertype"]&&"source"===e[r].sourceType&&null!=e[r].source){var a=p.default.parse(e[r].source);h.initDefaultState(a,t)}}},checkPermission:function(e,t,r){var n=(r?t.app.modals.models[t.app.modals.windows[r].name].formParams:t.app.form.formParams).permissions;if(Array.isArray(n))for(var a=0;a<n.length;a++)if(n[a].code===e)return 1===n[a].accessType||0===n[a].accessType;return!1},checkRole:function(e,t){return void 0!==t.app.user&&void 0!==t.app.user.roles&&t.app.user.roles.includes(e)},checkConditions:function(e){var t=e.model,r=e.data,n=e.state,a=e.modalId,o={hideControls:[],readOnlyControls:[]};if(null===t||null===r)return o;for(var l=0;l<t.length;l++){var i=t[l]["other-visibleConition"];if(void 0!==i&&""!==i){new Function("data, checkPermission, checkRole","return "+i)(r,function(e){return h.checkPermission(e,n,a)},function(e){return h.checkRole(e,n)})||o.hideControls.push(t[l].key)}if(void 0!==(i=t[l]["other-readOnlyConition"])&&""!==i){new Function("data, checkPermission, checkRole","return "+i)(r,function(e){return h.checkPermission(e,n,a)},function(e){return h.checkRole(e,n)})&&o.readOnlyControls.push(t[l].key)}if(Array.isArray(t[l].children)){var u=h.checkConditions({model:t[l].children,data:r,state:n,modalId:a});o={hideControls:o.hideControls.concat(u.hideControls),readOnlyControls:o.readOnlyControls.concat(u.readOnlyControls)}}if(void 0!==t[l].placeholders)for(var s in t[l].placeholders){var c=h.checkConditions({model:t[l].placeholders[s],data:r,state:n,modalId:a});o={hideControls:o.hideControls.concat(c.hideControls),readOnlyControls:o.readOnlyControls.concat(c.readOnlyControls)}}if("customblock"===t[l]["data-buildertype"]&&"source"===t[l].sourceType&&null!=t[l].source){var d=p.default.parse(t[l].source),f=h.checkConditions({model:d,data:r,state:n,modalId:a});o={hideControls:o.hideControls.concat(f.hideControls),readOnlyControls:o.readOnlyControls.concat(f.readOnlyControls)}}}return o}},b={initSystem:function(e){var t=e.state,r=e.data,n=e.modalId,a=n?t.app.modals.models[t.app.modals.windows[n].name].model:t.app.form.models.model,o=n?t.app.modals.models[t.app.modals.windows[n].name].formParams:t.app.form.formParams,l=h.checkConditions({model:a,data:r,state:t,modalId:n}),i=null;if(o&&o.securityGroup){var u=o.permissions;if(Array.isArray(u)){i=!0;for(var s=0;s<u.length;s++)if("Edit"===u[s].code){1==u[s].accessType&&(i=!1);break}}}if((n?t.app.modals.windows[n]:t.app.form).data.isNew){var c={};return h.initDefaultState(a,c),n?{app:{modals:{windows:I({},n,{data:{original:c,modified:c},hideControls:l.hideControls,readOnlyControls:l.readOnlyControls,readOnly:i})}}}:{app:{form:{data:{original:c,modified:c},models:{hideControls:l.hideControls,readOnlyControls:l.readOnlyControls,readOnly:i}}}}}return n?{app:{modals:{windows:I({},n,{hideControls:l.hideControls,readOnlyControls:l.readOnlyControls,readOnly:i})}}}:{app:{form:{models:{hideControls:l.hideControls,readOnlyControls:l.readOnlyControls,readOnly:i}}}}},init:function(e){},modalClosed:function(e){},checkConditions:function(e){var t=e.data,r=e.state,n=e.modalId,a=n?r.app.modals.models[r.app.modals.windows[n].name].model:r.app.form.models.model,o=h.checkConditions({model:a,data:t,state:r,modalId:n});return n?{app:{modals:{windows:I({},n,{hideControls:o.hideControls,readOnlyControls:o.readOnlyControls})}}}:{app:{form:{models:{hideControls:o.hideControls,readOnlyControls:o.readOnlyControls}}}}},workflowExecuteCommand:function(e){var a=e.formName,o=e.state,l=e.parameters,i=e.modalId,t=e.callContext,u=t.commandFormResult&&t.commandFormResult.commandParams?t.commandFormResult.commandParams:null;return function(r){r(x.default.app.form.data.fetch.begin());var e=i?o.app.modals.windows[i]:o.app.form,t=null!=l.row&&null!=l.row.__id?l.row.__id:e.data.modified.__id;t=t||(i?e.data.filter:s.default.filterFromLocation(window.location));var n={command:l.command.value,name:a,id:t};return u&&(n.data=JSON.stringify(u)),k.default.configuredFetch(S.default.getState().settings.workflowexecute+"?"+(0,L.encodeQueryData)(n),{method:"post"}).then(function(e){return e.json()}).then(function(e){if(e.success){var t="The command execution has been completed!";void 0!==window.DWKitAdminLang&&(t=window.DWKitAdminLang.msg.commandexecutioncompleted),r(x.default.app.resetfetchcount()),alertify.success(t)}else r(x.default.app.form.data.save.failure(e.message,e.details))}).catch(function(e){r(x.default.app.form.data.save.failure(e.message,e.stack))})}},workflowSetState:function(e){var a=e.formName,o=e.state,l=(e.controlRef,e.parameters),i=e.modalId;return function(r){r(x.default.app.form.data.fetch.begin());var e=i?o.app.modals.windows[i]:o.app.form,t=null!=l.row&&null!=l.row.__id?l.row.__id:e.data.modified.__id;t=t||(i?e.data.filter:s.default.filterFromLocation(window.location));var n={state:l.state.value,name:a,id:t};return k.default.configuredFetch(S.default.getState().settings.workflowset+"?"+(0,L.encodeQueryData)(n),{method:"post"}).then(function(e){return e.json()}).then(function(e){if(e.success){r(x.default.app.resetfetchcount());var t="The new state was set!";void 0!==window.DWKitAdminLang&&(t=window.DWKitAdminLang.msg.newstateset),alertify.success(t)}else r(x.default.app.form.data.save.failure(e.message,e.details))}).catch(function(e){r(x.default.app.form.data.save.failure(e.message,e.stack))})}},selectWorkflowScheme:function(e){var t=e.state,r=e.modalId,n=e.parameters,a=null;if(n&&n.schemes&&1<n.schemes.length)a=n.schemes;else{var o=r?t.app.modals.models[t.app.modals.windows[r].name]:t.app.form;a=null===o.formParams||void 0===o.formParams?void 0:o.formParams.schemes}return{app:{schemeSelection:{schemes:a,modalId:r}}}},save:function(e){var t=e.formName,r=e.modalId,n=e.state,a=e.data;return k.default.form.savedata({formName:t,modalId:r,state:n,data:a})},delete:function(e){var t=e.formName,r=e.data;return k.default.common.deleteByIds(t,null,r.__id)},exit:function(e){var t=e.state,r=e.modalId;if(r){var n=O({},t.app.modals.windows);if(null!=n[r]&&null!=n[r].onCloseFunc){var a=n[r].onCloseFunc({modalId:r,modal:n[r],state:t});if(0==a)return{};if("object"===(void 0===a?"undefined":l(a)))return a}var o=[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(t.app.modals.order));return o.pop(),n[r]=null,{app:{modals:{windows:n,order:o}}}}return{router:{push:"/"}}},confirm:function(e){var t=e.parameters,r={};function n(e){r[e]||(r[e]=window.DWKitAdminLang.confirm[paramKey])}function a(e,t){r[e]||(r[e]=t)}return t&&window.DWKitLang&&window.DWKitLang.msg&&(r.title=window.DWKitLang.msg[t.confirmTitle],r.text=window.DWKitLang.msg[t.confirmText],r.ok=window.DWKitLang.msg[t.confirmOk],r.cancel=window.DWKitLang.msg[t.confirmCancel]),window.DWKitAdminLang?(n("title"),n("text"),n("ok"),n("cancel")):(a("title","Confirm"),a("text","Please confirm the action"),a("ok","Ok"),a("cancel","Cancel")),function(e){return(0,o.default)(r)}},apply:function(e){var t=e.state,r=e.modalId;if(!r)return{};var n=t.app.modals.windows[r],a=n.data;if(!a||!a.isDirty&&!a.isNew)return{};var o=null,l=null,i=null,u=!!n.parentId;if(u){var s=t.app.modals.windows[n.parentId];l=s.name,o=s.data,i=t.app.modals.models[l].model}else o=t.app.form.data,i=t.app.form.models.model;function c(e,t){t=F.default.mapRow(F.default.mapRow(t,h,f),m);var r=e.findIndex(function(e){return e.__id===t.__id});0<=r?(e[r]=(0,L.mergeDeep)(e[r],t),e[r].__loaded=!0):(t.__loaded=!0,e.push(t))}var d=a.modified,f=a.additionalValues,p=a.property,h=t.app.modals.models[n.name].mapping.toData,m=u?t.app.modals.models[l].mapping.toForm[p]:t.app.form.models.mapping.toForm[p],v=null;if(!p)throw Error("apply action: propertyName is not defined");var g=E.default.getModelConrol(i,p);if("gridview"===g["data-buildertype"]&&"server"===g.pagerType)throw Error("Can't apply to gridview with server paging!");var y=Array.isArray(d),b=o.modified[p],w=Array.isArray(b);if(!y&&w)c(v=b,d);else if(y&&w){v=b;for(var C=0;d.length,C++;)c(v,d[C])}else{if(y&&!w)throw Error("apply action: source data are array but target data is not array, can not merge");y||w||(v=(0,L.mergeDeep)(b,d))}return function(e){return k.default.form.updateData(p,v,n.parentId)(e)}},redirect:function(e){var t=e.parameters;if(void 0!==t&&void 0!==t.target)return t.target.includes("http://")||t.target.includes("https://")?void(document.location.href=t.target):{app:{modals:n.default.app.modals},router:{redirect:null,push:t.target}};console.error("For call 'redirect' action you need to set the 'target' parameter!")},refresh:function(e){var t=e.state,r=e.modalId;return r?{app:{modals:{windows:I({},r,{keyIndex:t.app.modals.windows[r].keyIndex+1})}}}:{router:{refresh:"refresh"}}},reload:function(){return{router:{reload:"reload"}}},validate:function(e){for(var t=e.data,r=(e.originalData,e.state),n=(e.component,e.controlRef,e.eventArgs,e.modalId),a=(e.callContext,!0),o={},l=n?h.getControlsForValidate(r.app.modals.models[r.app.modals.windows[n].name].model):h.getControlsForValidate(r.app.form.models.model),i=0;i<l.length;i++){var u=l[i].key,s=h.validate(l[i],t[u],t);s&&(o[u]=s,a=!1)}if(a)return{};var c="Check errors on the form!";throw void 0!==window.DWKitAdminLang&&(c=window.DWKitAdminLang.msg.checkerrorsonform),{level:1,message:c,formerrors:{modalId:n,errors:a?null:o}}},createElement:function(e){var t=e.data,r=(e.model,e.controlRef),n=(e.state,e.parameters);if(void 0===n)return{};var a=t[r.props.name];if(void 0===a)throw{level:1,message:"Undefined the collection field - "+r.props.name};var o=r.props.columns;if(Array.isArray(o)){var l={};for(var i in n){for(var u=!1,s=0;s<o.length;s++)if(o[s].key.toLowerCase()===i.toLowerCase()){l[o[s].key]=n[i],u=!0;break}!1===u&&(l[i]=n[i])}a.push(l)}else a.push(n);return{app:{form:{data:{modified:t}}}}},setFilter:function(e){var t=e.key,r=(e.data,e.originalData,e.state),n=(e.component,e.controlRef,e.eventArgs,e.parameters),a=e.sourceControlRef,o=e.sourceControlValue,l=e.modalId,i=void 0,u=t,s=(i=l?r.app.modals.windows[l]&&r.app.modals.windows[l].filters&&r.app.modals.windows[l].filters.hasOwnProperty(u)?r.app.modals.windows[l].filters[u]:[]:null!==r.app.form.filters.main&&r.app.form.filters.main.hasOwnProperty(u)?r.app.form.filters.main[u]:[]).find(function(e){return e.__controlName===a.props.name});if(void 0!==s)s.nextValue=null!=o&&""!==o?o:null;else if(null!=o&&""!==o){var c={};c.column=void 0===n.column?a.props.name:n.column.split(",").map(function(e){return e.trim()}).join(","),c.term=void 0===n.term?"like":n.term,c.nextValue=o,c.value=null,c.__controlName=a.props.name,i.push(c)}return l?{app:{modals:{windows:I({},l,{filters:I({},u,i)})}}}:{app:{form:{filters:{main:I({},u,i)}}}}},applyFilter:function(e){var t=e.key,r=(e.data,e.originalData,e.state),n=(e.component,e.controlRef,e.eventArgs,e.parameters,e.sourceControlRef,e.sourceControlValue,e.modalId),a=null,o=t;return n?r.app.modals.windows[n]&&r.app.modals.windows[n].filters&&r.app.modals.windows[n].filters.hasOwnProperty(o)&&(a=r.app.modals.windows[n].filters[o]):null!==r.app.form.filters.main&&r.app.form.filters.main.hasOwnProperty(o)&&(a=r.app.form.filters.main[o]),null===a?{}:((a=a.filter(function(e){return null!==e.nextValue})).forEach(function(e){return e.value=e.nextValue}),n?{app:{modals:{windows:I({},n,{filters:I({},o,a)})}}}:{app:{form:{filters:{main:I({},o,a)}}}})},openModal:function(e){var t=e.modalId,r=e.controlRef,n=e.state,a=e.parameters,o=e.callContext;return i.default.open(t,n,a.name,null,a.filter,!a.filter||a.isCopy,r?r.props.name:null,a.type?a.type:"form",a.viewType?a.viewType:"modal",a.sidebarSettings,a.onOpenFunc,a.onCloseFunc,o,a.closeOnOutsideClick)},copy:function(e){var t=e.state,r=e.modalId,n=e.data;if((r?t.app.modals.windows[r]:t.app.form).data.isNew)throw Error("Can't copy new unsaved object");var a=n.__id;if(r)return{app:{modals:{windows:I({},r,{data:{isNew:!0,filter:a}})}}};var o=s.default.deconstructLocation(t.router.location);return{router:{push:"/"+o.type+"/"+o.name+"/"+a+"/copy"}}},workflowShowCommandForm:function(e){var r=e.parameters,n=e.callContext;return r.command.form&&r.command.form.name?new D.Promise(function(e,t){E.default.openModalDispatch(r.command.form.name,null,{onCloseFunc:function(){n.commandFormResult||t(),n.commandFormResult&&n.commandFormResult.cancel?t():e()},callContext:n,closeOnOutsideClick:!0})}):{}},workflowContinueExecution:function(e){var t=e.state,r=e.modalId,n=e.data;return e.callContext.commandFormResult={commandParams:n},b.exit({state:t,modalId:r})},workflowCancelExecution:function(e){var t=e.state,r=e.modalId;return e.callContext.commandFormResult={cancel:!0},b.exit({state:t,modalId:r})},gridCreate:function(e){var t=e.state,r=e.controlRef,n=e.parameters,a=e.modalId;if(r.isEditFormModal()||r.isEditFormSidebar())return F.default.create({state:t,controlRef:r,parameters:n,modalId:a});var o=r.props;return"flow"!==o.editType?{router:{push:"/form/"+o.editForm+"/"}}:{router:{push:"/flow/"+o.editFlow+"/"}}},gridRefresh:function(e){return e.controlRef.refresh(),{}},gridCopy:function(e){var t=e.state,r=e.controlRef,n=e.parameters,a=e.modalId;if(r.isEditFormModal()||r.isEditFormSidebar())return F.default.copy({state:t,controlRef:r,parameters:n,modalId:a});var o=r.props;if(o.editFormShowType&&"Default"!==o.editFormShowType)return{};var l=F.default.getSelectedRow({parameters:n,controlRef:r}),i=l?l.__id:void 0;return i?"flow"!==o.editType?{router:{push:"/form/"+o.editForm+"/"+i+"/copy"}}:{router:{push:"/flow/"+o.editFlow+"/"+i+"/copy"}}:{}},gridDelete:function(e){var t=e.state,r=e.controlRef,n=e.formName,a=e.modalId;if(r.isServerMode()){var o=r.getSeletedRowKeys();if(0!==o.length)return o=o.filter(function(e){return null!=e&&!e.toString().startsWith("CLIENT_")}),function(e){return k.default.common.deleteByIds(n,r.props.propertyName,o,function(){var e="Rows have been deleted!";void 0!==window.DWKitAdminLang&&(e=window.DWKitAdminLang.msg.rowsdeleted),alertify.success(e),r.refresh()})(e)};var l="Please, select rows for deletion!";void 0!==window.DWKitAdminLang&&(l=window.DWKitAdminLang.msg.selectrowsfordelete),alertify.error(l)}else{var i=r.getSeletedRowKeys();if(0!==i.length){var u=r.props.name,s=(a?t.modals.windows[a].data.modified[u]:t.app.form.data.modified[u]).filter(function(e){return!i.includes(e.__id)});return function(e){return k.default.form.updateData(u,s,a)(e)}}var c="Please, select rows for deletion!";void 0!==window.DWKitAdminLang&&(c=window.DWKitAdminLang.msg.selectrowsfordelete),alertify.error(c)}return{}},gridEdit:function(e){var t=e.state,r=e.controlRef,n=e.parameters,a=e.modalId;if(r.isEditFormModal()||r.isEditFormSidebar())return F.default.edit({state:t,controlRef:r,parameters:n,modalId:a});var o=r.props;if(o.editFormShowType&&"Default"!==o.editFormShowType)return{};var l=F.default.getSelectedRow({parameters:n,controlRef:r}),i=l?l.__id:void 0;return i?"flow"!==o.editType?{router:{push:"/form/"+o.editForm+"/"+i+"/"}}:{router:{push:"/flow/"+o.editFlow+"/"+i+"/"}}:{}},gridExport:function(e){var a=e.controlRef,o=e.parameters,l=e.modalId,i=e.formName;return function(e){var t=_.chain(a.props.columns).map(function(e){return e.key+":"+e.name}).join(",").value(),r=a.getSort(),n=a.getFilters();return k.default.additional.exportToExcel({type:a.props["data-buildertype"],controlRef:a,modalId:l,formName:i,parameters:o,startIndex:0,cols:t,pagerType:a.props.pagerType,sort:r,filters:n})(e)}},changeModel:function(e){var t=e.controlRef,r=e.state,n=e.parameters,a=r.app.form.models.model;if(void 0===n)return{};function o(e,t,r){if(t.key!=e){if(null!=t.children&&0<t.children.length)for(var n in t.children){o(e,t.children[n],r)}}else for(var a in r)t[a]=r[a]}var l=t.props.name;for(var i in a){o(l,a[i],n)}return{app:{form:{models:{model:a}}}}}};t.userActionInvoker=function(e,o){var a=e.key,t=e.actions,l=e.controlRef,i=e.sourceControlRef,u=e.sourceControlValue,s=e.parameters,c=e.component,d=e.formName,f=e.modalId,r=e.callContext;function p(e){return f?e.app.modals.windows[f]:e.app.form}if(!t||t.length<1)return D.Promise.resolve();function n(e){var n=t[e];k=k?k.then(function(e){var t=e.data,r=e.stateDelta;return r&&(E=(0,L.mergeDeep)(E,r),y=(0,L.mergeDeep)(y,r)),A(a,n,m,v,l,i,u,s,t,C,y,c,d,f,o,_)}):A(a,n,m,v,l,i,u,s,w,C,y,c,d,f,o,_)}var h=null==d?"":d.toLowerCase(),m=window.globalUserActions,v=window[h+"UserActions"],g=S.default.getState(),y=O({},g),b=p(y),w=null===b.data.modified?null:O({},b.data.modified),C=null===b.data.original?null:O({},b.data.original),k=null,E={},_=r||{};for(var F in t)n(F);return k=k.then(function(e){var t=e.data,r=e.stateDelta;r&&(E=(0,L.mergeDeep)(E,r));var n=p(g);if(f){if(!(0,L.jsonEqual)(n.data.modified,t)){var a={app:{modals:{windows:I({},f,{})}}};a.app.modals.windows[f].data={modified:t},E=(0,L.mergeDeep)(E,a)}}else(0,L.jsonEqual)(n.data.modified,t)||(E=(0,L.mergeDeep)(E,{app:{form:{data:{modified:t}}}}));(0,L.isEmptyObject)(E)||o(x.default.updatestate(E))})},t.defaultActions=b,t.formHelper=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var y=n(r(2)),b=r(4),w=n(r(1)),C=(r(10),n(r(13)));function n(e){return e&&e.__esModule?e:{default:e}}var k={edit:function(e){var t=e.state,r=e.controlRef,n=e.parameters,a=e.modalId;return k.operation({state:t,controlRef:r,parameters:n,modalId:a,op:"edit"})},create:function(e){var t=e.state,r=e.controlRef,n=e.parameters,a=e.modalId;return k.operation({state:t,controlRef:r,parameters:n,modalId:a,op:"create"})},copy:function(e){var t=e.state,r=e.controlRef,n=e.parameters,a=e.modalId;return k.operation({state:t,controlRef:r,parameters:n,modalId:a,op:"copy"})},operation:function(e){var t=e.state,r=e.controlRef,n=e.parameters,a=e.modalId,o=e.op,l=r.props,i="copy"===o,u="create"===o,s="flow"!==r.props.editType,c=s?l.editForm:l.editFlow,d=null,f=null,p=k.getSelectedRow({parameters:n,controlRef:r});if(!p&&!u)return{};var h=r.props.name;if(!u&&p.__loaded&&s){var m=t.app.modals.models[c],v=a?t.app.modals.model[t.app.modals.windows[a].name].mapping.toData[h]:t.app.form.models.mapping.toData[h],g=m.mapping.toForm;f=k.mapRow(k.mapRow(p,v),g),i&&(f.__id="CLIENT_"+(0,b.uuid)()),d=f.__id}else d=u?null:p.__id;return C.default.open(a,t,c,f,d,i||u,h,r.props.editType?r.props.editType:"form",r.props.editFormShowType,{from:r.props.sidebarDirection,width:n.sidebarWidth},void 0,function(e){var t=w.default.getState();w.default.dispatch(y.default.form.executeActions({actions:["modalClosed"],controlRef:r,formName:t.app.modals.windows[e.modalId].name,modalId:a,parameters:e})),null!=r&&null!=r.props.handleEvent&&r.props.handleEvent({key:r.props.name,eventName:"onModalClosed",parameters:e})})},mapRow:function(e,r,n){function t(t){t.startsWith("__")&&(a[t]=e[t]),r[t]&&(a[r[t]]=e[t],n&&n[t]&&Object.keys(n[t]).forEach(function(e){a[r[t]+"_"+e]=n[t][e]}))}var a={};for(var o in e)t(o);return a},getSelectedRow:function(e){var t=e.parameters,r=e.controlRef,n=-1;if((0,b.isNull)(t.rowIdx)?0<r.state.selectedIndexes.length&&(n=r.state.selectedIndexes[0]):n=t.rowIdx,!(n<0))return r.state.items[n]}};t.default=k},function(e,t){e.exports=s},function(e,t){e.exports=c},function(e,t){e.exports=d},function(e,t){e.exports=f},function(e,t){e.exports=p},function(e,t){e.exports=h},function(e,t){e.exports=m},function(e,t){e.exports=v},function(e,t){e.exports=g},function(e,t){e.exports=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e};function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(0),l=d(o),i=r(17),u=d(r(1)),s=d(r(60)),c=d(r(64));function d(e){return e&&e.__esModule?e:{default:e}}var f=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,o.Component),n(p,[{key:"render",value:function(){var o=this;return l.default.createElement("div",null,o.props.preventDrawMainform?null:l.default.createElement(i.DWKitForm,{key:o.props.getMainFormKey(),formName:o.props.formName,data:o.props.data,extendedData:{filters:o.props.mainControlFilters,schemes:o.props.schemes,selectedScheme:o.props.selectedScheme},model:o.props.model,errors:o.props.errors,dataChanged:function(e,t){var r=t.key,n=t.value,a=t.additionalValues;o.props.dataChanged(r,n,a)},eventFunc:function(e){o.props.executeActions(e)},getAdditionalDataForControl:o.props.additionalFetch.bind(o,function(){return o.props.formName},null,"copy"===o.props.command),hideControls:o.props.hideControls,readOnlyControls:o.props.readOnlyControls,readOnly:o.props.readOnly,uploadUrl:u.default.getState().settings.dataupload,downloadUrl:u.default.getState().settings.datadownload}),l.default.createElement(s.default,null),l.default.createElement(c.default,null))}}]),p);function p(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StateBindedForm=t.SignalRConnector=t.API=t.Actions=t.Store=t.Thunks=t.FlowContent=t.FormContent=t.NotificationComponent=t.ApplicationRouter=void 0;var n=p(r(32)),a=p(r(56)),o=p(r(58)),l=p(r(59)),i=p(r(66)),u=p(r(2)),s=p(r(1)),c=p(r(3)),d=p(r(16)),f=p(r(67));function p(e){return e&&e.__esModule?e:{default:e}}t.ApplicationRouter=n.default,t.NotificationComponent=o.default,t.FormContent=l.default,t.FlowContent=i.default,t.Thunks=u.default,t.Store=s.default,t.Actions=c.default,t.API=d.default,t.SignalRConnector=f.default,t.StateBindedForm=a.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=r(0),i=p(l),u=r(5),s=p(r(3)),c=r(33),d=p(r(12)),f=p(r(1));function p(e){return e&&e.__esModule?e:{default:e}}var h=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(m,l.Component),a(m,[{key:"render",value:function(){return this.props.chidren?i.default.Children.only(this.props.children):null}},{key:"componentDidMount",value:function(){"#_=_"===this.props.history.location.hash?this.props.history.push(n({},this.props.history.location,{hash:null})):this.props.history.location.hash&&-1<this.props.history.location.hash.substring(1,this.props.history.location.hash.length-1).split("=").indexOf("id_token")&&(d.default.get(f.default).onLogon(),this.props.history.push(n({},this.props.history.location,{hash:null}))),this.props.onRouteChanged()}},{key:"componentDidUpdate",value:function(){if(this.props.push){var e={pathname:this.props.push};this.props.history.push(e)}if(this.props.redirect){var t={pathname:this.props.redirect};this.props.history.replace(t)}this.props.reload&&(this.props.onReload?this.props.onReload():console.log("ApplicationRouter: Need to define handler for onReload")),this.props.refresh&&(this.props.onRefresh?this.props.onRefresh():console.log("ApplicationRouter: Need to define handler for onRefresh")),this.props.onRouteChanged()}}]),m);function m(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}t.default=(0,c.withRouter)((0,u.connect)(function(e,t){return{push:e.router.push,redirect:e.router.redirect,refresh:e.router.refresh,reload:e.router.reload,filter:e.router.filter}},function(e,t){return{onRouteChanged:function(){e(s.default.router.routechanged(t.history,t.history&&t.history.location?t.history.location:t.location))}}})(h))},function(e,t){e.exports=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=u(r(3)),o=u(r(1)),l=r(10),i=r(54);function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=null;window.globalFetchOptions&&(t=window.globalFetchOptions()),t=t||n({},o.default.getState().settings.fetchOptions);var r="Bearer "+e.access_token;t.headers=n({},t.headers,{Authorization:r}),$.ajaxSetup({beforeSend:function(e){e.setRequestHeader("Authorization",r)}}),window.globalFetchOptions||o.default.dispatch(a.default.settings.set("fetchOptions",t))}var c=null;function d(){if(!c){var e={client_id:"spa",redirect_uri:window.location.protocol+"//"+window.location.host,response_type:"token id_token",scope:"openid profile IdentityServerApi",authority:window.location.protocol+"//"+window.location.host,silent_redirect_uri:window.location.protocol+"//"+window.location.host+"/silentRenew.html",automaticSilentRenew:!0,filterProtocolClaims:!0,loadUserInfo:!0,monitorSession:!0};(c=new i.UserManager(e)).events.addUserLoaded(function(){c.getUser().then(function(e){e&&!e.expired&&s(e)})}),c.events.addUserSignedOut(function(){c.signinRedirect()})}return c}var f={preFetchUser:function(){return d().getUser().then(function(e){return e&&!e.expired?(s(e),l.Promise.resolve()):d().signinSilent()})},logoff:function(){var e=d();e.signoutRedirect(),e.removeUser()},onLogon:function(){d().signinRedirectCallback().then(function(e){s(e)}).catch(function(){d().signinRedirect()})}};t.default=f},function(e,t){e.exports=w},function(e,t){e.exports=C},function(e,t){e.exports=k},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n=r(8),a=u(r(6)),o=(r(4),u(r(40))),i=u(r(2));function u(e){return e&&e.__esModule?e:{default:e}}var s=(0,n.handleActions)({APP:{USERINFO:{FETCH:{BEGIN:function(e){return l({},e,{fetchCount:e.fetchCount+1})},SUCCESS:function(e,t){var r=t.payload.user;return l({},e,{user:r,fetchCount:e.fetchCount<=0?0:e.fetchCount-1})},FAILURE:function(e,t){var r=t.payload,n=r.error,a=r.details;return l({},e,{error:n,errorDetails:a,fetchCount:e.fetchCount<=0?0:e.fetchCount-1})}}},CLEARERRORS:function(e){return l({},e,{error:void 0,errorLevel:void 0,errorDetails:void 0})},FAILURE:function(e,t){var r=t.payload,n=r.error,a=r.details,o=r.level;return l({},e,{error:n,errorLevel:o,errorDetails:a,fetchCount:e.fetchCount<=0?0:e.fetchCount-1})},FETCHBEGIN:function(e){return l({},e,{fetchCount:e.fetchCount+1})},RESETFETCHCOUNT:function(e){return l({},e,{fetchCount:0})},FORM:o.default,IMPERSONATEDUSERIDFROMURL:function(e){return l({},e,{impersonatedUserId:i.default.common.getParameterFormUrlOrCookie("impersonatedUserId")})},SETAUTH:function(e,t){var r=t.payload.type;return l({},e,{authType:r})}}},a.default.app);t.default=s},function(e,t){e.exports=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p=r(4),n=a(r(6));a(r(13));function a(e){return e&&e.__esModule?e:{default:e}}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o={failure:function(e,t){var r=t.payload,n=r.error,a=r.details,o=r.level,l=r.formerrors,i=l?l.modalId:null;return f({},e,i?{fetchCount:e.fetchCount<=0?0:e.fetchCount-1,error:n,errorLevel:o,errorDetails:a,modals:f({},e.modals,{windows:f({},e.modals.windows,h({},i,f({},e.modals.windows[i],{errors:l?l.errors:null})))})}:{fetchCount:e.fetchCount<=0?0:e.fetchCount-1,error:n,errorLevel:o,errorDetails:a,form:f({},e.form,{errors:l?l.errors:null})})}},l={CLEAR:function(e,t){var r=t.payload.modalId;return f({},e,r?{modals:f({},e.modals,{windows:f({},e.modals.windows,h({},r,f({},e.modals.windows[r],{data:f({},e.modals.windows[r].data,{isDirty:!1,original:null,modified:null})})))})}:{form:f({},n.default.app.form)})},MODEL:{FETCH:{BEGIN:function(e){return f({},e,{fetchCount:e.fetchCount+1})},SUCCESS:function(e,t){var r=t.payload,n=r.model,a=r.name,o=r.formParams,l=r.mapping;if(r.modalId){var i=f({},e,{fetchCount:e.fetchCount<=0?0:e.fetchCount-1});return i.modals.models[a]={model:n,mapping:l,formParams:o},i}return f({},e,{fetchCount:e.fetchCount<=0?0:e.fetchCount-1,form:f({},e.form,{models:f({},e.form.models,{model:n,mapping:l}),formParams:o})})},FAILURE:function(e,t){var r=t.payload,n=r.error,a=r.details;return f({},e,{fetchCount:e.fetchCount<=0?0:e.fetchCount-1,error:n,errorDetails:a})}},CHANGE:function(e,t){var r=t.payload,n=r.name,a=r.modalId;return a&&e.modals.windows[a]?f({},e,{modals:f({},e.modals,{windows:f({},e.modals.windows,h({},a,f({},e.modals.windows[a],{name:n})))})}):e}},DATA:{FETCH:{BEGIN:function(e){return f({},e,{fetchCount:e.fetchCount+1})},SUCCESS:function(e,t){var r=t.payload,n=r.data,a=r.modalId,o=r.isNew;if(a&&e.modals.windows[a]){var l=e.modals.windows[a].data;l&&l.isNew&&(o=!0)}if(o&&(n.__id="CLIENT__"+(0,p.uuid)()),a)return f({},e,{fetchCount:e.fetchCount<=0?0:e.fetchCount-1,modals:f({},e.modals,{windows:f({},e.modals.windows,h({},a,f({},e.modals.windows[a],{errors:null,data:f({},e.modals.windows[a].data,{isDirty:!1,isNew:!!o,original:n,modified:(0,p.cloneDataObject)(n)})})))})});var i=f({},e.modals.windows);for(var u in i)i.hasOwnProperty(u)&&(i[u]=f({},i[u],{errors:null}));return f({},e,{fetchCount:e.fetchCount<=0?0:e.fetchCount-1,form:f({},e.form,{data:f({},e.form.data,{isDirty:!1,isNew:!!o,original:n,modified:(0,p.cloneDataObject)(n)}),errors:null}),modals:f({},e.modals,{windows:i})})},FAILURE:function(e,t){var r=t.payload,n=r.error,a=r.details;return f({},e,{fetchCount:e.fetchCount<=0?0:e.fetchCount-1,error:n,errorDetails:a})}},UPDATEFROMCHILD:function(e,t){function r(e,t){if(Array.isArray(e)){var r=[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e)),n=r.findIndex(function(e){return e.__id===t.__id});return 0<=n?r[n]=(0,p.mergeDeep)(r[n],t):r.push(t),r}return(0,p.mergeDeep)(e,t)}var n=t.payload,a=n.key,o=n.value,l=n.modalId,i=!!l?e.modals.windows[l].data:e.form.data,u=r(a?i.modified[a]:i.modified,o),s=r(a?i.original[a]:i.original,o);if(l){var c=f({},e),d=c.modals.windows[l].data;return a?(d.modified[a]=u,d.original[a]=s):(d.modified=u,d.original=s),c}return f({},e,a?{form:f({},e.form,{data:f({},e.form.data,{modified:f({},e.form.data.modified,h({},a,u)),original:f({},e.form.data.original,h({},a,s))})})}:{form:f({},e.form,{data:f({},e.form.data,{modified:u,original:s})})})},UPDATEMODALFILTER:function(e,t){var r=t.payload,n=r.filter,a=r.modalId;return f({},e,{modals:f({},e.modals,{windows:f({},e.modals.windows,h({},a,f({},e.modals.windows[a],{data:f({},e.modals.windows[a].data,{filter:n})})))})})},UPDATE:function(e,t){var r=t.payload,n=r.key,a=r.value,o=r.modalId,l=r.additionalValues,i=null;if(n){var u={};u[n]=a,i=o?(0,p.mergeDeep)(e.modals.windows[o].data.modified,u):(0,p.mergeDeep)(e.form.data.modified,u)}else i=a;if(o){var s=f({},e);s.modals.windows[o]||(s.modals.windows[o]={});var c=s.modals.windows[o].data;if(c){var d=s.modals.windows[o].data.original;(0,p.jsonEqual)(i,d)?c.isDirty=!!c.isNew&&c.isDirty:c.isDirty=!0,c.modified=i,c.additionalValues[n]=l}else(c=new{original:null,modified:i,isDirty:!0,isNew:!0,additionalValues:{}}).additionalValues[n]=l,s.modals.windows[o].data=c;return s}return(0,p.jsonEqual)(i,e.form.data.original)?f({},e,{form:f({},e.form,{data:f({},e.form.data,{isDirty:!!e.form.data.isNew&&e.form.data.isDirty,modified:i}),errors:null})}):f({},e,{form:f({},e.form,{data:f({},e.form.data,{isDirty:!0,modified:i})})})},SAVE:{BEGIN:function(e){return f({},e,{fetchCount:e.fetchCount+1})},SUCCESS:function(e,t){var r=t.payload,n=r.data,a=r.modalId,o=f({},e,{fetchCount:e.fetchCount<=0?0:e.fetchCount-1,form:f({},e.form)});if(a){if(o.modals.windows[a]){o.modals.windows[a].errors=null;var l=o.modals.windows[a].data;l.isNew=!1,l.isDirty=!1,null!==n&&(l.modified=n),l.original=(0,p.cloneDataObject)(l.modified)}}else o.form.errors=null,o.form.data.isNew=!1,o.form.data.isDirty=!1,null!==n&&(o.form.data.modified=n),o.form.data.original=o.form.data.modified,Object.values(o.modals.windows).forEach(function(e){var t=e.data;t.isNew=!1,t.isDirty=!1,t.original=(0,p.cloneDataObject)(t.modified)});return o},FAILURE:o.failure},DELETE:{BEGIN:function(e){return f({},e,{fetchCount:e.fetchCount+1})},SUCCESS:function(e,t){t.payload;return f({},e,{fetchCount:e.fetchCount<=0?0:e.fetchCount-1})},FAILURE:o.failure}}};t.default=l},function(e,t){e.exports=F},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e};function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}t.default=function(e){var t=document.body.appendChild(document.createElement("div")),r=i.default.render(l.default.createElement(c,e),t);return r.promise.finally(function(){return i.default.unmountComponentAtNode(t),setTimeout(function(){return t.remove()})})};var o=r(0),l=s(o),i=s(r(14)),u=r(9);function s(e){return e&&e.__esModule?e:{default:e}}var c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,o.Component),n(d,[{key:"componentDidMount",value:function(){var r=this;this.promise=new Promise(function(e,t){r.resolve=e,r.reject=t})}},{key:"render",value:function(){return l.default.createElement(u.Modal,{open:!0},l.default.createElement(u.Modal.Header,null,this.props.title),l.default.createElement(u.Modal.Content,null,this.props.text),l.default.createElement(u.Modal.Actions,null,l.default.createElement(u.Button,{className:"buttontype1",content:this.props.ok,onClick:this.confirm}),l.default.createElement(u.Button,{className:"buttontype2",content:this.props.cancel,onClick:this.abort})))}}]),d);function d(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.abort=function(){t.reject()},t.confirm=function(){t.resolve()},t}},function(k,e,E){"use strict";(function(t){var e=E(45);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function o(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,a=0,o=Math.min(r,n);a<o;++a)if(e[a]!==t[a]){r=e[a],n=t[a];break}return r<n?-1:n<r?1:0}function l(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var c=E(46),n=Object.prototype.hasOwnProperty,d=Array.prototype.slice,r="foo"===function(){}.name;function i(e){return Object.prototype.toString.call(e)}function u(e){return!l(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var s=k.exports=v,a=/\s*function\s+([^\(\s]*)\s*/;function f(e){if(c.isFunction(e)){if(r)return e.name;var t=e.toString().match(a);return t&&t[1]}}function p(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function h(e){if(r||!c.isFunction(e))return c.inspect(e);var t=f(e);return"[Function"+(t?": "+t:"")+"]"}function m(e,t,r,n,a){throw new s.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:a})}function v(e,t){e||m(e,!0,t,"==",s.ok)}function g(e,t,r,n){if(e===t)return!0;if(l(e)&&l(t))return 0===o(e,t);if(c.isDate(e)&&c.isDate(t))return e.getTime()===t.getTime();if(c.isRegExp(e)&&c.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(u(e)&&u(t)&&i(e)===i(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===o(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(l(e)!==l(t))return!1;var a=(n=n||{actual:[],expected:[]}).actual.indexOf(e);return-1!==a&&a===n.expected.indexOf(t)||(n.actual.push(e),n.expected.push(t),function(e,t,r,n){if(null==e||null==t)return!1;if(c.isPrimitive(e)||c.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var a=y(e),o=y(t);if(a&&!o||!a&&o)return!1;if(a)return e=d.call(e),t=d.call(t),g(e,t,r);var l,i,u=C(e),s=C(t);if(u.length!==s.length)return!1;for(u.sort(),s.sort(),i=u.length-1;0<=i;i--)if(u[i]!==s[i])return!1;for(i=u.length-1;0<=i;i--)if(l=u[i],!g(e[l],t[l],r,n))return!1;return!0}(e,t,r,n))}return r?e===t:e==t}function y(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function b(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function w(e,t,r,n){var a;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),a=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!a&&m(a,r,"Missing expected exception"+n);var o="string"==typeof n,l=!e&&a&&!r;if((!e&&c.isError(a)&&o&&b(a,r)||l)&&m(a,r,"Got unwanted exception"+n),e&&a&&r&&!b(a,r)||!e&&a)throw a}s.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return p(h(e.actual),128)+" "+e.operator+" "+p(h(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,a=f(t),o=n.indexOf("\n"+a);if(0<=o){var l=n.indexOf("\n",o+1);n=n.substring(l+1)}this.stack=n}}},c.inherits(s.AssertionError,Error),s.fail=m,s.ok=v,s.equal=function(e,t,r){e!=t&&m(e,t,r,"==",s.equal)},s.notEqual=function(e,t,r){e==t&&m(e,t,r,"!=",s.notEqual)},s.deepEqual=function(e,t,r){g(e,t,!1)||m(e,t,r,"deepEqual",s.deepEqual)},s.deepStrictEqual=function(e,t,r){g(e,t,!0)||m(e,t,r,"deepStrictEqual",s.deepStrictEqual)},s.notDeepEqual=function(e,t,r){g(e,t,!1)&&m(e,t,r,"notDeepEqual",s.notDeepEqual)},s.notDeepStrictEqual=function e(t,r,n){g(t,r,!0)&&m(t,r,n,"notDeepStrictEqual",e)},s.strictEqual=function(e,t,r){e!==t&&m(e,t,r,"===",s.strictEqual)},s.notStrictEqual=function(e,t,r){e===t&&m(e,t,r,"!==",s.notStrictEqual)},s.throws=function(e,t,r){w(!0,e,t,r)},s.doesNotThrow=function(e,t,r){w(!1,e,t,r)},s.ifError=function(e){if(e)throw e},s.strict=e(function e(t,r){t||m(t,!0,r,"==",e)},s,{equal:s.strictEqual,deepEqual:s.deepStrictEqual,notEqual:s.notStrictEqual,notDeepEqual:s.notDeepStrictEqual}),s.strict.strict=s.strict;var C=Object.keys||function(e){var t=[];for(var r in e)n.call(e,r)&&t.push(r);return t}}).call(this,E(44))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var u=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,n,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),o=1;o<arguments.length;o++){for(var l in r=Object(arguments[o]))s.call(r,l)&&(a[l]=r[l]);if(u){n=u(r);for(var i=0;i<n.length;i++)c.call(r,n[i])&&(a[n[i]]=r[n[i]])}}return a}},function(e,S,L){(function(l){var t=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},i=/%[sdj%]/g;S.format=function(e){if(!b(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(u(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,a=n.length,o=String(e).replace(i,function(e){if("%%"===e)return"%";if(a<=r)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),l=n[r];r<a;l=n[++r])g(l)||!s(l)?o+=" "+l:o+=" "+u(l);return o},S.deprecate=function(e,t){if(void 0!==l&&!0===l.noDeprecation)return e;if(void 0===l)return function(){return S.deprecate(e,t).apply(this,arguments)};var r=!1;return function(){if(!r){if(l.throwDeprecation)throw new Error(t);l.traceDeprecation?console.trace(t):console.error(t),r=!0}return e.apply(this,arguments)}};var e,n={};function u(e,t){var r={seen:[],stylize:o};return 3<=arguments.length&&(r.depth=arguments[2]),4<=arguments.length&&(r.colors=arguments[3]),v(t)?r.showHidden=t:t&&S._extend(r,t),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),f(r,e,r.depth)}function a(e,t){var r=u.styles[t];return r?"["+u.colors[r][0]+"m"+e+"["+u.colors[r][1]+"m":e}function o(e,t){return e}function f(t,r,n){if(t.customInspect&&r&&_(r.inspect)&&r.inspect!==S.inspect&&(!r.constructor||r.constructor.prototype!==r)){var e=r.inspect(n,t);return b(e)||(e=f(t,e,n)),e}var a=function(e,t){if(w(t))return e.stylize("undefined","undefined");if(b(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(y(t))return e.stylize(""+t,"number");if(v(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(t,r);if(a)return a;var o=Object.keys(r),l=function(e){var r={};return e.forEach(function(e,t){r[e]=!0}),r}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(r)),E(r)&&(0<=o.indexOf("message")||0<=o.indexOf("description")))return p(r);if(0===o.length){if(_(r)){var i=r.name?": "+r.name:"";return t.stylize("[Function"+i+"]","special")}if(C(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(k(r))return t.stylize(Date.prototype.toString.call(r),"date");if(E(r))return p(r)}var u,s="",c=!1,d=["{","}"];m(r)&&(c=!0,d=["[","]"]),_(r)&&(s=" [Function"+(r.name?": "+r.name:"")+"]");return C(r)&&(s=" "+RegExp.prototype.toString.call(r)),k(r)&&(s=" "+Date.prototype.toUTCString.call(r)),E(r)&&(s=" "+p(r)),0!==o.length||c&&0!=r.length?n<0?C(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),u=c?function(t,r,n,a,e){for(var o=[],l=0,i=r.length;l<i;++l)F(r,String(l))?o.push(h(t,r,n,a,String(l),!0)):o.push("");return e.forEach(function(e){e.match(/^\d+$/)||o.push(h(t,r,n,a,e,!0))}),o}(t,r,n,l,o):o.map(function(e){return h(t,r,n,l,e,c)}),t.seen.pop(),function(e,t,r){if(60<e.reduce(function(e,t){return 0,0<=t.indexOf("\n")&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0))return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(u,s,d)):d[0]+s+d[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,r,n,a,o){var l,i,u;if((u=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]}).get?i=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(i=e.stylize("[Setter]","special")),F(n,a)||(l="["+a+"]"),i||(e.seen.indexOf(u.value)<0?-1<(i=g(r)?f(e,u.value,null):f(e,u.value,r-1)).indexOf("\n")&&(i=o?i.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+i.split("\n").map(function(e){return"   "+e}).join("\n")):i=e.stylize("[Circular]","special")),w(l)){if(o&&a.match(/^\d+$/))return i;l=(l=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(l=l.substr(1,l.length-2),e.stylize(l,"name")):(l=l.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),e.stylize(l,"string"))}return l+": "+i}function m(e){return Array.isArray(e)}function v(e){return"boolean"==typeof e}function g(e){return null===e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function w(e){return void 0===e}function C(e){return s(e)&&"[object RegExp]"===r(e)}function s(e){return"object"==typeof e&&null!==e}function k(e){return s(e)&&"[object Date]"===r(e)}function E(e){return s(e)&&("[object Error]"===r(e)||e instanceof Error)}function _(e){return"function"==typeof e}function r(e){return Object.prototype.toString.call(e)}function c(e){return e<10?"0"+e.toString(10):e.toString(10)}S.debuglog=function(t){if(w(e)&&(e=Object({NODE_ENV:"development"}).NODE_DEBUG||""),t=t.toUpperCase(),!n[t])if(new RegExp("\\b"+t+"\\b","i").test(e)){var r=l.pid;n[t]=function(){var e=S.format.apply(S,arguments);console.error("%s %d: %s",t,r,e)}}else n[t]=function(){};return n[t]},(S.inspect=u).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},S.isArray=m,S.isBoolean=v,S.isNull=g,S.isNullOrUndefined=function(e){return null==e},S.isNumber=y,S.isString=b,S.isSymbol=function(e){return"symbol"==typeof e},S.isUndefined=w,S.isRegExp=C,S.isObject=s,S.isDate=k,S.isError=E,S.isFunction=_,S.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},S.isBuffer=L(48);var d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function F(e,t){return Object.prototype.hasOwnProperty.call(e,t)}S.log=function(){console.log("%s - %s",function(){var e=new Date,t=[c(e.getHours()),c(e.getMinutes()),c(e.getSeconds())].join(":");return[e.getDate(),d[e.getMonth()],t].join(" ")}(),S.format.apply(S,arguments))},S.inherits=L(49),S._extend=function(e,t){if(!t||!s(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var O="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function x(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}S.promisify=function(o){if("function"!=typeof o)throw new TypeError('The "original" argument must be of type Function');if(O&&o[O]){var e;if("function"!=typeof(e=o[O]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,O,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var r,n,e=new Promise(function(e,t){r=e,n=t}),t=[],a=0;a<arguments.length;a++)t.push(arguments[a]);t.push(function(e,t){e?n(e):r(t)});try{o.apply(this,t)}catch(e){n(e)}return e}return Object.setPrototypeOf(e,Object.getPrototypeOf(o)),O&&Object.defineProperty(e,O,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,t(o))},S.promisify.custom=O,S.callbackify=function(o){if("function"!=typeof o)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);var r=e.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");function n(){return r.apply(a,arguments)}var a=this;o.apply(this,e).then(function(e){l.nextTick(n,null,e)},function(e){l.nextTick(x,e,n)})}return Object.setPrototypeOf(e,Object.getPrototypeOf(o)),Object.defineProperties(e,t(o)),e}}).call(this,L(47))},function(e,t){var r,n,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function i(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:l}catch(e){n=l}}();var u,s=[],c=!1,d=-1;function f(){c&&u&&(c=!1,u.length?s=u.concat(s):d=-1,s.length&&p())}function p(){if(!c){var e=i(f);c=!0;for(var t=s.length;t;){for(u=s,s=[];++d<t;)u&&u[d].run();d=-1,t=s.length}u=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===l||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new h(e,t)),1!==s.length||c||i(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;function r(){}r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t){e.exports=O},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(8),o=r(6),l=(n=o)&&n.__esModule?n:{default:n},i=r(4);var u=(0,a.handleActions)({UPDATESTATE:function(e,t){var r=t.payload.stateDelta;if(!r||(0,i.isEmptyObject)(r))return e;var n=(0,i.mergeDeep)(e,r);return Object.keys(n.app.modals.windows).forEach(function(e){n.app.modals.windows[e]||delete n.app.modals.windows[e]}),n}},l.default);t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n=r(8),a=i(r(6)),l=i(r(7));function i(e){return e&&e.__esModule?e:{default:e}}var u=(0,n.handleActions)({ROUTER:{ROUTECHANGED:function(e,t){var r=t.payload,n=r.history,a=r.location;return o({},e,{push:null,redirect:null,refresh:null,reload:null,history:n,location:a})},PUSH:function(e,t){var r=t.payload.newurl;return o({},e,{push:r,redirect:null,refresh:null,reload:null})},REDIRECT:function(e,t){var r=t.payload.newurl;return o({},e,{redirect:r,push:null,refresh:null,reload:null})},REFRESH:function(e,t){var r=t.payload.newurl;return o({},e,{refresh:r,reload:null,redirect:null,push:null})},RELOAD:function(e,t){var r=t.payload.newurl;return o({},e,{reload:r,refresh:null,redirect:null,push:null})},CHANGEURLFILTER:function(e,t){var r=t.payload,n=r.newfilter,a=r.clearCommand;return o({},e,{redirect:l.default.changeFilter(document.location,n,a),push:null,refresh:null,reload:null})}}},a.default.router);t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(8),l=r(6),i=(n=l)&&n.__esModule?n:{default:n};var u=(0,a.handleActions)({SETTINGS:{SET:function(e,t){var r=t.payload,n=r.key,a=r.value;return o({},e,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},n,a))}}},i.default.settings);t.default=u},function(e,t){e.exports=x},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={preFetchUser:function(){return Promise.resolve()},logoff:function(){var e=window.location.href;window.location.href=e},onLogon:function(){}};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n=function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e};function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o,l=r(0),i=(o=l)&&o.__esModule?o:{default:o},c=r(5),d=r(17);var f=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,l.Component),n(p,[{key:"render",value:function(){var e=s({},this.props);return null==e.key&&(e.key="bindForm"),i.default.createElement(d.DWKitForm,s({},e,{data:this.props.combinedData}))}}]),p);function p(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}t.default=(0,c.connect)(function(i,e){function t(e,t){for(var r=e.split("."),n=0<r.length?i[r[0]]:null,a=null,o=1;o<r.length&&null!=n;o++)n=n[a=r[o]];if(null==n)return s({},t);if("object"===(void 0===n?"undefined":u(n)))return s({},t,n);var l=s({},t);return null!==a&&(l[a]=n),l}var r={},n={};if(null!==e.stateDataPath&&void 0!==e.stateDataPath)if("string"==typeof e.stateDataPath)n=t(e.stateDataPath,n);else if(Array.isArray(e.stateDataPath))for(var a=0;a<e.stateDataPath.length;a++)"string"==typeof e.stateDataPath[a]&&(n=t(e.stateDataPath[a],n));if(void 0!==e.data&&null!==e.data&&"object"===u(e.data)){var o=e.data;n=s({},n,o)}return r.combinedData=n,r},function(e,t){return{}})(f)},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e};function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(0),l=(u(o),r(5)),i=u(r(3));function u(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,o.Component),n(c,[{key:"render",value:function(){return null}},{key:"componentDidMount",value:function(){this.StartStopOnFetch(),this.ShowError()}},{key:"componentDidUpdate",value:function(e,t){this.StartStopOnFetch(),this.ShowError()}},{key:"StartStopOnFetch",value:function(){this.state.start?(this.setState({start:!1}),this.onFetchStarted()):this.state.stop&&(this.setState({stop:!1}),this.onFetchFinished())}},{key:"ShowError",value:function(){if(this.state.showError){var e=this.state.error;if(this.setState({showError:!1}),1===this.state.errorLevel)this.ShowPopupError(e);else{var t=e;if(void 0!==this.state.errorDetails){var r="More information in the developer console!";void 0!==window.DWKitAdminLang&&(r=window.DWKitAdminLang.msg.moreinformation),t+=". "+r}this.ShowPopupError(t),console.error(e,this.state.errorDetails)}this.props.clearErrors()}}},{key:"ShowPopupError",value:function(e){var t=void 0;if(null!=this.state.prevError&&null!=this.state.prevErrorDate){var r=new Date,n=this.state.prevErrorDate;t=(r.getTime()-n.getTime())/1e3}null!=t&&this.state.prevError==e&&t<1||alertify.error(e),this.state.prevError=e,this.state.prevErrorDate=new Date}},{key:"onFetchStarted",value:function(){void 0!==this.props.onFetchStarted&&this.props.onFetchStarted()}},{key:"onFetchFinished",value:function(){void 0!==this.props.onFetchFinished&&this.props.onFetchFinished()}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r={};return 0===t.fetchCount&&0<e.fetchCount?(r.fetchCount=e.fetchCount,r.start=!0,r.stop=!1):0<t.fetchCount&&0===e.fetchCount&&(r.fetchCount=0,r.start=!1,r.stop=!0),r.showError||void 0===e.error||(r.showError=!0,r.error=e.error,r.errorLevel=e.errorLevel,r.errorDetails=e.errorDetails),r}}]),c);function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return t.state={fetchCount:0},t}t.default=(0,l.connect)(function(e,t){return{fetchCount:e.app.fetchCount,error:e.app.error,errorLevel:e.app.errorLevel,errorDetails:e.app.errorDetails}},function(e,t){return{clearErrors:function(){e(i.default.app.clearerrors())}}})(s)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=r(0),i=h(l),u=r(5),s=h(r(2)),c=h(r(1)),d=h(r(30)),f=r(11),p=h(r(7));function h(e){return e&&e.__esModule?e:{default:e}}var m=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(v,l.Component),a(v,null,[{key:"getDerivedStateFromProps",value:function(e,t){var r={},n=null===e.formName?null:void 0===e.formName?null:e.formName.toLowerCase(),a=null!==t?void 0===t.formName?null:t.formName:null,o=void 0!==e.filter?e.filter:null,l=null!==t?t.filter:null,i=t?t.command:null;return r.formName=n,r.command=e.command,n!==a?null!==n&&(r.needFetchForm=!0,r.needFetchData=!0):o===l&&i===r.command||(r.filter=e.filter,r.needFetchData=!0),r}}]),a(v,[{key:"componentDidMount",value:function(){this.RequestModelAndData()}},{key:"componentDidUpdate",value:function(){this.RequestModelAndData()}},{key:"getMainFormKey",value:function(){return"mainform_"+this.state.formName+"_"+this.props.filter}},{key:"RequestModelAndData",value:function(){this.state.needFetchForm?(this.setState({needFetchForm:!1}),this.props.fetchForm(this.state.formName)):this.state.needFetchData&&null!==this.state.formName&&(this.setState({needFetchData:!1}),this.props.fetchData(null,this.state.filter,this.state.formName,null,"copy"===this.props.command))}},{key:"render",value:function(){var e=n({},this.props);return e.getMainFormKey=this.getMainFormKey.bind(this),e.preventDrawMainform=!this.state.formName||this.state.needFetchForm,i.default.createElement(d.default,n({key:this.getMainFormKey()+"_formcontent"},e))}}]),v);function v(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,e));return t.state={},t}t.default=(0,u.connect)(function(e,t){var r=(0,f.mapStateToPropsBase)(e);return n({},r,{formName:t.formName?t.formName:p.default.nameFromLocation(e.router.location,c.default.getState().settings.form)})},function(t){var e=(0,f.mapDispatchToPropsFormBase)(t);return n({},e,{fetchForm:function(e){t(s.default.form.clear()),t(s.default.form.fetchform(e))}})})(m)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n=function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e};function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(0),c=u(o),d=r(9),l=r(5),i=r(11),f=u(r(61)),h=u(r(63));function u(e){return e&&e.__esModule?e:{default:e}}function m(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(v,o.Component),n(v,[{key:"render",value:function(){var u=this,s=this,e=this.props.windowsOrder.map(function(e,t,r){function n(){s.props.executeActions({key:void 0,controlRef:s,formName:s.props.formName,component:s,eventName:"exit",actions:["exit"],parameters:void 0,modalId:a.id})}var a=u.props.childWindows[e];if("modal"===a.viewType)return c.default.createElement(d.Modal,{open:!0,key:a.id,onClose:n,closeOnDimmerClick:a.closeOnOutsideClick},c.default.createElement(d.Modal.Content,null,c.default.createElement(h.default,p({key:a.id+a.keyIndex},a,{model:u.props.childModels[a.name]}))));var o=t===r.length-1?"last-pane-overlay":"",l="right",i="80%";return a.sidebarSettings&&(a.sidebarSettings.from&&(l=a.sidebarSettings.from),a.sidebarSettings.width&&(i=a.sidebarSettings.width)),u.state.isrtl&&("right"==l?l="left":"left"==l&&(l="right")),c.default.createElement(f.default,{key:a.id,overlayClassName:o,isOpen:!0,from:l,onRequestClose:n,width:i,closeOnDimmerClick:a.closeOnOutsideClick},c.default.createElement(h.default,p({key:a.id+a.keyIndex},a,{model:u.props.childModels[a.name]})))});return c.default.createElement("div",{ref:function(e){return u.el=e}},e)}}]),v);function v(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,e));t.state={isrtl:!1};try{t.state.isrtl="rtl"==getComputedStyle(document.getElementsByTagName("html")[0]).direction}catch(e){}return t}t.default=(0,l.connect)(function(e){var t=e.app.modals.windows,r=e.app.modals.models,n={},a={};for(var o in t)if(t.hasOwnProperty(o)){var l=r[t[o].name],i=null==l?void 0:l.formParams,u=null==i?void 0:i.schemes;if(a[o]={id:o,errors:t[o].errors,name:t[o].name,viewType:t[o].viewType,sidebarSettings:t[o].sidebarSettings,onOpenFunc:t[o].onOpenFunc,onCloseFunc:t[o].onCloseFunc,selectedScheme:t[o].selectedScheme,schemes:u,isNew:null===t[o].data||void 0===t[o].data?void 0:t[o].data.isNew,hideControls:t[o].hideControls,readOnlyControls:t[o].readOnlyControls,readOnly:t[o].readOnly,preventLoad:t[o].preventLoad,flowName:t[o].flowName,keyIndex:t[o].keyIndex,filter:t[o].data.filter,type:t[o].type,callContext:t[o].callContext,closeOnOutsideClick:void 0===t[o].closeOnOutsideClick||t[o].closeOnOutsideClick},t[o].data){var s=t[o].data.modified;void 0!==s&&(a[o].data=Array.isArray(s)?[].concat(m(s)):p({},s))}var c=t[o].filters;if(c){var d={};for(var f in c)c.hasOwnProperty(f)&&(d[f]=c[f].filter(function(e){return null!==e.value}).map(function(e){return p({},e)}));a[o].controlFilters=d}}return Object.keys(r).forEach(function(e){n[e]=r[e].model}),{childModels:n,childWindows:a,windowsOrder:e.app.modals.order}},i.mapDispatchToPropsFormBase)(s)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.isOpen,r=e.title,n=e.onRequestClose,a=e.onAfterOpen,o=e.children,l=e.className,i=e.overlayClassName,u=e.from,s=void 0===u?"right":u,c=e.width,d=e.closeOnOutsideClick,f="slide-pane_from_"+s;return p.default.createElement(h.default,{ariaHideApp:!1,className:"slide-pane "+f+" "+(l||""),style:{content:{width:c||"80%"}},overlayClassName:"slide-pane__overlay "+(i||""),closeTimeoutMS:m,isOpen:t,onAfterOpen:a,onRequestClose:n,shouldCloseOnOverlayClick:d,contentLabel:'Modal "'+(r||"")+'"'},p.default.createElement("div",{className:"slide-pane__header"},p.default.createElement("div",{className:"slide-pane__close",onClick:n},p.default.createElement(v,null)),p.default.createElement("div",{className:"slide-pane__title-wrapper"},p.default.createElement("h2",{className:"slide-pane__title"},r))),p.default.createElement("div",{className:"slide-pane__content"},o))};var p=n(r(0)),h=n(r(62));function n(e){return e&&e.__esModule?e:{default:e}}var m=500;function v(){return p.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 22"},p.default.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 11l8 8c.6.5.6 1.5 0 2-.5.6-1.5.6-2 0l-9-9c-.6-.5-.6-1.5 0-2l9-9c.5-.6 1.5-.6 2 0 .6.5.6 1.5 0 2l-8 8z"}))}},function(e,t){e.exports=S},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=r(0),i=h(l),u=r(17),s=h(r(1)),c=r(5),d=r(4),f=r(11),p=h(r(2));function h(e){return e&&e.__esModule?e:{default:e}}var m=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(v,l.Component),a(v,null,[{key:"getDerivedStateFromProps",value:function(e,t){var r={},n=void 0!==e.filter?e.filter:null,a=null!==t?t.filter:null,o=null,l=e.preventLoad;return!n||a&&(0,d.jsonEqual)(a,n)?e.preventLoad||null!==n||void 0!==a?!n||!e.isNew||t&&t.isNew||(o={filter:n,forCopy:!0}):l||(o={forCopy:!1}):l||(o={filter:n,forCopy:n&&e.isNew}),null!==(r.childDataRequest=o)&&(r.forCopy=o.forCopy),r.filter=n,r.isNew=e.isNew,r}}]),a(v,[{key:"componentDidMount",value:function(){this.requestModelAndData()}},{key:"componentDidUpdate",value:function(){this.requestModelAndData()}},{key:"requestModelAndData",value:function(){if(this.state.childDataRequest){var e=this.state.childDataRequest;"flow"===this.props.type&&0<this.props.keyIndex?this.props.fetchFlow(this.props.flowName,e.filter,this.props.id,e.forCopy):"flow"===this.props.type||this.props.model?this.props.fetchData(null,e.filter,this.props.name,this.props.id,e.forCopy):this.props.fetchForm(this.props.name,e.filter,this.props.id,e.forCopy),this.setState({childDataRequest:null})}}},{key:"render",value:function(){var o=this,l=this.props,e=l.name,t=!!this.state.forCopy&&this.state.forCopy;return i.default.createElement(u.DWKitForm,{key:"chidForm_"+l.id,formName:e,data:l.data,extendedData:{filters:l.controlFilters,schemes:l.schemes,selectedScheme:l.selectedScheme},model:this.props.model,errors:l.errors,dataChanged:function(e,t){var r=t.key,n=t.value,a=t.additionalValues;o.props.dataChanged(r,n,a,l.id)},eventFunc:function(e){o.props.executeActions(n({},e,{modalId:l.id,callContext:l.callContext}))},getAdditionalDataForControl:this.props.additionalFetch.bind(this,function(){return e},l.id,t),hideControls:l.hideControls,readOnlyControls:l.readOnlyControls,readOnly:l.readOnly,uploadUrl:s.default.getState().settings.dataupload,downloadUrl:s.default.getState().settings.datadownload})}}]),v);function v(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,e));return t.state={},t}t.default=(0,c.connect)(null,function(a){var e=(0,f.mapDispatchToPropsFormBase)(a);return n({},e,{fetchFlow:function(e,t,r,n){a(p.default.form.fetchflow(e,t,r,n)).then(function(){var e=s.default.getState();a(p.default.form.fetchdata(null,t,e.app.modals.windows[r].name,r,n))})},fetchForm:function(e,t,r,n){a(p.default.form.fetchform(e,r)).then(function(){a(p.default.form.fetchdata(null,t,e,r,n))})}})})(m)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e};function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(0),l=d(o),i=r(9),u=d(r(65)),s=d(r(2)),c=r(5);function d(e){return e&&e.__esModule?e:{default:e}}var f=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,o.Component),n(p,[{key:"render",value:function(){if(!this.props.schemes)return null;var t=[];return this.props.schemes.forEach(function(e){return t.push({value:e,text:e})}),l.default.createElement(i.Modal,{open:!0},l.default.createElement(i.Modal.Header,null,u.default.getLocalized("workflowbar","selectscheme","Select scheme")),l.default.createElement(i.Modal.Content,null,l.default.createElement(i.Form.Group,null,l.default.createElement(i.Dropdown,{options:t,value:this.selectedOrDefault(),onChange:this.onChange,selection:!0,fluid:!0}))),l.default.createElement(i.Modal.Actions,null,l.default.createElement(i.Button,{className:"buttontype1",content:u.default.getLocalized("button","ok","OK"),onClick:this.confirm})))}}]),p);function p(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e));return n.confirm=function(){n.props.selectScheme(n.selectedOrDefault())},n.onChange=function(e,t){var r=t.value;n.setState({selected:r})},n.selectedOrDefault=function(){return n.state.selected?n.state.selected:n.props.schemes[0]},n.state={selected:null},n}t.default=(0,c.connect)(function(e){return e.app.schemeSelection?e.app.schemeSelection:{}},function(t){return{selectScheme:function(e){t(s.default.selectScheme(e))}}})(f)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={getLocalized:function(e,t,r){return window.DWKitAdminLang&&window.DWKitAdminLang[e]&&window.DWKitAdminLang[e][t]?window.DWKitAdminLang[e][t]:r}};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=r(0),i=h(l),u=r(5),s=h(r(1)),c=h(r(30)),d=r(11),f=h(r(2)),p=h(r(7));function h(e){return e&&e.__esModule?e:{default:e}}var m=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(v,l.Component),n(v,[{key:"componentDidMount",value:function(){this.RequestModelAndData()}},{key:"componentDidUpdate",value:function(e,t){this.RequestModelAndData()}},{key:"getMainFormKey",value:function(){return"mainform_"+this.state.flowName+"_"+this.props.filter}},{key:"RequestModelAndData",value:function(){this.state.needFetchFlow?(this.setState({needFetchFlow:!1}),this.props.fetchFlow(this.state.flowName,this.state.filter,"copy"===this.props.command)):this.state.needFetchData&&null!==this.props.formName&&(this.setState({needFetchData:!1}),this.props.fetchData(null,this.state.filter,this.props.formName,null,"copy"===this.props.command))}},{key:"render",value:function(){var e=a({},this.props);return e.getMainFormKey=this.getMainFormKey.bind(this),e.preventDrawMainform=!this.state.flowName||this.state.needFetchFlow,i.default.createElement(c.default,a({key:this.getMainFormKey()+"_flowcontent"},e))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r={},n=null===e.flowName?null:void 0===e.flowName?null:e.flowName.toLowerCase(),a=null!==t?void 0===t.flowName?null:t.flowName:null,o=void 0!==e.filter?e.filter:null,l=null!==t?t.filter:null,i=t?t.command:null;return r.flowName=n,r.command=e.command,n!==a?null!==n&&(r.needFetchFlow=!0,r.needFetchData=!0,r.filter=e.filter):o===l&&i===r.command||(r.filter=e.filter,r.needFetchData=!0),r}}]),v);function v(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}t.default=(0,u.connect)(function(e,t){var r=(0,d.mapStateToPropsBase)(e);return a({},r,{flowName:t.flowName?t.flowName:p.default.nameFromLocation(e.router.location,s.default.getState().settings.flow),formName:e.app.form.formParams.name})},function(n){var e=(0,d.mapDispatchToPropsFormBase)(n);return a({},e,{fetchFlow:function(e,t,r){n(f.default.form.clear()),n(f.default.form.fetchflow(e,t,null,r))}})})(m)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(r(68)),l=o(r(3)),a=r(4);o(r(1));function o(e){return e&&e.__esModule?e:{default:e}}var i={connection:null,Connect:function(o){null!==this.connection&&(this.connection.off("StateChange"),this.connection.stop());var e=(0,a.encodeQueryData)({}),t=o.getState().settings,r=t.backendUrl;r+=0<e.length?t.notificationhub+"?"+e:t.notificationhub,this.connection=(new n.HubConnectionBuilder).withUrl(r).build(),this.connection.on("StateChange",function(e){if(null!=e&&null!==e.path&&void 0!==e.path&&"string"==typeof e.path){for(var t=e.path.split("."),r={},n=r,a=0;a<t.length;a++)a===t.length-1?n[t[a]]=e.change:(n[t[a]]={},n=n[t[a]]);o.dispatch(l.default.updatestate(r))}}),this.connection.start()}};t.default=i},function(e,t){e.exports=L}],D.c=A,D.d=function(e,t,r){D.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},D.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},D.t=function(t,e){if(1&e&&(t=D(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(D.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)D.d(r,n,function(e){return t[e]}.bind(null,n));return r},D.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return D.d(t,"a",t),t},D.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},D.p="",D(D.s=31);function D(e){if(A[e])return A[e].exports;var t=A[e]={i:e,l:!1,exports:{}};return I[e].call(t.exports,t,t.exports,D),t.l=!0,t.exports}var I,A});